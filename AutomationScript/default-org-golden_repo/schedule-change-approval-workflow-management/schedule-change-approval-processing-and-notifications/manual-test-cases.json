[
  {
    "storyId": "story-8",
    "storyTitle": "As Approver, I want to request modifications on schedule change requests to ensure accuracy before approval",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate approver can request modifications with comments",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in with Approver role",
          "At least one pending schedule change request exists in the system",
          "Approver has permission to review and act on schedule change requests",
          "Schedule change request is in 'Pending Approval' status"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the schedule change requests approval queue",
            "expectedResult": "List of pending schedule change requests is displayed"
          },
          {
            "step": 2,
            "action": "Select a schedule change request to review",
            "expectedResult": "Schedule change request details page opens with all request information visible"
          },
          {
            "step": 3,
            "action": "Click on 'Request Modifications' button",
            "expectedResult": "Comment input field is displayed with mandatory indicator (asterisk or 'required' label)"
          },
          {
            "step": 4,
            "action": "Enter detailed comments in the comment field explaining required changes (e.g., 'Please adjust the shift end time to 5:00 PM instead of 6:00 PM')",
            "expectedResult": "Comments are accepted and displayed in the input field"
          },
          {
            "step": 5,
            "action": "Click 'Submit' button to submit the modification request",
            "expectedResult": "Modification request is saved successfully, confirmation message is displayed, and scheduler receives notification"
          },
          {
            "step": 6,
            "action": "Verify the request status has changed to 'Modifications Requested'",
            "expectedResult": "Request status is updated to 'Modifications Requested' in the system"
          }
        ],
        "postconditions": [
          "Modification request is recorded in the approval workflow history",
          "Scheduler receives notification about the modification request",
          "Request status is changed to 'Modifications Requested'",
          "Approver comments are stored and visible in request history"
        ],
        "estimatedTime": "5 mins"
      },
      {
        "id": "tc-002",
        "title": "Verify scheduler receives notification and can edit request",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in with Scheduler role",
          "Scheduler has previously submitted a schedule change request",
          "Approver has requested modifications on the scheduler's request",
          "Notification system is operational",
          "Scheduler has valid email address and in-app notification access"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Check scheduler's notification inbox (email and in-app)",
            "expectedResult": "Modification request notification is received by the scheduler"
          },
          {
            "step": 2,
            "action": "Open the modification request notification",
            "expectedResult": "Notification displays approver's comments detailing required changes and contains a clickable link to edit the request"
          },
          {
            "step": 3,
            "action": "Click on the link to edit the request in the notification",
            "expectedResult": "System navigates to the schedule change request edit page with current request details pre-populated"
          },
          {
            "step": 4,
            "action": "Review approver's modification comments displayed on the edit page",
            "expectedResult": "Approver's comments are clearly visible on the edit page"
          },
          {
            "step": 5,
            "action": "Make necessary changes to the schedule change request based on approver's comments",
            "expectedResult": "Changes are accepted and reflected in the form fields"
          },
          {
            "step": 6,
            "action": "Click 'Resubmit' button to resubmit the updated request",
            "expectedResult": "Updated request is saved successfully and confirmation message is displayed"
          },
          {
            "step": 7,
            "action": "Verify the request status has changed back to 'Pending Approval'",
            "expectedResult": "Request status is updated to 'Pending Approval' and workflow resumes with the updated request"
          }
        ],
        "postconditions": [
          "Updated schedule change request is saved in the system",
          "Request status is changed to 'Pending Approval'",
          "Approver receives notification of resubmission",
          "Modification history is tracked in the workflow",
          "Original and updated request details are preserved in history"
        ],
        "estimatedTime": "7 mins"
      },
      {
        "id": "tc-003",
        "title": "Test validation prevents empty comments on modification request",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in with Approver role",
          "At least one pending schedule change request exists in the system",
          "Approver has permission to review and act on schedule change requests",
          "Schedule change request is in 'Pending Approval' status"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the schedule change requests approval queue",
            "expectedResult": "List of pending schedule change requests is displayed"
          },
          {
            "step": 2,
            "action": "Select a schedule change request to review",
            "expectedResult": "Schedule change request details page opens"
          },
          {
            "step": 3,
            "action": "Click on 'Request Modifications' button",
            "expectedResult": "Comment input field is displayed with mandatory indicator"
          },
          {
            "step": 4,
            "action": "Leave the comment field empty (do not enter any text)",
            "expectedResult": "Comment field remains empty"
          },
          {
            "step": 5,
            "action": "Click 'Submit' button to attempt submission without comments",
            "expectedResult": "System blocks the submission and displays validation error message (e.g., 'Comments are required for modification requests')"
          },
          {
            "step": 6,
            "action": "Verify that the modification request was not saved",
            "expectedResult": "Request status remains 'Pending Approval' and no modification request is recorded"
          },
          {
            "step": 7,
            "action": "Verify that no notification was sent to the scheduler",
            "expectedResult": "Scheduler does not receive any notification about modification request"
          }
        ],
        "postconditions": [
          "Modification request is not saved in the system",
          "Request status remains unchanged at 'Pending Approval'",
          "No notification is sent to the scheduler",
          "Error message is displayed to the approver",
          "Approver remains on the modification request page"
        ],
        "estimatedTime": "4 mins"
      }
    ]
  },
  {
    "storyId": "story-10",
    "storyTitle": "As Scheduler, I want to receive notifications about approval decisions on my schedule change requests to stay informed",
    "testCases": [
      {
        "id": "tc-004",
        "title": "Validate notification delivery upon approval decision",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Scheduler user is logged in and has submitted a schedule change request",
          "Approver user is logged in with approval permissions",
          "Schedule change request is in 'Pending Approval' status",
          "Notification system is operational and configured",
          "Scheduler has valid email address registered in the system",
          "System time synchronization is accurate for measuring 1-minute delivery SLA"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Approver navigates to the schedule change request approval queue",
            "expectedResult": "Pending schedule change requests are displayed"
          },
          {
            "step": 2,
            "action": "Approver selects the scheduler's schedule change request",
            "expectedResult": "Request details are displayed with approval action options"
          },
          {
            "step": 3,
            "action": "Approver clicks 'Approve' button and confirms the approval",
            "expectedResult": "Request is approved and confirmation message is displayed"
          },
          {
            "step": 4,
            "action": "Note the timestamp of approval action",
            "expectedResult": "Current timestamp is recorded for SLA verification"
          },
          {
            "step": 5,
            "action": "Wait and monitor for notification delivery (check within 1 minute)",
            "expectedResult": "Notification is sent to scheduler via email and in-app alert within 1 minute of approval"
          },
          {
            "step": 6,
            "action": "Scheduler checks email inbox and in-app notification center",
            "expectedResult": "Notification is received in both email and in-app notification center"
          },
          {
            "step": 7,
            "action": "Scheduler opens the notification",
            "expectedResult": "Notification displays approval decision details including approver name, approval timestamp, and any comments"
          },
          {
            "step": 8,
            "action": "Click on the dashboard link provided in the notification",
            "expectedResult": "System navigates to the schedule change request dashboard showing the approved request with updated status"
          }
        ],
        "postconditions": [
          "Notification is delivered within 1-minute SLA",
          "Notification is recorded in notification history",
          "Request status is updated to 'Approved'",
          "Scheduler is informed of the approval decision",
          "Dashboard reflects the approved status"
        ],
        "estimatedTime": "6 mins"
      },
      {
        "id": "tc-005",
        "title": "Verify notifications are restricted to requestor",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "Scheduler A is logged in and has submitted a schedule change request",
          "Scheduler B is logged in as a different scheduler user",
          "Approver has acted on Scheduler A's request (approved, rejected, or requested modifications)",
          "Notification has been sent to Scheduler A",
          "Both schedulers have access to the system"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Log in as Scheduler B (different user from the original requestor)",
            "expectedResult": "Scheduler B is successfully logged into the system"
          },
          {
            "step": 2,
            "action": "Navigate to the notification center as Scheduler B",
            "expectedResult": "Notification center opens showing only Scheduler B's notifications"
          },
          {
            "step": 3,
            "action": "Search or browse for notifications related to Scheduler A's schedule change request",
            "expectedResult": "No notifications related to Scheduler A's request are visible to Scheduler B"
          },
          {
            "step": 4,
            "action": "Attempt to access Scheduler A's notification directly using URL manipulation (if applicable)",
            "expectedResult": "Access is denied with appropriate error message (e.g., '403 Forbidden' or 'Access Denied')"
          },
          {
            "step": 5,
            "action": "Check Scheduler B's email inbox for any notifications about Scheduler A's request",
            "expectedResult": "No emails related to Scheduler A's schedule change request are present in Scheduler B's inbox"
          },
          {
            "step": 6,
            "action": "Log out and log back in as Scheduler A (original requestor)",
            "expectedResult": "Scheduler A is successfully logged in"
          },
          {
            "step": 7,
            "action": "Navigate to notification center as Scheduler A",
            "expectedResult": "Notification about the approval decision on Scheduler A's request is visible and accessible"
          }
        ],
        "postconditions": [
          "Notifications remain restricted to the original requestor only",
          "Security and privacy of notifications are maintained",
          "Unauthorized access attempts are blocked and logged",
          "Scheduler A can still access their own notifications"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-006",
        "title": "Test notification content accuracy",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Scheduler is logged in and has submitted a schedule change request",
          "Approver is logged in with approval permissions",
          "Schedule change request is in 'Pending Approval' status",
          "Notification system is operational",
          "Scheduler has valid email address and in-app notification access"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Approver navigates to the schedule change request approval queue",
            "expectedResult": "Pending schedule change requests are displayed"
          },
          {
            "step": 2,
            "action": "Approver selects the scheduler's schedule change request",
            "expectedResult": "Request details are displayed"
          },
          {
            "step": 3,
            "action": "Approver clicks 'Request Modifications' button",
            "expectedResult": "Comment input field is displayed"
          },
          {
            "step": 4,
            "action": "Approver enters specific modification comments (e.g., 'Please change shift start time from 8:00 AM to 9:00 AM and provide justification for the change')",
            "expectedResult": "Comments are entered and displayed in the input field"
          },
          {
            "step": 5,
            "action": "Approver submits the modification request",
            "expectedResult": "Modification request is submitted successfully and confirmation is displayed"
          },
          {
            "step": 6,
            "action": "Scheduler checks email and in-app notifications within 1 minute",
            "expectedResult": "Notification is received via both email and in-app alert"
          },
          {
            "step": 7,
            "action": "Scheduler opens the notification and reviews the content",
            "expectedResult": "Notification includes the decision type ('Modification Requested'), approver's name, timestamp, and the exact comments entered by the approver"
          },
          {
            "step": 8,
            "action": "Verify that the modification comments match exactly what the approver entered",
            "expectedResult": "Comments displayed in notification match: 'Please change shift start time from 8:00 AM to 9:00 AM and provide justification for the change'"
          },
          {
            "step": 9,
            "action": "Verify that notification includes a link to the schedule change request",
            "expectedResult": "Clickable link to the request dashboard is present in the notification"
          },
          {
            "step": 10,
            "action": "Click the link in the notification",
            "expectedResult": "System navigates to the schedule change request page with modification details and comments visible"
          }
        ],
        "postconditions": [
          "Notification content accurately reflects the modification request details",
          "All approver comments are preserved and displayed correctly",
          "Scheduler has complete information needed to address the modification request",
          "Notification is logged in notification history with accurate content"
        ],
        "estimatedTime": "7 mins"
      }
    ]
  }
]