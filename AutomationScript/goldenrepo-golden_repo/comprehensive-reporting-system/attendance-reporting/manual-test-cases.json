[
  {
    "storyId": "story-9",
    "storyTitle": "As HR Specialist, I want to schedule automated attendance report generation to ensure timely distribution",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Create and save attendance report schedule",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in as an authorized HR Specialist",
          "User has access to attendance report scheduling features",
          "Attendance data exists in the system",
          "At least one valid recipient email address is available",
          "Network connectivity is stable"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the attendance reports section from the main dashboard",
            "expectedResult": "Attendance reports page is displayed with scheduling options visible"
          },
          {
            "step": 2,
            "action": "Click on 'Schedule Report' or 'Create Schedule' button",
            "expectedResult": "Scheduling interface is displayed with empty form fields for schedule configuration"
          },
          {
            "step": 3,
            "action": "Enter a descriptive name for the scheduled report (e.g., 'Weekly Attendance Summary')",
            "expectedResult": "Report name is accepted and displayed in the name field"
          },
          {
            "step": 4,
            "action": "Select report frequency from dropdown (Daily, Weekly, or Monthly)",
            "expectedResult": "Selected frequency is displayed and appropriate additional fields appear (e.g., day of week for weekly, date for monthly)"
          },
          {
            "step": 5,
            "action": "Set the time for report generation (e.g., 08:00 AM)",
            "expectedResult": "Time is accepted and displayed in the time field in correct format"
          },
          {
            "step": 6,
            "action": "Select the start date for the schedule",
            "expectedResult": "Calendar picker opens, selected date is accepted and displayed"
          },
          {
            "step": 7,
            "action": "Enter recipient email addresses in the recipients field (e.g., hr@company.com, manager@company.com)",
            "expectedResult": "Email addresses are validated and displayed as tags or comma-separated list"
          },
          {
            "step": 8,
            "action": "Select report format (PDF, Excel, CSV) from available options",
            "expectedResult": "Selected format is highlighted and saved in the configuration"
          },
          {
            "step": 9,
            "action": "Review all entered schedule parameters on the form",
            "expectedResult": "All parameters are correctly displayed with no validation errors"
          },
          {
            "step": 10,
            "action": "Click 'Save Schedule' or 'Create Schedule' button",
            "expectedResult": "Success message is displayed (e.g., 'Schedule created successfully'), schedule appears in the list of scheduled reports with status 'Active'"
          },
          {
            "step": 11,
            "action": "Verify the schedule details in the scheduled reports list",
            "expectedResult": "New schedule is visible with correct name, frequency, time, recipients, and next execution date/time"
          }
        ],
        "postconditions": [
          "New attendance report schedule is saved in the system",
          "Schedule status is set to 'Active'",
          "Schedule appears in the list of scheduled reports",
          "System has queued the schedule for automated execution",
          "Audit log entry is created for schedule creation"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-002",
        "title": "Verify automated report delivery",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "A valid attendance report schedule has been created and saved",
          "Schedule is in 'Active' status",
          "Schedule is configured to run within the next few minutes for testing purposes",
          "Recipient email addresses are valid and accessible for verification",
          "Attendance data exists for the reporting period",
          "Email service is configured and operational",
          "User has access to recipient email inbox or email logs"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Note the scheduled execution time from the scheduled reports list",
            "expectedResult": "Next execution time is clearly displayed (e.g., 'Next run: 2024-01-15 08:00 AM')"
          },
          {
            "step": 2,
            "action": "Wait for the scheduled report generation time to arrive (monitor the system clock)",
            "expectedResult": "System time reaches the scheduled execution time"
          },
          {
            "step": 3,
            "action": "Refresh the scheduled reports page after the scheduled time has passed",
            "expectedResult": "Schedule status shows 'Last run' timestamp updated to the recent execution time, 'Next run' shows the next scheduled time"
          },
          {
            "step": 4,
            "action": "Navigate to the execution logs or report history section",
            "expectedResult": "Execution log entry is created showing successful report generation with timestamp and status 'Success'"
          },
          {
            "step": 5,
            "action": "Access the email inbox of the first configured recipient",
            "expectedResult": "Email inbox is accessible and displays list of received emails"
          },
          {
            "step": 6,
            "action": "Search for the attendance report email by subject line or sender",
            "expectedResult": "Attendance report email is found in the inbox with correct subject line (e.g., 'Weekly Attendance Summary - [Date]')"
          },
          {
            "step": 7,
            "action": "Open the attendance report email",
            "expectedResult": "Email opens successfully, displays professional formatting with report details in body or as attachment"
          },
          {
            "step": 8,
            "action": "Verify email contains the report attachment in the configured format",
            "expectedResult": "Report file is attached with correct format (PDF/Excel/CSV) and appropriate filename (e.g., 'Attendance_Report_2024-01-15.pdf')"
          },
          {
            "step": 9,
            "action": "Download and open the attached attendance report file",
            "expectedResult": "File downloads successfully and opens without errors in appropriate application"
          },
          {
            "step": 10,
            "action": "Review report content including headers, employee names, attendance dates, and status columns",
            "expectedResult": "Report displays complete and accurate attendance data with proper formatting, all expected columns are present"
          },
          {
            "step": 11,
            "action": "Verify report data matches the scheduled reporting period",
            "expectedResult": "Report date range matches the configured schedule (e.g., last 7 days for weekly report)"
          },
          {
            "step": 12,
            "action": "Cross-reference sample attendance records in the report with source data in the system",
            "expectedResult": "Report data matches system records exactly with no discrepancies in attendance status, dates, or employee information"
          },
          {
            "step": 13,
            "action": "Check email inbox of additional recipients (if multiple recipients configured)",
            "expectedResult": "All configured recipients have received the attendance report email with identical content"
          }
        ],
        "postconditions": [
          "Attendance report is successfully generated",
          "Report is delivered to all configured recipients via email",
          "Execution log shows successful completion with timestamp",
          "Schedule remains active for next execution",
          "Next execution time is updated in the schedule",
          "Report data is accurate and complete",
          "System audit log records the automated execution"
        ],
        "estimatedTime": "15 mins"
      }
    ]
  }
]