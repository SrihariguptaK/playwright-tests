[
  {
    "storyId": "story-13",
    "storyTitle": "As Scheduler, I want to receive real-time UI notifications for scheduling conflicts to act promptly",
    "testCases": [
      {
        "id": "tc-13-001",
        "title": "Verify UI notification displays within 5 seconds when scheduling conflict is detected",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Scheduler is logged into the system",
          "Scheduler has valid permissions to create/update appointments",
          "At least one appointment exists in the system",
          "System time is synchronized"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the appointment scheduling page",
            "expectedResult": "Scheduling page loads successfully with calendar view"
          },
          {
            "step": 2,
            "action": "Note the current system time",
            "expectedResult": "Current time is recorded for notification timing verification"
          },
          {
            "step": 3,
            "action": "Create a new appointment that overlaps with an existing appointment (same resource, overlapping time slot)",
            "expectedResult": "Appointment creation form accepts the conflicting data"
          },
          {
            "step": 4,
            "action": "Click 'Save' or 'Submit' button to save the appointment",
            "expectedResult": "System processes the appointment and detects the conflict"
          },
          {
            "step": 5,
            "action": "Observe the UI and note the time when notification appears",
            "expectedResult": "A conflict notification appears in the UI within 5 seconds showing conflict details including affected appointments, resources, and time slots"
          },
          {
            "step": 6,
            "action": "Review the notification content",
            "expectedResult": "Notification displays detailed information: conflict type, affected appointment IDs, resource names, conflicting time ranges, and conflict description"
          }
        ],
        "postconditions": [
          "Conflict notification is visible in the UI",
          "Conflicting appointments are highlighted in the schedule",
          "Notification remains visible until acknowledged",
          "System logs the conflict detection and notification event"
        ],
        "estimatedTime": "7 mins"
      },
      {
        "id": "tc-13-002",
        "title": "Verify multiple simultaneous conflict notifications display without UI degradation",
        "type": "edge-case",
        "priority": "High",
        "preconditions": [
          "Scheduler is logged into the system",
          "Multiple appointments exist in the system",
          "System has capacity to detect multiple conflicts simultaneously"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the bulk appointment import or batch scheduling feature",
            "expectedResult": "Bulk scheduling interface loads successfully"
          },
          {
            "step": 2,
            "action": "Create or import 5-10 appointments simultaneously that each create different conflicts (resource conflicts, room conflicts, time conflicts)",
            "expectedResult": "System accepts the batch of appointments for processing"
          },
          {
            "step": 3,
            "action": "Submit all appointments at once",
            "expectedResult": "System processes all appointments and detects multiple conflicts"
          },
          {
            "step": 4,
            "action": "Observe the UI notification area",
            "expectedResult": "Multiple conflict notifications appear within 5 seconds, each displaying distinct conflict information"
          },
          {
            "step": 5,
            "action": "Verify UI responsiveness by scrolling through notifications and clicking on different UI elements",
            "expectedResult": "UI remains responsive with no lag, freezing, or performance degradation. All notifications are readable and accessible"
          },
          {
            "step": 6,
            "action": "Click on each notification to view detailed conflict information",
            "expectedResult": "Each notification opens its respective conflict details without interfering with other notifications"
          },
          {
            "step": 7,
            "action": "Check the appointment calendar view",
            "expectedResult": "All conflicting appointments are highlighted appropriately with visual indicators"
          }
        ],
        "postconditions": [
          "All conflict notifications are visible and stacked/organized properly",
          "UI performance is not degraded",
          "All conflicting appointments remain highlighted",
          "Notifications remain until individually acknowledged"
        ],
        "estimatedTime": "10 mins"
      },
      {
        "id": "tc-13-003",
        "title": "Verify conflict notification remains visible and accessible until acknowledged by user",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Scheduler is logged into the system",
          "At least one appointment exists that can create a conflict"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the appointment scheduling page",
            "expectedResult": "Scheduling page loads successfully"
          },
          {
            "step": 2,
            "action": "Create an appointment that conflicts with an existing appointment",
            "expectedResult": "Conflict is detected and notification appears within 5 seconds"
          },
          {
            "step": 3,
            "action": "Wait 30 seconds without interacting with the notification",
            "expectedResult": "Notification remains visible on screen without auto-dismissing"
          },
          {
            "step": 4,
            "action": "Navigate to a different page within the application (e.g., dashboard, reports)",
            "expectedResult": "Notification indicator remains visible (e.g., notification badge, alert icon)"
          },
          {
            "step": 5,
            "action": "Return to the scheduling page",
            "expectedResult": "Original conflict notification is still visible and accessible"
          },
          {
            "step": 6,
            "action": "Click the 'Acknowledge' or 'Dismiss' button on the notification",
            "expectedResult": "Notification is dismissed and removed from the UI"
          },
          {
            "step": 7,
            "action": "Refresh the page",
            "expectedResult": "Acknowledged notification does not reappear"
          }
        ],
        "postconditions": [
          "Notification is marked as acknowledged in the system",
          "Notification is removed from active notifications list",
          "Conflict data remains accessible in conflict history/logs"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-13-004",
        "title": "Verify notification provides quick access to detailed conflict information and affected appointments",
        "type": "happy-path",
        "priority": "Medium",
        "preconditions": [
          "Scheduler is logged into the system",
          "Two appointments exist with the same resource assignment at overlapping times"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Create a third appointment that conflicts with the existing appointments (resource conflict)",
            "expectedResult": "System detects the conflict and displays notification within 5 seconds"
          },
          {
            "step": 2,
            "action": "Review the notification summary information",
            "expectedResult": "Notification displays: conflict type, number of affected appointments, primary resource involved, and time range"
          },
          {
            "step": 3,
            "action": "Click on 'View Details' or the notification body to expand",
            "expectedResult": "Detailed conflict view opens showing complete information for all affected appointments including appointment IDs, patient/client names, resources, rooms, times, and specific conflict descriptions"
          },
          {
            "step": 4,
            "action": "Click on one of the affected appointment links within the notification",
            "expectedResult": "System navigates directly to the appointment details page or opens the appointment in edit mode"
          },
          {
            "step": 5,
            "action": "Return to the notification and verify all conflicting appointments are highlighted in the calendar view",
            "expectedResult": "All appointments involved in the conflict are visually highlighted with a distinct color or border in the calendar"
          },
          {
            "step": 6,
            "action": "Check if notification categorizes conflict type (resource, room, equipment, time)",
            "expectedResult": "Conflict type is clearly labeled and color-coded in the notification"
          }
        ],
        "postconditions": [
          "Conflict details are accessible",
          "Affected appointments remain highlighted",
          "Navigation to conflict resolution is seamless"
        ],
        "estimatedTime": "9 mins"
      },
      {
        "id": "tc-13-005",
        "title": "Verify notification behavior when network connection is temporarily lost during conflict detection",
        "type": "error-case",
        "priority": "Medium",
        "preconditions": [
          "Scheduler is logged into the system",
          "Browser developer tools are available to simulate network conditions",
          "At least one appointment exists in the system"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Open browser developer tools and navigate to Network tab",
            "expectedResult": "Network monitoring tools are active"
          },
          {
            "step": 2,
            "action": "Navigate to the appointment scheduling page",
            "expectedResult": "Scheduling page loads successfully"
          },
          {
            "step": 3,
            "action": "Begin creating a conflicting appointment but do not save yet",
            "expectedResult": "Appointment form is filled with conflicting data"
          },
          {
            "step": 4,
            "action": "Simulate network disconnection using browser tools (set to 'Offline' mode)",
            "expectedResult": "Network connection is blocked"
          },
          {
            "step": 5,
            "action": "Click 'Save' button to submit the appointment",
            "expectedResult": "System attempts to save but fails due to network issue. Error message appears indicating connection problem"
          },
          {
            "step": 6,
            "action": "Re-enable network connection (set to 'Online' mode)",
            "expectedResult": "Network connection is restored"
          },
          {
            "step": 7,
            "action": "Click 'Save' button again or observe if system auto-retries",
            "expectedResult": "System successfully processes the appointment, detects conflict, and displays notification within 5 seconds of successful connection"
          },
          {
            "step": 8,
            "action": "Verify notification content is complete and accurate",
            "expectedResult": "Notification displays all required conflict information without data loss"
          }
        ],
        "postconditions": [
          "Conflict notification appears after connection restoration",
          "No data corruption or incomplete notifications",
          "System logs the connection issue and recovery"
        ],
        "estimatedTime": "12 mins"
      }
    ]
  },
  {
    "storyId": "story-14",
    "storyTitle": "As Scheduler, I want to receive email alerts for scheduling conflicts to stay informed when away from the system",
    "testCases": [
      {
        "id": "tc-14-001",
        "title": "Verify email alert is sent within 5 seconds when scheduling conflict is detected",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Scheduler account has a valid email address configured",
          "Email alert preferences are enabled in scheduler profile",
          "SMTP service is operational",
          "At least one appointment exists in the system",
          "Test email inbox is accessible for verification"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Log into the scheduling system and verify scheduler email address in profile settings",
            "expectedResult": "Profile shows valid email address: scheduler@example.com"
          },
          {
            "step": 2,
            "action": "Note the current system time with seconds precision",
            "expectedResult": "Current time is recorded (e.g., 10:30:15 AM)"
          },
          {
            "step": 3,
            "action": "Create a new appointment that conflicts with an existing appointment (same resource, overlapping time)",
            "expectedResult": "Appointment is saved and conflict is detected by the system"
          },
          {
            "step": 4,
            "action": "Immediately check the test email inbox and note the email receipt timestamp",
            "expectedResult": "Email alert arrives within 5 seconds of conflict detection (by 10:30:20 AM)"
          },
          {
            "step": 5,
            "action": "Open the email and verify the subject line",
            "expectedResult": "Email subject clearly indicates scheduling conflict (e.g., 'Scheduling Conflict Alert - [Date/Time]')"
          },
          {
            "step": 6,
            "action": "Review email body content for required information",
            "expectedResult": "Email contains: appointment times, resource names, patient/client information, conflict description, conflicting appointment IDs, and link to resolve conflict"
          },
          {
            "step": 7,
            "action": "Verify email formatting and readability",
            "expectedResult": "Email is properly formatted with clear sections, readable fonts, and no broken HTML elements"
          }
        ],
        "postconditions": [
          "Email alert is successfully delivered",
          "Email delivery is logged in the system",
          "Email contains accurate conflict information",
          "Scheduler can take action from email information"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-14-002",
        "title": "Verify email includes comprehensive conflict details with appointment times, resources, and descriptions",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Scheduler account has valid email configured",
          "Email alerts are enabled",
          "Multiple appointments exist with detailed information (patients, resources, rooms, equipment)"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Create a complex scheduling conflict involving multiple resources (e.g., doctor, room, and equipment all conflicting)",
            "expectedResult": "System detects multi-resource conflict"
          },
          {
            "step": 2,
            "action": "Wait for and retrieve the email alert from inbox",
            "expectedResult": "Email arrives within 5 seconds"
          },
          {
            "step": 3,
            "action": "Verify email contains appointment times section",
            "expectedResult": "Email displays: Original appointment time (e.g., 2:00 PM - 3:00 PM), Conflicting appointment time (e.g., 2:30 PM - 3:30 PM), and overlap period highlighted"
          },
          {
            "step": 4,
            "action": "Verify email contains resource information section",
            "expectedResult": "Email lists all conflicting resources: Resource type (Doctor, Room, Equipment), Resource name/ID, and availability status"
          },
          {
            "step": 5,
            "action": "Verify email contains conflict description section",
            "expectedResult": "Email provides: Clear description of conflict type, Severity level if applicable, and recommended actions or resolution options"
          },
          {
            "step": 6,
            "action": "Verify email contains appointment details",
            "expectedResult": "Email shows: Appointment IDs, Patient/client names (if permitted by privacy settings), Service types, and duration of each appointment"
          },
          {
            "step": 7,
            "action": "Check for actionable links in the email",
            "expectedResult": "Email contains clickable links to: View full conflict details, Access scheduler system, and resolve conflict directly"
          }
        ],
        "postconditions": [
          "All required conflict information is present in email",
          "Email provides sufficient detail for scheduler to take action",
          "Links in email are functional"
        ],
        "estimatedTime": "10 mins"
      },
      {
        "id": "tc-14-003",
        "title": "Verify scheduler can configure email alert preferences in profile settings",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Scheduler is logged into the system",
          "Scheduler has access to profile/settings page",
          "Test email addresses are available for verification"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to profile settings or preferences page",
            "expectedResult": "Settings page loads showing Email Alert Preferences section"
          },
          {
            "step": 2,
            "action": "Locate email alert configuration options",
            "expectedResult": "Page displays options including: Enable/disable email alerts toggle, Email address field, Conflict types to alert for (checkboxes), and Alert frequency preferences"
          },
          {
            "step": 3,
            "action": "Update email address to a new test email address",
            "expectedResult": "Email field accepts valid email format and saves successfully"
          },
          {
            "step": 4,
            "action": "Configure conflict type preferences by selecting specific types (e.g., only resource conflicts, not room conflicts)",
            "expectedResult": "Checkboxes for conflict types can be selected/deselected and preferences are saved"
          },
          {
            "step": 5,
            "action": "Set alert frequency preference (e.g., immediate, batched hourly, daily summary)",
            "expectedResult": "Frequency option is saved successfully"
          },
          {
            "step": 6,
            "action": "Click 'Save' or 'Update Preferences' button",
            "expectedResult": "System displays success message: 'Email preferences updated successfully'"
          },
          {
            "step": 7,
            "action": "Create a conflict matching the selected preferences",
            "expectedResult": "Email is sent to the new email address according to configured preferences"
          },
          {
            "step": 8,
            "action": "Create a conflict NOT matching the selected preferences (e.g., room conflict when only resource conflicts are enabled)",
            "expectedResult": "No email is sent for the filtered conflict type"
          },
          {
            "step": 9,
            "action": "Disable email alerts completely using the toggle",
            "expectedResult": "Toggle switches to 'Off' and setting is saved"
          },
          {
            "step": 10,
            "action": "Create another conflict",
            "expectedResult": "No email alert is sent when alerts are disabled"
          }
        ],
        "postconditions": [
          "Email preferences are saved in scheduler profile",
          "System respects configured preferences for future conflicts",
          "Changes take effect immediately"
        ],
        "estimatedTime": "12 mins"
      },
      {
        "id": "tc-14-004",
        "title": "Verify system logs email delivery status and errors for failed deliveries",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "Scheduler has admin or appropriate access to view email delivery logs",
          "System has logging functionality enabled",
          "Test email address can be set to invalid format"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to system logs or email delivery status page",
            "expectedResult": "Logs page loads showing email delivery records"
          },
          {
            "step": 2,
            "action": "Update scheduler profile with an invalid email address (e.g., 'invalid.email@')",
            "expectedResult": "System either validates and rejects invalid format, or accepts it for testing error handling"
          },
          {
            "step": 3,
            "action": "Create a scheduling conflict to trigger email alert",
            "expectedResult": "System attempts to send email to invalid address"
          },
          {
            "step": 4,
            "action": "Navigate back to email delivery logs within 1 minute",
            "expectedResult": "Log entry appears showing the email attempt"
          },
          {
            "step": 5,
            "action": "Review log entry details",
            "expectedResult": "Log contains: Timestamp of send attempt, Recipient email address, Conflict ID or reference, Delivery status: 'Failed', Error code and description (e.g., 'Invalid email format' or 'Delivery bounced'), and Retry attempt count"
          },
          {
            "step": 6,
            "action": "Update scheduler profile with valid email address",
            "expectedResult": "Email address is updated successfully"
          },
          {
            "step": 7,
            "action": "Create another conflict to trigger successful email",
            "expectedResult": "Email is sent successfully"
          },
          {
            "step": 8,
            "action": "Check logs for successful delivery",
            "expectedResult": "Log entry shows: Timestamp, Recipient, Conflict ID, Delivery status: 'Delivered' or 'Success', and SMTP response code"
          },
          {
            "step": 9,
            "action": "Test with non-existent domain email (e.g., 'test@nonexistentdomain12345.com')",
            "expectedResult": "System logs delivery failure with appropriate error message about domain not found"
          },
          {
            "step": 10,
            "action": "Verify logs are searchable and filterable by status, date, and recipient",
            "expectedResult": "Log interface provides search and filter functionality showing only relevant results"
          }
        ],
        "postconditions": [
          "All email delivery attempts are logged",
          "Errors are captured with detailed information",
          "Logs are accessible for troubleshooting",
          "System maintains audit trail of email communications"
        ],
        "estimatedTime": "15 mins"
      },
      {
        "id": "tc-14-005",
        "title": "Verify email delivery with 98% success rate under normal operating conditions",
        "type": "boundary",
        "priority": "Medium",
        "preconditions": [
          "Test environment has 50+ scheduler accounts with valid email addresses",
          "SMTP service is operational",
          "System can generate multiple conflicts simultaneously",
          "Email delivery logs are accessible"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Prepare 100 valid scheduler email addresses in the system",
            "expectedResult": "100 scheduler profiles exist with verified email addresses"
          },
          {
            "step": 2,
            "action": "Create a script or process to generate 100 different scheduling conflicts, each assigned to a different scheduler",
            "expectedResult": "System triggers 100 conflict detection events simultaneously or in rapid succession"
          },
          {
            "step": 3,
            "action": "Wait 1 minute for all email delivery attempts to complete",
            "expectedResult": "All emails have been processed by the system"
          },
          {
            "step": 4,
            "action": "Check email delivery logs and count successful deliveries",
            "expectedResult": "Logs show delivery status for all 100 email attempts"
          },
          {
            "step": 5,
            "action": "Calculate success rate: (Successful deliveries / Total attempts) * 100",
            "expectedResult": "Success rate is 98% or higher (98-100 out of 100 emails delivered)"
          },
          {
            "step": 6,
            "action": "Review any failed deliveries for root cause",
            "expectedResult": "Failed deliveries have legitimate reasons logged (temporary server issues, invalid addresses, etc.)"
          },
          {
            "step": 7,
            "action": "Verify all successful emails arrived within 5 seconds by checking timestamps",
            "expectedResult": "At least 95% of successfully delivered emails have timestamps within 5 seconds of conflict detection"
          },
          {
            "step": 8,
            "action": "Spot check 10 random received emails for content accuracy",
            "expectedResult": "All checked emails contain correct and complete conflict information"
          }
        ],
        "postconditions": [
          "Email delivery success rate meets or exceeds 98% threshold",
          "System performance is acceptable under high email volume",
          "All delivered emails meet quality standards",
          "Logs provide visibility into delivery metrics"
        ],
        "estimatedTime": "20 mins"
      }
    ]
  }
]