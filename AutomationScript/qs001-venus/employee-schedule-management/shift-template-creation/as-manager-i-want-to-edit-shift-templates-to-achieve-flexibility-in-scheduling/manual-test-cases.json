[
  {
    "storyId": "story-2",
    "storyTitle": "As Manager, I want to edit shift templates to achieve flexibility in scheduling.",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate successful editing of shift template",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in with Manager role credentials",
          "At least one shift template exists in the system",
          "User has permission to edit shift templates",
          "ShiftTemplates table is accessible in the database",
          "PUT /api/shift-templates/{id} endpoint is available"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template section from the main dashboard",
            "expectedResult": "Shift template list is displayed showing all existing templates with their details (name, start time, end time, break duration, assigned roles)"
          },
          {
            "step": 2,
            "action": "Select an existing template from the list by clicking on it",
            "expectedResult": "Template details are loaded and the editing interface is displayed with all current template information populated in editable fields"
          },
          {
            "step": 3,
            "action": "Modify shift start time by changing it to a new valid time",
            "expectedResult": "New start time is accepted and displayed in the input field"
          },
          {
            "step": 4,
            "action": "Modify shift end time by changing it to a new valid time that does not overlap with other shifts",
            "expectedResult": "New end time is accepted and displayed in the input field"
          },
          {
            "step": 5,
            "action": "Update break duration to a new valid duration",
            "expectedResult": "New break duration is accepted and displayed in the input field"
          },
          {
            "step": 6,
            "action": "Change the role assigned to the shift by selecting a different role from the dropdown",
            "expectedResult": "New role is selected and displayed in the role field"
          },
          {
            "step": 7,
            "action": "Click the 'Save' or 'Update' button to save the changes",
            "expectedResult": "System validates the changes, sends PUT request to /api/shift-templates/{id}, and displays a success message confirming 'Template updated successfully'"
          },
          {
            "step": 8,
            "action": "Navigate back to the shift template list",
            "expectedResult": "Updated template is displayed in the list with all modified details reflected correctly"
          }
        ],
        "postconditions": [
          "Shift template is updated in the ShiftTemplates table with new values",
          "Success message is displayed to the manager",
          "Updated template appears in the shift template list with modified details",
          "No overlapping shifts exist in the system",
          "Audit log records the template modification with timestamp and user details"
        ],
        "estimatedTime": "5 mins"
      },
      {
        "id": "tc-002",
        "title": "Ensure overlapping shift templates cannot be edited",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in with Manager role credentials",
          "Multiple shift templates exist in the system",
          "At least one shift template exists that could potentially overlap with another if edited",
          "User has permission to edit shift templates",
          "Validation rules for overlapping shifts are configured in the system",
          "PUT /api/shift-templates/{id} endpoint is available with overlap validation"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template section from the main dashboard",
            "expectedResult": "Shift template list is displayed showing all existing templates with their current time slots and details"
          },
          {
            "step": 2,
            "action": "Identify a template that can be edited to create an overlap with another existing template",
            "expectedResult": "Template is identified and available for selection"
          },
          {
            "step": 3,
            "action": "Select the identified template by clicking on it",
            "expectedResult": "Template details are loaded and the editing interface is displayed with all current template information populated in editable fields"
          },
          {
            "step": 4,
            "action": "Modify the shift start time to a time that would cause an overlap with another existing shift template",
            "expectedResult": "New start time is entered and displayed in the input field"
          },
          {
            "step": 5,
            "action": "Modify the shift end time to a time that would create an overlapping time range with another existing shift template",
            "expectedResult": "New end time is entered and displayed in the input field"
          },
          {
            "step": 6,
            "action": "Click the 'Save' or 'Update' button to attempt to save the changes",
            "expectedResult": "System validates the changes, detects the overlap conflict, and displays an error message such as 'Cannot update template: The specified time range overlaps with an existing shift template' or 'Overlapping shifts are not allowed'"
          },
          {
            "step": 7,
            "action": "Verify that the template remains in edit mode with the invalid changes still visible",
            "expectedResult": "Editing interface remains open with the attempted changes displayed, allowing the manager to correct the values"
          },
          {
            "step": 8,
            "action": "Navigate back to the shift template list without saving",
            "expectedResult": "Original template is displayed in the list with unchanged details, confirming no update was applied"
          }
        ],
        "postconditions": [
          "Shift template is NOT updated in the ShiftTemplates table",
          "Error message is displayed to the manager indicating overlap conflict",
          "Original template data remains unchanged in the database",
          "No overlapping shifts exist in the system",
          "Template list shows the original, unmodified template details",
          "System maintains data integrity by preventing invalid edits"
        ],
        "estimatedTime": "5 mins"
      }
    ]
  }
]