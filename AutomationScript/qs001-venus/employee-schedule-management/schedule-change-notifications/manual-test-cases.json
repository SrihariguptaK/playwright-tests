[
  {
    "storyId": "story-11",
    "storyTitle": "As Employee, I want to receive notifications of schedule changes to stay informed and avoid missed shifts",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate display of schedule change notifications on login",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Employee account exists and is active in the system",
          "Employee has valid login credentials",
          "At least one schedule change has been made for the employee within the last 24 hours",
          "Schedule change notification has been generated in ScheduleChangeNotifications table",
          "Employee has not yet logged in since the schedule change occurred",
          "Web application is accessible and running"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the schedule portal login page",
            "expectedResult": "Login page is displayed with username and password fields"
          },
          {
            "step": 2,
            "action": "Enter valid employee credentials (username and password)",
            "expectedResult": "Credentials are accepted and login button is enabled"
          },
          {
            "step": 3,
            "action": "Click the login button",
            "expectedResult": "Employee is successfully authenticated and redirected to the main dashboard"
          },
          {
            "step": 4,
            "action": "Observe the notification area on the dashboard",
            "expectedResult": "New schedule change notifications are displayed prominently in a notification panel or banner with visual indicators (e.g., badge count, highlighted section)"
          },
          {
            "step": 5,
            "action": "Review the notification content",
            "expectedResult": "Notification displays complete details including change type (new/updated/canceled), date of change, shift date, shift time, and any relevant shift information"
          },
          {
            "step": 6,
            "action": "Click on the notification to view full details",
            "expectedResult": "Notification expands or opens to show comprehensive information about the schedule change"
          },
          {
            "step": 7,
            "action": "Click the acknowledge button or mark as read option on the notification",
            "expectedResult": "Notification is marked as read, visual indicator changes (e.g., color change, opacity reduction), and notification is removed from the new notifications list"
          },
          {
            "step": 8,
            "action": "Verify the notification counter or badge",
            "expectedResult": "Notification count decreases by one and updates in real-time"
          },
          {
            "step": 9,
            "action": "Refresh the page or navigate away and return to dashboard",
            "expectedResult": "Previously acknowledged notification remains marked as read and does not reappear in new notifications"
          }
        ],
        "postconditions": [
          "Employee remains logged into the system",
          "Notification is marked as read in the database",
          "Notification is moved from unread to read status",
          "Employee is aware of the schedule change",
          "Notification history is updated with acknowledgment timestamp"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-002",
        "title": "Verify notification history accessibility",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Employee is logged into the schedule portal",
          "Employee has received multiple schedule change notifications over time (at least 5 historical notifications)",
          "Some notifications are marked as read and some as unread",
          "Notification history feature is enabled in the system",
          "Employee has proper permissions to access notification history"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Locate the notification icon or menu in the navigation bar",
            "expectedResult": "Notification icon is visible with current unread notification count displayed"
          },
          {
            "step": 2,
            "action": "Click on the notification icon or menu",
            "expectedResult": "Notification dropdown or panel opens showing recent notifications"
          },
          {
            "step": 3,
            "action": "Locate and click on 'View All Notifications' or 'Notification History' link",
            "expectedResult": "System navigates to the notification history page"
          },
          {
            "step": 4,
            "action": "Observe the notification history page layout",
            "expectedResult": "Page displays a comprehensive list of all past notifications in chronological order (newest first)"
          },
          {
            "step": 5,
            "action": "Verify the details displayed for each notification entry",
            "expectedResult": "Each notification shows accurate details including: change type (new/updated/canceled), shift date, shift time, notification timestamp, read/unread status, and any additional shift information"
          },
          {
            "step": 6,
            "action": "Check the visual distinction between read and unread notifications",
            "expectedResult": "Read and unread notifications are clearly differentiated through visual styling (e.g., bold text for unread, different background colors)"
          },
          {
            "step": 7,
            "action": "Scroll through the notification history list",
            "expectedResult": "All historical notifications are accessible and properly paginated or infinitely scrollable"
          },
          {
            "step": 8,
            "action": "Click on a specific historical notification to view full details",
            "expectedResult": "Notification expands or opens a detail view showing complete information about that specific schedule change"
          },
          {
            "step": 9,
            "action": "Verify the timestamp accuracy of notifications",
            "expectedResult": "Each notification displays the correct date and time when the schedule change occurred and when the notification was generated"
          },
          {
            "step": 10,
            "action": "Apply any available filters (if present) such as date range or notification type",
            "expectedResult": "Notification list filters correctly based on selected criteria"
          }
        ],
        "postconditions": [
          "Employee remains on the notification history page or returns to dashboard",
          "All notification data remains intact and unchanged",
          "Notification history is available for future reference",
          "No notifications are lost or corrupted"
        ],
        "estimatedTime": "10 mins"
      },
      {
        "id": "tc-003",
        "title": "Test access control for notifications",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "Two employee accounts exist in the system: Employee A and Employee B",
          "Employee A is logged into the schedule portal",
          "Employee B has schedule change notifications in the system",
          "Access control and authorization mechanisms are properly configured",
          "API endpoint security is enabled",
          "Employee A does not have administrative privileges"
        ],
        "steps": [
          {
            "step": 1,
            "action": "As Employee A, navigate to the notification history page",
            "expectedResult": "Employee A's notification history page loads successfully showing only their own notifications"
          },
          {
            "step": 2,
            "action": "Note Employee A's employee ID from the URL or profile section",
            "expectedResult": "Employee A's ID is visible (e.g., employeeId=123 in URL or profile)"
          },
          {
            "step": 3,
            "action": "Attempt to manually modify the URL to access Employee B's notifications by changing the employeeId parameter (e.g., change employeeId=123 to employeeId=456)",
            "expectedResult": "System detects unauthorized access attempt"
          },
          {
            "step": 4,
            "action": "Press Enter to navigate to the modified URL",
            "expectedResult": "Access denied error message is displayed (e.g., '403 Forbidden' or 'You do not have permission to view these notifications')"
          },
          {
            "step": 5,
            "action": "Verify that no notification data from Employee B is visible on the page",
            "expectedResult": "No unauthorized notification information is displayed; page shows only error message or redirects to Employee A's own notifications"
          },
          {
            "step": 6,
            "action": "Open browser developer tools and attempt to make a direct API call to GET /api/notifications?scheduleChanges&employeeId={Employee B's ID}",
            "expectedResult": "API returns 403 Forbidden status code with appropriate error message"
          },
          {
            "step": 7,
            "action": "Verify the response body of the API call",
            "expectedResult": "Response contains error message indicating insufficient permissions and no notification data is returned"
          },
          {
            "step": 8,
            "action": "Attempt to access notification details directly using a notification ID that belongs to Employee B",
            "expectedResult": "Access is denied and error message is displayed"
          },
          {
            "step": 9,
            "action": "Check the application logs (if accessible) for security events",
            "expectedResult": "Unauthorized access attempt is logged with appropriate details (timestamp, employee ID, attempted resource)"
          },
          {
            "step": 10,
            "action": "Return to Employee A's legitimate notification page",
            "expectedResult": "Employee A can successfully access their own notifications without any issues"
          }
        ],
        "postconditions": [
          "Employee A remains logged in with access only to their own notifications",
          "Employee B's notification data remains secure and inaccessible to Employee A",
          "Security logs contain record of unauthorized access attempt",
          "No data breach or unauthorized access occurred",
          "System security integrity is maintained"
        ],
        "estimatedTime": "12 mins"
      }
    ]
  }
]