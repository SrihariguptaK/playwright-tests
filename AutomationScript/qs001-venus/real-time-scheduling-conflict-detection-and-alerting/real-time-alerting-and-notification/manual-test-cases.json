[
  {
    "storyId": "story-12",
    "storyTitle": "As Scheduler, I want to receive real-time alerts for scheduling conflicts to enable immediate resolution",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate real-time alert delivery upon conflict detection",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged into the scheduling system with valid credentials",
          "User has configured at least one alert notification channel (in-app, email, or SMS)",
          "Conflict detection engine is active and operational",
          "System time synchronization is accurate",
          "Network connectivity is stable"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Create a scheduling conflict by assigning the same resource to two overlapping time slots",
            "expectedResult": "Conflict is detected by the system immediately and logged in the conflict detection engine"
          },
          {
            "step": 2,
            "action": "Start a timer and observe the alert dispatch mechanism",
            "expectedResult": "Alert is generated and sent within 2 seconds of conflict detection via all configured notification channels"
          },
          {
            "step": 3,
            "action": "Check the received alert notification in the configured channel(s)",
            "expectedResult": "Alert is received and contains detailed conflict information including resource name, conflicting time slots, affected schedules, and suggested resolution actions"
          },
          {
            "step": 4,
            "action": "Verify the alert timestamp against the conflict creation time",
            "expectedResult": "Alert delivery latency is confirmed to be under 2 seconds from conflict detection"
          }
        ],
        "postconditions": [
          "Alert is successfully delivered to user via configured channels",
          "Alert delivery is logged in the system with timestamp and delivery status",
          "Conflict remains in pending state awaiting resolution",
          "Alert appears in user's notification center"
        ],
        "estimatedTime": "5 mins"
      },
      {
        "id": "tc-002",
        "title": "Verify user alert preference configuration",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged into the scheduling system with scheduler role privileges",
          "User has access to alert settings and preferences",
          "Multiple notification channels are available (in-app, email, SMS)",
          "User profile is complete with valid contact information",
          "System has POST /api/alerts endpoint accessible"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to user profile settings and click on 'Alert Preferences' or 'Notification Settings'",
            "expectedResult": "Alert settings page is displayed showing all available notification channel options and current preferences"
          },
          {
            "step": 2,
            "action": "Select preferred notification channels by checking in-app, email, and/or SMS options",
            "expectedResult": "Selected channels are highlighted and marked as active"
          },
          {
            "step": 3,
            "action": "Configure additional settings such as alert frequency, quiet hours, and priority levels, then click 'Save' or 'Update Preferences'",
            "expectedResult": "Success message is displayed confirming preferences are saved successfully, and settings are persisted in the database"
          },
          {
            "step": 4,
            "action": "Trigger a test conflict alert by creating a scheduling conflict",
            "expectedResult": "Alert is generated and sent only via the user-selected notification channels within 2 seconds"
          },
          {
            "step": 5,
            "action": "Verify alert receipt in each selected channel",
            "expectedResult": "Alert is received in all configured channels (in-app notification, email inbox, SMS message) with consistent conflict information"
          }
        ],
        "postconditions": [
          "User alert preferences are saved and active in the system",
          "Future alerts will be delivered according to configured preferences",
          "Alert preference settings are retrievable and editable",
          "Test conflict alert is logged in alert delivery logs"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-003",
        "title": "Ensure alert delivery logging and acknowledgment tracking",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged into the scheduling system",
          "Alert delivery logging mechanism is enabled",
          "Database has alert_logs table with proper schema",
          "User has permissions to acknowledge alerts",
          "Reporting module is accessible and functional"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Trigger a scheduling conflict to generate an alert and send it to the user via configured channels",
            "expectedResult": "Alert is sent successfully to the user"
          },
          {
            "step": 2,
            "action": "Query the alert delivery logs in the database or access the alert log viewer in the admin panel",
            "expectedResult": "Alert delivery is logged in the system with details including alert ID, timestamp, recipient, delivery channel, delivery status (sent/failed), and conflict details"
          },
          {
            "step": 3,
            "action": "User opens the alert notification and clicks 'Acknowledge' or 'Mark as Read' button",
            "expectedResult": "Acknowledgment action is processed and recorded in the system with user ID and acknowledgment timestamp"
          },
          {
            "step": 4,
            "action": "Refresh the alert log viewer and locate the acknowledged alert",
            "expectedResult": "Alert status is updated to 'Acknowledged' with user details and timestamp visible in the log"
          },
          {
            "step": 5,
            "action": "Navigate to the reporting module and generate an alert delivery and acknowledgment report for the current date/time period",
            "expectedResult": "Report is generated successfully showing all alerts with their delivery status, acknowledgment status, delivery timestamps, acknowledgment timestamps, and user details"
          },
          {
            "step": 6,
            "action": "Verify the accuracy of the report by cross-referencing with the alert logs",
            "expectedResult": "Report accurately reflects all alert statuses including sent, delivered, failed, acknowledged, and unacknowledged alerts with correct timestamps and user information"
          }
        ],
        "postconditions": [
          "All alert deliveries are logged with complete metadata",
          "User acknowledgments are tracked and associated with correct alerts",
          "Alert status is updated to acknowledged in the system",
          "Reports accurately reflect current alert delivery and acknowledgment metrics",
          "Audit trail is maintained for compliance and accountability"
        ],
        "estimatedTime": "10 mins"
      }
    ]
  },
  {
    "storyId": "story-15",
    "storyTitle": "As Scheduler, I want to acknowledge and track alerts for scheduling conflicts to ensure accountability and follow-up",
    "testCases": [
      {
        "id": "tc-004",
        "title": "Validate alert acknowledgment process",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged into the scheduling system with valid scheduler credentials",
          "A conflict alert has been generated and delivered to the user",
          "Alert is visible in user's notification interface",
          "POST /api/alerts/{id}/acknowledge endpoint is functional",
          "User has authorization to acknowledge alerts",
          "System clock is synchronized for accurate timestamp recording"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the notification center or alert inbox where conflict alerts are displayed",
            "expectedResult": "Alert is displayed to user with conflict details, timestamp, and unacknowledged status indicator"
          },
          {
            "step": 2,
            "action": "Click on the alert to view full details including conflict information, affected resources, and time slots",
            "expectedResult": "Alert details panel opens showing comprehensive conflict information and an 'Acknowledge' button or checkbox"
          },
          {
            "step": 3,
            "action": "Click the 'Acknowledge' button to acknowledge the alert",
            "expectedResult": "Acknowledgment request is sent to the server via POST /api/alerts/{id}/acknowledge endpoint and processed within 1 second"
          },
          {
            "step": 4,
            "action": "Observe the UI response after acknowledgment",
            "expectedResult": "Success confirmation message is displayed, alert status changes to 'Acknowledged', and acknowledgment is recorded with current timestamp and user ID"
          },
          {
            "step": 5,
            "action": "Navigate to the alert logs or audit trail section and search for the acknowledged alert by alert ID",
            "expectedResult": "Alert log entry shows status as 'Acknowledged' with correct user name/ID and accurate acknowledgment timestamp"
          },
          {
            "step": 6,
            "action": "Verify the acknowledgment timestamp matches the time when the acknowledge action was performed",
            "expectedResult": "Timestamp in the log accurately reflects the acknowledgment time within 1 second accuracy"
          }
        ],
        "postconditions": [
          "Alert status is permanently updated to 'Acknowledged' in the database",
          "Acknowledgment record includes user ID, username, and precise timestamp",
          "Alert is marked as acknowledged in user's notification interface",
          "Acknowledgment data is available for reporting and analytics",
          "No further reminders will be sent for this acknowledged alert"
        ],
        "estimatedTime": "6 mins"
      },
      {
        "id": "tc-005",
        "title": "Verify reminder notifications for unacknowledged alerts",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged into the scheduling system",
          "Reminder notification feature is enabled in system configuration",
          "Reminder interval is configured (e.g., 30 minutes for unacknowledged alerts)",
          "User has valid notification channels configured",
          "System scheduler/cron job for reminder notifications is running",
          "At least one conflict alert exists in the system"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Generate a new conflict alert by creating a scheduling conflict and ensure it is delivered to the user",
            "expectedResult": "Alert is generated and delivered successfully to user via configured channels with unacknowledged status"
          },
          {
            "step": 2,
            "action": "Verify the alert appears in the notification interface and note the delivery timestamp",
            "expectedResult": "Alert is visible in user's notification center with 'Unacknowledged' status and initial delivery timestamp"
          },
          {
            "step": 3,
            "action": "Do not acknowledge the alert and wait for the configured reminder interval to elapse (e.g., wait 30 minutes)",
            "expectedResult": "Alert remains in unacknowledged state throughout the waiting period"
          },
          {
            "step": 4,
            "action": "After the reminder interval has elapsed, check for reminder notification in configured channels",
            "expectedResult": "System automatically sends a reminder notification via the same channels as the original alert, indicating the alert is still unacknowledged and requires attention"
          },
          {
            "step": 5,
            "action": "Verify the reminder notification content and metadata",
            "expectedResult": "Reminder notification includes original conflict details, time elapsed since first alert, and clear indication that this is a reminder for an unacknowledged alert"
          },
          {
            "step": 6,
            "action": "Open the alert from the reminder notification and click 'Acknowledge'",
            "expectedResult": "Acknowledgment is processed successfully and recorded with user ID and timestamp"
          },
          {
            "step": 7,
            "action": "Wait for another reminder interval period to verify reminders have stopped",
            "expectedResult": "No additional reminder notifications are sent after the alert has been acknowledged, confirming reminders stop upon acknowledgment"
          },
          {
            "step": 8,
            "action": "Check the alert logs to verify reminder delivery and acknowledgment sequence",
            "expectedResult": "Logs show initial alert delivery, reminder notification delivery, and final acknowledgment with all timestamps and status transitions accurately recorded"
          }
        ],
        "postconditions": [
          "Alert is acknowledged and status is updated in the system",
          "Reminder notifications are stopped for the acknowledged alert",
          "All reminder attempts are logged with timestamps",
          "Alert acknowledgment is recorded with final user and timestamp",
          "System continues to monitor other unacknowledged alerts for reminder triggers"
        ],
        "estimatedTime": "35 mins"
      }
    ]
  }
]