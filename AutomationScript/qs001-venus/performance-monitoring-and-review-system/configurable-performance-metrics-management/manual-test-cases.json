[
  {
    "storyId": "story-13",
    "storyTitle": "As Performance Manager, I want to create new performance metrics to achieve tailored evaluation criteria for different roles",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate successful metric creation with valid input",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in as Performance Manager",
          "User has permissions to create performance metrics",
          "Metrics Management page is accessible",
          "No existing metric with the same name exists for the target role"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to Metrics Management page from the main dashboard",
            "expectedResult": "Metrics Management page loads successfully and displays the current metrics list with 'Add Metric' button visible"
          },
          {
            "step": 2,
            "action": "Click the 'Add Metric' button",
            "expectedResult": "Add Metric form is displayed with empty fields for Name, Description, Type, Target, Weight, and Role/Department assignment"
          },
          {
            "step": 3,
            "action": "Enter valid metric name (e.g., 'Sales Target Achievement')",
            "expectedResult": "Metric name field accepts the input without validation errors"
          },
          {
            "step": 4,
            "action": "Enter valid description (e.g., 'Measures quarterly sales target completion percentage')",
            "expectedResult": "Description field accepts the input without validation errors"
          },
          {
            "step": 5,
            "action": "Select metric type from dropdown (e.g., 'Percentage')",
            "expectedResult": "Type dropdown displays available options and accepts the selection"
          },
          {
            "step": 6,
            "action": "Enter valid target value (e.g., '100')",
            "expectedResult": "Target field accepts the numeric input without validation errors"
          },
          {
            "step": 7,
            "action": "Enter valid weight value (e.g., '0.3')",
            "expectedResult": "Weight field accepts the numeric input without validation errors"
          },
          {
            "step": 8,
            "action": "Select role or department from assignment dropdown (e.g., 'Sales Team')",
            "expectedResult": "Role/Department dropdown displays available options and accepts the selection"
          },
          {
            "step": 9,
            "action": "Click the 'Submit' or 'Save' button",
            "expectedResult": "Form is submitted successfully, confirmation message 'Metric created successfully' is displayed, and user is redirected to the metrics list"
          },
          {
            "step": 10,
            "action": "Verify the newly created metric appears in the metrics list",
            "expectedResult": "The new metric 'Sales Target Achievement' is visible in the metrics overview with all entered details displayed correctly"
          }
        ],
        "postconditions": [
          "New metric is saved in PerformanceMetrics table",
          "Metric appears in the metrics list immediately",
          "Metric is available for assignment to performance reviews",
          "System logs the metric creation action"
        ],
        "estimatedTime": "3 mins"
      },
      {
        "id": "tc-002",
        "title": "Reject metric creation with invalid numeric fields",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in as Performance Manager",
          "User has permissions to create performance metrics",
          "Metrics Management page is accessible"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to Metrics Management page",
            "expectedResult": "Metrics Management page loads successfully with 'Add Metric' button visible"
          },
          {
            "step": 2,
            "action": "Click the 'Add Metric' button",
            "expectedResult": "Add Metric form is displayed with all required fields empty"
          },
          {
            "step": 3,
            "action": "Enter valid metric name (e.g., 'Customer Satisfaction Score')",
            "expectedResult": "Metric name field accepts the input"
          },
          {
            "step": 4,
            "action": "Enter valid description",
            "expectedResult": "Description field accepts the input"
          },
          {
            "step": 5,
            "action": "Select metric type from dropdown",
            "expectedResult": "Type is selected successfully"
          },
          {
            "step": 6,
            "action": "Enter invalid negative value in target field (e.g., '-50')",
            "expectedResult": "Inline validation error message is displayed below the target field indicating 'Target value must be a positive number'"
          },
          {
            "step": 7,
            "action": "Enter invalid negative value in weight field (e.g., '-0.5')",
            "expectedResult": "Inline validation error message is displayed below the weight field indicating 'Weight must be between 0 and 1'"
          },
          {
            "step": 8,
            "action": "Attempt to click the 'Submit' button",
            "expectedResult": "Submit button is disabled or submission is blocked, and error messages remain visible highlighting the invalid fields"
          },
          {
            "step": 9,
            "action": "Correct the target field to a valid positive number (e.g., '80')",
            "expectedResult": "Validation error for target field disappears"
          },
          {
            "step": 10,
            "action": "Correct the weight field to a valid value (e.g., '0.25')",
            "expectedResult": "Validation error for weight field disappears and Submit button becomes enabled"
          }
        ],
        "postconditions": [
          "No metric is created in the database",
          "Form remains open with corrected values",
          "User can proceed with valid data submission"
        ],
        "estimatedTime": "4 mins"
      },
      {
        "id": "tc-003",
        "title": "Prevent duplicate metric names for the same role",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in as Performance Manager",
          "User has permissions to create performance metrics",
          "At least one metric already exists (e.g., 'Quality Score' for 'Engineering Team')",
          "Metrics Management page is accessible"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to Metrics Management page",
            "expectedResult": "Metrics Management page loads with existing metrics displayed including 'Quality Score' for 'Engineering Team'"
          },
          {
            "step": 2,
            "action": "Click 'Add Metric' button",
            "expectedResult": "Add Metric form is displayed"
          },
          {
            "step": 3,
            "action": "Enter metric name 'Quality Score'",
            "expectedResult": "Metric name field accepts the input"
          },
          {
            "step": 4,
            "action": "Fill in all other required fields with valid data (description, type, target, weight)",
            "expectedResult": "All fields accept valid input without validation errors"
          },
          {
            "step": 5,
            "action": "Select 'Engineering Team' from the role/department dropdown",
            "expectedResult": "Engineering Team is selected"
          },
          {
            "step": 6,
            "action": "Click 'Submit' button",
            "expectedResult": "System validates the submission and displays error message 'A metric with this name already exists for the selected role/department' and prevents creation"
          },
          {
            "step": 7,
            "action": "Verify that the duplicate metric was not created in the metrics list",
            "expectedResult": "Only one 'Quality Score' metric exists for 'Engineering Team' in the metrics list"
          },
          {
            "step": 8,
            "action": "Modify the metric name to a unique value (e.g., 'Code Quality Score')",
            "expectedResult": "Metric name field is updated with the new unique name"
          },
          {
            "step": 9,
            "action": "Click 'Submit' button again",
            "expectedResult": "Metric is created successfully, confirmation message 'Metric created successfully' is displayed"
          },
          {
            "step": 10,
            "action": "Verify the newly created metric appears in the metrics list",
            "expectedResult": "The metric 'Code Quality Score' for 'Engineering Team' is visible in the metrics overview"
          }
        ],
        "postconditions": [
          "Original metric 'Quality Score' remains unchanged",
          "New metric 'Code Quality Score' is created and saved",
          "Both metrics are visible in the metrics list for Engineering Team",
          "Database maintains data integrity with no duplicates"
        ],
        "estimatedTime": "5 mins"
      }
    ]
  },
  {
    "storyId": "story-14",
    "storyTitle": "As Performance Manager, I want to edit existing performance metrics to keep evaluation criteria up to date",
    "testCases": [
      {
        "id": "tc-004",
        "title": "Validate successful metric editing with valid input",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in as Performance Manager",
          "User has permissions to edit performance metrics",
          "At least one editable metric exists in the system (not linked to active review cycles)",
          "Metrics Management page is accessible"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to Metrics Management page from the main dashboard",
            "expectedResult": "Metrics Management page loads successfully and displays the list of existing metrics with edit options available"
          },
          {
            "step": 2,
            "action": "Locate an existing metric (e.g., 'Sales Target Achievement') and click the 'Edit' button or icon",
            "expectedResult": "Edit Metric form is displayed with all fields pre-populated with the current metric data including Name, Description, Type, Target, Weight, and Role/Department"
          },
          {
            "step": 3,
            "action": "Modify the metric description to a new valid value (e.g., 'Updated: Measures monthly sales target completion percentage')",
            "expectedResult": "Description field accepts the modified input without validation errors"
          },
          {
            "step": 4,
            "action": "Modify the target value to a new valid number (e.g., change from '100' to '110')",
            "expectedResult": "Target field accepts the new numeric value without validation errors"
          },
          {
            "step": 5,
            "action": "Modify the weight value to a new valid number (e.g., change from '0.3' to '0.35')",
            "expectedResult": "Weight field accepts the new numeric value without validation errors"
          },
          {
            "step": 6,
            "action": "Click the 'Submit' or 'Update' button",
            "expectedResult": "Form is submitted successfully, system validates the inputs, and confirmation message 'Metric updated successfully' is displayed"
          },
          {
            "step": 7,
            "action": "Verify the updated metric appears in the metrics list with modified values",
            "expectedResult": "The metric 'Sales Target Achievement' is displayed in the metrics list with the updated description, target value '110', and weight '0.35'"
          },
          {
            "step": 8,
            "action": "Check the audit log for the metric update",
            "expectedResult": "Audit log contains an entry with timestamp, user information, and details of the changes made to the metric"
          }
        ],
        "postconditions": [
          "Metric is updated in PerformanceMetrics table with new values",
          "Audit log entry is created with timestamp and user details",
          "Updated metric is immediately visible in the metrics list",
          "Previous metric values are preserved in audit history"
        ],
        "estimatedTime": "4 mins"
      },
      {
        "id": "tc-005",
        "title": "Reject editing of metrics linked to active review cycles",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in as Performance Manager",
          "User has permissions to edit performance metrics",
          "At least one metric exists that is linked to an active review cycle",
          "Active review cycle is in progress",
          "Metrics Management page is accessible"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to Metrics Management page",
            "expectedResult": "Metrics Management page loads successfully displaying all metrics including those linked to active review cycles"
          },
          {
            "step": 2,
            "action": "Locate a metric that is linked to an active review cycle (e.g., 'Q4 Performance Rating')",
            "expectedResult": "Metric is visible in the list with edit option available"
          },
          {
            "step": 3,
            "action": "Click the 'Edit' button for the metric linked to active review cycle",
            "expectedResult": "Edit form is displayed with current metric data pre-populated in all fields"
          },
          {
            "step": 4,
            "action": "Modify any field (e.g., change target value from '90' to '95')",
            "expectedResult": "Field accepts the input change"
          },
          {
            "step": 5,
            "action": "Click the 'Submit' or 'Update' button",
            "expectedResult": "System validates the metric status and displays error message 'Cannot edit metric: This metric is linked to an active review cycle' and prevents the update from being saved"
          },
          {
            "step": 6,
            "action": "Verify that the metric values remain unchanged in the metrics list",
            "expectedResult": "The metric 'Q4 Performance Rating' displays the original target value '90' with no changes applied"
          },
          {
            "step": 7,
            "action": "Check the audit log",
            "expectedResult": "No audit log entry is created for the attempted update as the change was rejected"
          }
        ],
        "postconditions": [
          "Metric remains unchanged in the database",
          "Active review cycle integrity is maintained",
          "No audit log entry is created for the rejected update",
          "User is informed of the restriction with clear error message"
        ],
        "estimatedTime": "3 mins"
      },
      {
        "id": "tc-006",
        "title": "Reject invalid input during metric editing",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in as Performance Manager",
          "User has permissions to edit performance metrics",
          "At least one editable metric exists in the system",
          "Metrics Management page is accessible"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to Metrics Management page",
            "expectedResult": "Metrics Management page loads successfully with existing metrics displayed"
          },
          {
            "step": 2,
            "action": "Select an editable metric and click the 'Edit' button",
            "expectedResult": "Edit Metric form is displayed with all fields pre-populated with current metric data"
          },
          {
            "step": 3,
            "action": "Clear the target field and enter an invalid non-numeric value (e.g., 'abc')",
            "expectedResult": "Inline validation error message is displayed below the target field indicating 'Target must be a valid number'"
          },
          {
            "step": 4,
            "action": "Clear the weight field and enter an invalid value outside the acceptable range (e.g., '1.5')",
            "expectedResult": "Inline validation error message is displayed below the weight field indicating 'Weight must be between 0 and 1'"
          },
          {
            "step": 5,
            "action": "Enter a negative number in the target field (e.g., '-20')",
            "expectedResult": "Inline validation error message is displayed indicating 'Target value must be a positive number'"
          },
          {
            "step": 6,
            "action": "Attempt to click the 'Submit' or 'Update' button",
            "expectedResult": "Submit button is disabled or submission is blocked, and all validation error messages remain visible highlighting the invalid fields"
          },
          {
            "step": 7,
            "action": "Correct the target field to a valid positive number (e.g., '85')",
            "expectedResult": "Validation error for target field disappears"
          },
          {
            "step": 8,
            "action": "Correct the weight field to a valid value within range (e.g., '0.4')",
            "expectedResult": "Validation error for weight field disappears and Submit button becomes enabled"
          },
          {
            "step": 9,
            "action": "Click the 'Submit' button with corrected values",
            "expectedResult": "Form is submitted successfully and confirmation message 'Metric updated successfully' is displayed"
          }
        ],
        "postconditions": [
          "Metric is updated only after all validation errors are corrected",
          "Invalid data is not saved to the database",
          "Audit log records only the successful update with valid data",
          "User receives clear feedback on validation errors"
        ],
        "estimatedTime": "5 mins"
      }
    ]
  },
  {
    "storyId": "story-15",
    "storyTitle": "As Performance Manager, I want to delete obsolete performance metrics to maintain a relevant metrics catalog",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate successful metric deletion with confirmation",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in as Performance Manager with delete permissions",
          "At least one performance metric exists that is not linked to any active review cycles",
          "Metrics Management page is accessible",
          "Audit logging system is operational"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to Metrics Management page",
            "expectedResult": "Metrics Management page loads successfully and displays a list of all available performance metrics with their details (name, description, status)"
          },
          {
            "step": 2,
            "action": "Locate a metric that is not linked to any active review cycles and click the delete button/icon for that metric",
            "expectedResult": "A confirmation prompt dialog appears asking 'Are you sure you want to delete this metric?' with options to Confirm or Cancel"
          },
          {
            "step": 3,
            "action": "Click the Confirm button in the deletion confirmation prompt",
            "expectedResult": "The metric is successfully deleted from the system, a success confirmation message is displayed (e.g., 'Metric deleted successfully'), and the metrics list automatically refreshes showing the updated list without the deleted metric"
          },
          {
            "step": 4,
            "action": "Verify the deletion was logged by checking the audit logs",
            "expectedResult": "Audit log contains an entry for the deletion action with the user ID, timestamp, and deleted metric details"
          },
          {
            "step": 5,
            "action": "Verify the deletion response time",
            "expectedResult": "The entire deletion process completes in under 2 seconds from confirmation to list refresh"
          }
        ],
        "postconditions": [
          "The selected metric is permanently removed from the PerformanceMetrics table",
          "The metrics list no longer displays the deleted metric",
          "Deletion action is recorded in audit logs with user and timestamp",
          "No data integrity issues exist in the database"
        ],
        "estimatedTime": "5 mins"
      },
      {
        "id": "tc-002",
        "title": "Prevent deletion of metrics linked to active review cycles",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in as Performance Manager with delete permissions",
          "At least one performance metric exists that is linked to one or more active review cycles",
          "Metrics Management page is accessible",
          "Active review cycles exist in the system"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to Metrics Management page",
            "expectedResult": "Metrics Management page loads successfully and displays a list of all available performance metrics"
          },
          {
            "step": 2,
            "action": "Identify and select a metric that is linked to an active review cycle",
            "expectedResult": "The metric is selected and the delete option/button is visible and available"
          },
          {
            "step": 3,
            "action": "Click the delete button for the selected metric",
            "expectedResult": "A confirmation prompt dialog appears asking for deletion confirmation"
          },
          {
            "step": 4,
            "action": "Click the Confirm button to attempt deletion",
            "expectedResult": "System rejects the deletion request and displays a clear error message such as 'Cannot delete metric: This metric is linked to one or more active review cycles' or 'Deletion failed: Metric is currently in use by active review cycles'"
          },
          {
            "step": 5,
            "action": "Verify the metric still exists in the metrics list",
            "expectedResult": "The metric remains in the PerformanceMetrics table and is still visible in the metrics list, unchanged"
          },
          {
            "step": 6,
            "action": "Check audit logs for the attempted deletion",
            "expectedResult": "Audit log records the failed deletion attempt with reason for rejection"
          }
        ],
        "postconditions": [
          "The metric remains in the system unchanged",
          "The link between the metric and active review cycles is preserved",
          "Error message is displayed to the user explaining why deletion failed",
          "No data integrity issues exist in the database"
        ],
        "estimatedTime": "5 mins"
      }
    ]
  },
  {
    "storyId": "story-23",
    "storyTitle": "As Performance Manager, I want to validate performance metric data inputs to ensure data quality and accuracy",
    "testCases": [
      {
        "id": "tc-003",
        "title": "Validate rejection of invalid metric data inputs",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in as Performance Manager with data entry permissions",
          "Metric data entry form is accessible",
          "Validation rules are configured for all metric data fields (data types, ranges, mandatory fields)",
          "Frontend validation is enabled and operational"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the metric data entry form",
            "expectedResult": "Metric data entry form loads successfully displaying all required fields (numeric fields, text fields, mandatory fields marked with asterisks)"
          },
          {
            "step": 2,
            "action": "Enter invalid data in a mandatory numeric field (e.g., enter text 'abc' in a numeric field)",
            "expectedResult": "Inline validation error message appears immediately below or next to the field stating 'Please enter a valid number' or similar descriptive error"
          },
          {
            "step": 3,
            "action": "Leave a mandatory field empty and move to the next field",
            "expectedResult": "Inline validation error message appears stating 'This field is required' or similar message"
          },
          {
            "step": 4,
            "action": "Enter a numeric value outside the acceptable range (e.g., enter -5 when minimum is 0)",
            "expectedResult": "Inline validation error message appears stating 'Value must be between [min] and [max]' or similar range validation message"
          },
          {
            "step": 5,
            "action": "Verify validation response time for each error",
            "expectedResult": "Each validation error appears within 1 second of the invalid input or field blur event"
          },
          {
            "step": 6,
            "action": "Attempt to submit the form with validation errors present",
            "expectedResult": "Form submission is blocked, submit button is disabled or shows error, and a message appears stating 'Please correct all errors before submitting' or similar"
          },
          {
            "step": 7,
            "action": "Correct all validation errors by entering valid data in all fields",
            "expectedResult": "All inline error messages disappear as valid data is entered, and the submit button becomes enabled"
          },
          {
            "step": 8,
            "action": "Submit the form with all valid data",
            "expectedResult": "Form submits successfully, data is saved to PerformanceMetricData table, and a confirmation message is displayed stating 'Metric data saved successfully' or similar"
          }
        ],
        "postconditions": [
          "Valid metric data is saved in the PerformanceMetricData table",
          "No invalid data exists in the database",
          "User receives confirmation of successful data submission",
          "Form is cleared or redirected to appropriate page"
        ],
        "estimatedTime": "7 mins"
      },
      {
        "id": "tc-004",
        "title": "Validate backend rejection of invalid data",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "API endpoint POST /api/metricdata is accessible and operational",
          "Backend validation rules are configured and active",
          "User has valid authentication token for API access",
          "API testing tool (e.g., Postman, cURL) is available"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Prepare an API request to POST /api/metricdata with invalid data payload (e.g., missing mandatory fields, invalid data types, out-of-range values)",
            "expectedResult": "API request is properly formatted with authentication headers and invalid payload"
          },
          {
            "step": 2,
            "action": "Submit the API request with invalid metric data",
            "expectedResult": "API returns HTTP 400 Bad Request status code"
          },
          {
            "step": 3,
            "action": "Review the API response body",
            "expectedResult": "Response contains descriptive validation error messages in JSON format, clearly identifying which fields failed validation and why (e.g., {'errors': [{'field': 'metricValue', 'message': 'Value must be a number'}, {'field': 'metricName', 'message': 'This field is required'}]})"
          },
          {
            "step": 4,
            "action": "Verify the response time of the validation",
            "expectedResult": "API validation response is received within 1 second of request submission"
          },
          {
            "step": 5,
            "action": "Check the database to confirm no invalid data was saved",
            "expectedResult": "PerformanceMetricData table does not contain any records from the invalid submission attempt"
          },
          {
            "step": 6,
            "action": "Submit a corrected API request with valid data in all fields",
            "expectedResult": "API returns HTTP 200 OK or 201 Created status code with success message, and data is successfully saved to the database"
          }
        ],
        "postconditions": [
          "No invalid data is persisted in the PerformanceMetricData table",
          "Backend validation successfully prevents data corruption",
          "Descriptive error messages are provided for troubleshooting",
          "Valid data submitted subsequently is accepted and saved"
        ],
        "estimatedTime": "6 mins"
      }
    ]
  }
]