[
  {
    "storyId": "story-23",
    "storyTitle": "As Attendance Officer, I want to manually input attendance records to achieve accurate tracking when biometric data is unavailable",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate successful manual attendance record addition",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User has valid attendance officer credentials",
          "User has authorization to access manual attendance entry functionality",
          "At least one active employee exists in the system",
          "Database is accessible and operational",
          "Manual attendance entry page is available"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the system login page and enter valid attendance officer credentials (username and password), then click Login button",
            "expectedResult": "User is successfully authenticated and redirected to the dashboard with access to manual attendance entry page"
          },
          {
            "step": 2,
            "action": "Navigate to the manual attendance entry page from the dashboard menu",
            "expectedResult": "Manual attendance entry page is displayed with empty form fields for employee ID, date, time, and status"
          },
          {
            "step": 3,
            "action": "Enter a valid employee ID in the employee ID field",
            "expectedResult": "Employee ID is accepted and employee name is displayed or auto-populated if applicable"
          },
          {
            "step": 4,
            "action": "Select or enter a valid date in the date field (current or past date within allowed range)",
            "expectedResult": "Date is accepted without validation errors and displayed in correct format"
          },
          {
            "step": 5,
            "action": "Enter a valid time in the time field (format HH:MM)",
            "expectedResult": "Time is accepted without validation errors and displayed in correct format"
          },
          {
            "step": 6,
            "action": "Select attendance status from the dropdown (e.g., Present, Absent, Late)",
            "expectedResult": "Status is selected and displayed in the form"
          },
          {
            "step": 7,
            "action": "Click the Submit button to save the manual attendance record",
            "expectedResult": "Record is successfully saved to the database and a confirmation message is displayed (e.g., 'Attendance record added successfully')"
          },
          {
            "step": 8,
            "action": "Verify the newly added record appears in the attendance records list",
            "expectedResult": "The manual attendance record is visible in the list with correct employee ID, date, time, and status"
          }
        ],
        "postconditions": [
          "Manual attendance record is saved in the database",
          "Confirmation message is displayed to the user",
          "Record is visible in attendance records list",
          "Audit trail entry is created for the new record",
          "User remains logged in and can add additional records"
        ],
        "estimatedTime": "5 mins"
      },
      {
        "id": "tc-002",
        "title": "Verify validation rejects invalid employee IDs",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in as authorized attendance officer",
          "Manual attendance entry page is accessible",
          "Database contains valid employee records",
          "System validation rules are configured for employee ID verification"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the manual attendance entry page from the dashboard",
            "expectedResult": "Manual attendance entry page is displayed with empty form fields"
          },
          {
            "step": 2,
            "action": "Enter a non-existent employee ID (e.g., 'EMP99999' or any ID not in the database) in the employee ID field",
            "expectedResult": "Employee ID field accepts the input"
          },
          {
            "step": 3,
            "action": "Tab out of the employee ID field or trigger validation",
            "expectedResult": "Validation error message is displayed (e.g., 'Employee ID does not exist' or 'Invalid employee ID')"
          },
          {
            "step": 4,
            "action": "Enter valid date and time in respective fields",
            "expectedResult": "Date and time fields accept the input without errors"
          },
          {
            "step": 5,
            "action": "Select attendance status from the dropdown",
            "expectedResult": "Status is selected successfully"
          },
          {
            "step": 6,
            "action": "Click the Submit button to attempt saving the record",
            "expectedResult": "Submission is blocked and error message is displayed indicating 'Cannot submit record with invalid employee ID' or similar message"
          },
          {
            "step": 7,
            "action": "Verify that no record is created in the database",
            "expectedResult": "No new attendance record appears in the attendance records list"
          }
        ],
        "postconditions": [
          "No attendance record is saved in the database",
          "Error message is displayed to the user",
          "Form remains on the page with entered data",
          "User can correct the employee ID and resubmit",
          "No audit trail entry is created for failed submission"
        ],
        "estimatedTime": "4 mins"
      },
      {
        "id": "tc-003",
        "title": "Ensure audit trail records manual attendance edits",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in as authorized attendance officer",
          "At least one manual attendance record exists in the system",
          "User has permission to edit attendance records",
          "Audit logging functionality is enabled and operational",
          "Audit log table is accessible"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the attendance records list page",
            "expectedResult": "Attendance records list is displayed with existing manual attendance records"
          },
          {
            "step": 2,
            "action": "Locate an existing manual attendance record and click the Edit button or icon",
            "expectedResult": "Edit form is displayed with current data pre-populated (employee ID, date, time, status)"
          },
          {
            "step": 3,
            "action": "Note the original attendance time value for verification purposes",
            "expectedResult": "Original time value is visible and recorded"
          },
          {
            "step": 4,
            "action": "Modify the attendance time field to a different valid time (e.g., change from 09:00 to 09:30)",
            "expectedResult": "Time field accepts the new value without validation errors"
          },
          {
            "step": 5,
            "action": "Click the Submit or Save button to save the changes",
            "expectedResult": "Changes are successfully saved and confirmation message is displayed (e.g., 'Attendance record updated successfully')"
          },
          {
            "step": 6,
            "action": "Verify the updated record shows the new time in the attendance records list",
            "expectedResult": "Attendance record displays the modified time value"
          },
          {
            "step": 7,
            "action": "Navigate to the audit logs section or view audit history for the specific attendance record",
            "expectedResult": "Audit log page or section is displayed"
          },
          {
            "step": 8,
            "action": "Review the audit log entry for the edited record",
            "expectedResult": "Audit log shows edit details accurately including: user ID/name of the attendance officer, timestamp of the change, original time value, new time value, and action type (Edit/Update)"
          },
          {
            "step": 9,
            "action": "Verify the timestamp in the audit log matches the time when the edit was performed",
            "expectedResult": "Timestamp is accurate and reflects the actual time of modification"
          }
        ],
        "postconditions": [
          "Attendance record is updated with new time value",
          "Audit trail entry is created in the audit log table",
          "Audit log contains user ID, timestamp, and change details",
          "Original and modified values are preserved in audit history",
          "User can view complete audit history for the record"
        ],
        "estimatedTime": "6 mins"
      }
    ]
  },
  {
    "storyId": "story-26",
    "storyTitle": "As Attendance Officer, I want to correct attendance records with audit logging to maintain data integrity",
    "testCases": [
      {
        "id": "tc-004",
        "title": "Validate attendance record correction with audit logging",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User has valid attendance officer credentials with correction privileges",
          "User is authorized to edit attendance records",
          "At least one attendance record exists in the system that requires correction",
          "Audit logging system is enabled and functional",
          "Database and audit log tables are accessible"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the system login page and enter valid attendance officer credentials, then click Login button",
            "expectedResult": "User is successfully authenticated and redirected to the dashboard with access to attendance management page"
          },
          {
            "step": 2,
            "action": "Navigate to the attendance management page from the dashboard menu",
            "expectedResult": "Attendance management page is displayed showing list of attendance records with search and filter options"
          },
          {
            "step": 3,
            "action": "Search for or locate the specific attendance record that needs correction using employee ID, date, or other filters",
            "expectedResult": "Target attendance record is displayed in the results list"
          },
          {
            "step": 4,
            "action": "Click the Edit button or icon for the selected attendance record",
            "expectedResult": "Edit form is displayed with current data pre-populated including employee ID, date, time, status, and any other relevant fields"
          },
          {
            "step": 5,
            "action": "Review the current attendance details and identify the field(s) requiring correction",
            "expectedResult": "All current values are visible and editable fields are enabled"
          },
          {
            "step": 6,
            "action": "Modify the attendance details (e.g., change time from 08:45 to 09:00, or status from Absent to Present)",
            "expectedResult": "Modified values are accepted in the form fields without validation errors"
          },
          {
            "step": 7,
            "action": "Add correction notes or reason in the comments field if available",
            "expectedResult": "Comments are accepted and displayed in the form"
          },
          {
            "step": 8,
            "action": "Click the Submit or Save button to save the corrected attendance record",
            "expectedResult": "System validates the corrections against attendance business rules (shift schedules, date ranges, etc.) and accepts the changes"
          },
          {
            "step": 9,
            "action": "Observe the confirmation message displayed by the system",
            "expectedResult": "Confirmation message is displayed (e.g., 'Attendance record corrected successfully') and changes are saved within 2 seconds"
          },
          {
            "step": 10,
            "action": "Verify the corrected record in the attendance records list shows updated values",
            "expectedResult": "Attendance record displays the corrected values accurately"
          },
          {
            "step": 11,
            "action": "Navigate to the audit log section or view audit history for the corrected record",
            "expectedResult": "Audit log is displayed with entries for the selected record"
          },
          {
            "step": 12,
            "action": "Review the latest audit log entry for the correction",
            "expectedResult": "Audit log entry shows: user ID/name of the attendance officer who made the correction, timestamp of the correction, original values (before correction), new values (after correction), action type (Correction/Edit), and any comments or reasons provided"
          }
        ],
        "postconditions": [
          "Attendance record is updated with corrected values in the database",
          "Audit log entry is created with complete change details",
          "Audit trail includes user ID, timestamp, original values, and new values",
          "Confirmation message is displayed to the user",
          "Data integrity is maintained with full traceability",
          "User can perform additional corrections if needed"
        ],
        "estimatedTime": "7 mins"
      },
      {
        "id": "tc-005",
        "title": "Verify audit history display for attendance records",
        "type": "happy-path",
        "priority": "Medium",
        "preconditions": [
          "User is logged in as authorized attendance officer",
          "At least one attendance record exists with previous corrections or changes",
          "Audit logging has captured historical changes for the record",
          "Audit history display functionality is available",
          "User has permission to view audit logs"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the attendance management page or attendance records list",
            "expectedResult": "Attendance records list is displayed with available records"
          },
          {
            "step": 2,
            "action": "Locate a specific attendance record that has been previously modified or corrected",
            "expectedResult": "Target attendance record is visible in the list"
          },
          {
            "step": 3,
            "action": "Click on the View Audit History button, icon, or link associated with the selected attendance record",
            "expectedResult": "Audit history page or modal is displayed for the specific attendance record"
          },
          {
            "step": 4,
            "action": "Review the audit log entries displayed in chronological order",
            "expectedResult": "Audit log shows all changes made to the record with entries listed from most recent to oldest or vice versa"
          },
          {
            "step": 5,
            "action": "Verify each audit log entry contains user information (user ID or username)",
            "expectedResult": "Each entry displays the user who made the change clearly"
          },
          {
            "step": 6,
            "action": "Verify each audit log entry contains timestamp information (date and time of change)",
            "expectedResult": "Each entry displays accurate timestamp in readable format (e.g., 'DD-MM-YYYY HH:MM:SS')"
          },
          {
            "step": 7,
            "action": "Verify each audit log entry shows the type of action performed (Create, Edit, Delete, Correction)",
            "expectedResult": "Action type is clearly indicated for each entry"
          },
          {
            "step": 8,
            "action": "Verify each audit log entry shows the changed fields with original and new values",
            "expectedResult": "For each modification, the audit log displays 'Field Name: Old Value â†’ New Value' or similar format"
          },
          {
            "step": 9,
            "action": "If multiple changes exist, verify all historical changes are displayed completely",
            "expectedResult": "Complete audit trail is visible showing the full history of the attendance record from creation to current state"
          },
          {
            "step": 10,
            "action": "Verify any comments or reasons for corrections are displayed in the audit history",
            "expectedResult": "Comments or correction reasons are visible alongside the corresponding audit entries"
          }
        ],
        "postconditions": [
          "Audit history is displayed accurately for the selected record",
          "All changes are visible with user and timestamp information",
          "User can review complete change history for accountability",
          "Audit log data remains unchanged after viewing",
          "User can close audit history and return to attendance management page"
        ],
        "estimatedTime": "5 mins"
      }
    ]
  },
  {
    "storyId": "story-28",
    "storyTitle": "As Attendance Officer, I want to view real-time attendance logs to monitor daily attendance status",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate real-time attendance log display and filtering",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Attendance officer account exists with valid credentials",
          "Attendance officer role has access permissions to attendance log dashboard",
          "Attendance streaming API is operational and returning data",
          "Database contains validated attendance records from biometric and manual sources",
          "Test environment is configured with GET /api/attendance/logs endpoint",
          "Browser is supported and updated to latest version"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the attendance system login page",
            "expectedResult": "Login page is displayed with username and password fields"
          },
          {
            "step": 2,
            "action": "Enter valid attendance officer credentials (username and password)",
            "expectedResult": "Credentials are accepted and login button is enabled"
          },
          {
            "step": 3,
            "action": "Click the login button",
            "expectedResult": "Access granted and user is redirected to attendance log dashboard"
          },
          {
            "step": 4,
            "action": "Verify the attendance log dashboard loads with default view",
            "expectedResult": "Dashboard displays attendance log table with columns for employee name, date, time, status, and source (biometric/manual)"
          },
          {
            "step": 5,
            "action": "View attendance logs with default filters applied",
            "expectedResult": "Logs are displayed showing recent validated records sorted by most recent timestamp, with data from both biometric and manual sources visible"
          },
          {
            "step": 6,
            "action": "Verify only validated attendance records are displayed",
            "expectedResult": "All displayed records show validation status as 'Validated' and no unvalidated records appear in the list"
          },
          {
            "step": 7,
            "action": "Locate and click on the employee filter dropdown",
            "expectedResult": "Employee filter dropdown opens showing list of employees with attendance records"
          },
          {
            "step": 8,
            "action": "Select a specific employee from the dropdown list",
            "expectedResult": "Employee is selected and filter is applied"
          },
          {
            "step": 9,
            "action": "Observe the filtered attendance logs",
            "expectedResult": "Logs display only attendance records for the selected employee"
          },
          {
            "step": 10,
            "action": "Locate and click on the date filter field",
            "expectedResult": "Date picker calendar opens for date selection"
          },
          {
            "step": 11,
            "action": "Select a specific date or date range from the date picker",
            "expectedResult": "Date is selected and applied to the filter"
          },
          {
            "step": 12,
            "action": "Observe the filtered attendance logs with both employee and date filters applied",
            "expectedResult": "Logs display only attendance records matching both the selected employee and the selected date/date range"
          },
          {
            "step": 13,
            "action": "Locate and click on the status filter dropdown",
            "expectedResult": "Status filter dropdown opens showing available status options (Present, Absent, Late, etc.)"
          },
          {
            "step": 14,
            "action": "Select a specific status from the dropdown",
            "expectedResult": "Status is selected and filter is applied"
          },
          {
            "step": 15,
            "action": "Observe the filtered attendance logs with all three filters applied",
            "expectedResult": "Logs display only attendance records matching the selected employee, date, and status criteria"
          },
          {
            "step": 16,
            "action": "Verify the record count updates to reflect filtered results",
            "expectedResult": "Total record count displayed on dashboard updates to show number of records matching applied filters"
          }
        ],
        "postconditions": [
          "User remains logged in to the attendance dashboard",
          "Applied filters remain active on the dashboard",
          "Filtered attendance logs are displayed correctly",
          "System maintains session state for the attendance officer",
          "No data modifications have occurred"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-002",
        "title": "Verify automatic data refresh functionality",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Attendance officer is already logged into the system",
          "Attendance log dashboard is currently displayed",
          "Attendance streaming API is operational and actively receiving new attendance data",
          "System auto-refresh is configured to refresh every 1 minute",
          "Database is being updated with new attendance entries during test execution",
          "System clock is synchronized and accurate"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Note the current timestamp displayed on the dashboard",
            "expectedResult": "Current timestamp is visible showing last refresh time"
          },
          {
            "step": 2,
            "action": "Note the current number of attendance records displayed",
            "expectedResult": "Record count is visible and documented for comparison"
          },
          {
            "step": 3,
            "action": "Observe the attendance log dashboard without any user interaction",
            "expectedResult": "Dashboard remains active and visible with current data displayed"
          },
          {
            "step": 4,
            "action": "Wait for 1 minute while monitoring the dashboard",
            "expectedResult": "After approximately 60 seconds, dashboard automatically refreshes without manual intervention"
          },
          {
            "step": 5,
            "action": "Verify the timestamp updates to reflect the automatic refresh",
            "expectedResult": "Last refresh timestamp updates to current time showing data was refreshed"
          },
          {
            "step": 6,
            "action": "Check if any new attendance records appear in the log",
            "expectedResult": "New attendance entries that were added to the system in the last minute are now visible in the dashboard"
          },
          {
            "step": 7,
            "action": "Verify the refresh completes within 5 seconds as per performance requirements",
            "expectedResult": "Data refresh operation completes within 5 seconds from initiation"
          },
          {
            "step": 8,
            "action": "Continue observing the dashboard for an additional 1 minute without interaction",
            "expectedResult": "Dashboard remains active and responsive"
          },
          {
            "step": 9,
            "action": "Wait for the second automatic refresh cycle to complete",
            "expectedResult": "After another 60 seconds, dashboard automatically refreshes again"
          },
          {
            "step": 10,
            "action": "Verify the timestamp updates again to reflect the second automatic refresh",
            "expectedResult": "Last refresh timestamp updates to current time, confirming second automatic refresh occurred"
          },
          {
            "step": 11,
            "action": "Check for any additional new attendance records in the log",
            "expectedResult": "Any new attendance entries added in the second minute interval are now visible in the dashboard"
          },
          {
            "step": 12,
            "action": "Verify no error messages or warnings appear during automatic refresh cycles",
            "expectedResult": "Dashboard refreshes smoothly without displaying any errors, warnings, or interruptions to the user experience"
          },
          {
            "step": 13,
            "action": "Confirm data freshness is maintained at 99% within 1 minute as per success metrics",
            "expectedResult": "All displayed data reflects attendance entries recorded within the last 1 minute, meeting the 99% data freshness requirement"
          }
        ],
        "postconditions": [
          "Attendance dashboard continues to auto-refresh every minute",
          "User remains logged in with active session",
          "Latest attendance data is displayed on the dashboard",
          "System performance remains within acceptable limits (refresh within 5 seconds)",
          "No system errors or data inconsistencies are present",
          "Auto-refresh functionality continues to operate for subsequent cycles"
        ],
        "estimatedTime": "5 mins"
      }
    ]
  }
]