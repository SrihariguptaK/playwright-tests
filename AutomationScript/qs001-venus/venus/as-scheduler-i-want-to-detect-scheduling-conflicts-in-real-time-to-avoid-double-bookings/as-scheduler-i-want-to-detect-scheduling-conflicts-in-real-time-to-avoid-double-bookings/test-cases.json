{
  "storyId": "story-4",
  "storyTitle": "As Scheduler, I want to detect scheduling conflicts in real-time to avoid double bookings",
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify real-time conflict detection for overlapping time slots with existing schedule",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in with Scheduler role permissions",
        "Scheduling interface is loaded and accessible",
        "Existing schedule entry exists: Resource 'Conference Room A' booked from 10:00 AM to 11:00 AM on current date",
        "System conflict detection API endpoint POST /api/schedule/check is operational"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the scheduling page and click 'Create New Schedule' button",
          "expectedResult": "New schedule creation form is displayed with fields for Resource, Start Time, End Time, and Date"
        },
        {
          "step": 2,
          "action": "Select 'Conference Room A' from Resource dropdown, enter Start Time as '10:30 AM', End Time as '11:30 AM', and select current date",
          "expectedResult": "Form fields are populated with entered values"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' or 'Submit' button to trigger conflict detection",
          "expectedResult": "System displays conflict alert message 'Scheduling Conflict Detected: Conference Room A is already booked from 10:00 AM to 11:00 AM' in red banner within 2 seconds"
        },
        {
          "step": 4,
          "action": "Navigate to conflict log section by clicking 'View Conflicts' link",
          "expectedResult": "Conflict log displays the detected conflict with timestamp, resource name, conflicting time slots, and user who attempted the booking"
        },
        {
          "step": 5,
          "action": "Return to the scheduling form and modify End Time to '10:00 AM' (non-overlapping)",
          "expectedResult": "Form updates with new End Time value"
        },
        {
          "step": 6,
          "action": "Click 'Check Availability' button again",
          "expectedResult": "System displays success message 'No conflicts detected. Resource is available' in green banner and enables 'Confirm Booking' button"
        }
      ],
      "postconditions": [
        "Conflict is logged in the system database with all relevant details",
        "User remains on scheduling page with form still accessible",
        "Modified schedule request shows no conflicts and is ready for confirmation",
        "Original existing schedule from 10:00 AM to 11:00 AM remains unchanged"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Validate conflict detection for exact time match with existing booking",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is authenticated as Scheduler with valid session token",
        "Existing booking: Resource 'Meeting Room B' scheduled from 2:00 PM to 3:00 PM on current date",
        "Scheduling dashboard is displayed",
        "Network connectivity is stable"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'New Booking' button in the top-right corner of the dashboard",
          "expectedResult": "Booking creation modal opens with empty form fields"
        },
        {
          "step": 2,
          "action": "Select 'Meeting Room B' from Resource dropdown, enter Start Time '2:00 PM', End Time '3:00 PM', and current date",
          "expectedResult": "All fields are populated with exact matching time as existing booking"
        },
        {
          "step": 3,
          "action": "Click 'Submit Request' button",
          "expectedResult": "System immediately displays conflict alert 'Conflict: Meeting Room B is unavailable from 2:00 PM to 3:00 PM' with details of existing booking owner and purpose"
        },
        {
          "step": 4,
          "action": "Click 'View Conflict Details' link in the alert message",
          "expectedResult": "Popup displays existing booking information including booked by user name, booking purpose, and option to contact booking owner"
        }
      ],
      "postconditions": [
        "Conflict is recorded in conflict log with timestamp and user details",
        "Booking request is not saved to the database",
        "User remains in booking creation modal with form data preserved",
        "Existing booking remains active and unchanged"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify conflict detection for partial overlap at the start of existing schedule",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "Scheduler user is logged in with active session",
        "Existing schedule: Equipment 'Projector-001' booked from 1:00 PM to 2:30 PM on current date",
        "User is on the equipment scheduling page",
        "Conflict detection service is running and responsive"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Schedule Equipment' button",
          "expectedResult": "Equipment scheduling form appears with Resource, Start Time, End Time, and Date fields"
        },
        {
          "step": 2,
          "action": "Select 'Projector-001' from equipment dropdown, enter Start Time '12:30 PM', End Time '1:30 PM', select current date",
          "expectedResult": "Form displays entered values with 30-minute overlap at the start of existing booking"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' button",
          "expectedResult": "Conflict warning appears: 'Partial Conflict Detected: Projector-001 is booked from 1:00 PM to 2:30 PM. Your request overlaps by 30 minutes' with visual timeline showing overlap"
        },
        {
          "step": 4,
          "action": "Click 'View Conflict Log' button in the navigation menu",
          "expectedResult": "Conflict log page displays the new conflict entry with conflict type 'Partial Overlap - Start', duration of overlap, and timestamp"
        }
      ],
      "postconditions": [
        "Conflict is logged with detailed overlap information",
        "Scheduling request is blocked from completion",
        "User can modify the request or cancel",
        "System performance remains under 2 seconds for conflict detection"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Test real-time feedback when scheduling request completely encompasses existing booking",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User has Scheduler role with scheduling permissions",
        "Existing booking: Vehicle 'Van-05' reserved from 3:00 PM to 4:00 PM on current date",
        "User is on the vehicle scheduling interface",
        "Database connection is active and conflict detection rules are configured"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Reserve Vehicle' button on the scheduling dashboard",
          "expectedResult": "Vehicle reservation form opens with all required fields visible"
        },
        {
          "step": 2,
          "action": "Select 'Van-05' from vehicle dropdown, enter Start Time '2:30 PM', End Time '4:30 PM', and current date",
          "expectedResult": "Form shows time range that completely encompasses the existing 3:00 PM to 4:00 PM booking"
        },
        {
          "step": 3,
          "action": "Click 'Submit Reservation' button",
          "expectedResult": "System displays conflict alert within 2 seconds: 'Conflict Detected: Van-05 is already reserved from 3:00 PM to 4:00 PM. Your request encompasses this booking' with red warning icon"
        },
        {
          "step": 4,
          "action": "Click 'Show Alternative Times' button in the conflict alert",
          "expectedResult": "System displays available time slots for Van-05: before 3:00 PM and after 4:00 PM on the same date"
        },
        {
          "step": 5,
          "action": "Navigate to Reports section and select 'Conflict History' report",
          "expectedResult": "Report displays the conflict with type 'Encompassing Conflict', resource details, and user information"
        }
      ],
      "postconditions": [
        "Conflict is logged in the reporting database with conflict type classification",
        "Original booking from 3:00 PM to 4:00 PM remains intact",
        "User can select alternative time or modify request",
        "Conflict detection response time is recorded and meets <2 second requirement"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Validate successful booking when no conflicts exist for the requested time slot",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is authenticated as Scheduler",
        "Resource 'Training Room C' has no bookings between 9:00 AM and 12:00 PM on current date",
        "Scheduling page is loaded and functional",
        "User has permission to create bookings"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create Booking' button on the main scheduling interface",
          "expectedResult": "Booking form modal appears with empty fields"
        },
        {
          "step": 2,
          "action": "Select 'Training Room C' from Resource dropdown, enter Start Time '9:30 AM', End Time '10:30 AM', current date, and Purpose 'Team Training'",
          "expectedResult": "All form fields are populated with entered data"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System displays success message 'Training Room C is available for the requested time' in green banner within 2 seconds"
        },
        {
          "step": 4,
          "action": "Click 'Confirm Booking' button",
          "expectedResult": "Success confirmation appears: 'Booking confirmed for Training Room C from 9:30 AM to 10:30 AM' and booking appears in the schedule calendar"
        },
        {
          "step": 5,
          "action": "Check conflict log by clicking 'View Conflict Log' link",
          "expectedResult": "No new conflict entries are present for this booking request"
        }
      ],
      "postconditions": [
        "Booking is saved to the database with status 'Confirmed'",
        "No conflict log entry is created for this successful booking",
        "Schedule calendar displays the new booking visually",
        "User receives confirmation email or notification"
      ]
    },
    {
      "id": "TC-FUNC-006",
      "title": "Verify conflict detection and logging for multiple resources in a single booking request",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Scheduler with multi-resource booking permissions",
        "Existing bookings: 'Conference Room A' booked 2:00 PM-3:00 PM, 'Projector-001' booked 2:30 PM-3:30 PM on current date",
        "Multi-resource booking interface is accessible",
        "Conflict detection supports multiple resource validation"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create Multi-Resource Booking' button",
          "expectedResult": "Multi-resource booking form opens with option to add multiple resources"
        },
        {
          "step": 2,
          "action": "Select 'Conference Room A' and 'Projector-001' from resource multi-select dropdown, enter Start Time '2:15 PM', End Time '3:15 PM', current date",
          "expectedResult": "Both resources are added to the booking request with specified time range"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System displays conflicts for both resources: 'Conflicts Detected: (1) Conference Room A: 2:15 PM-3:00 PM overlap, (2) Projector-001: 2:30 PM-3:15 PM overlap' with detailed breakdown"
        },
        {
          "step": 4,
          "action": "Navigate to conflict log and filter by current date and time",
          "expectedResult": "Conflict log shows two separate entries, one for each resource conflict, linked to the same booking request ID"
        }
      ],
      "postconditions": [
        "Both conflicts are logged separately in the database",
        "Multi-resource booking is not confirmed",
        "User can modify resources or time to resolve conflicts",
        "Conflict log maintains relationship between multiple conflicts from same request"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Test conflict detection with invalid date format in scheduling request",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Scheduler",
        "Scheduling form is displayed",
        "System expects date format MM/DD/YYYY",
        "Conflict detection API is operational"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'New Schedule' button",
          "expectedResult": "Scheduling form opens with date field visible"
        },
        {
          "step": 2,
          "action": "Select Resource 'Meeting Room A', enter Start Time '10:00 AM', End Time '11:00 AM', and manually type invalid date '32/13/2024' in date field",
          "expectedResult": "Date field shows the invalid input"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System displays validation error 'Invalid date format. Please use MM/DD/YYYY' in red text below date field and prevents conflict check from executing"
        },
        {
          "step": 4,
          "action": "Check conflict log",
          "expectedResult": "No conflict log entry is created for invalid request"
        }
      ],
      "postconditions": [
        "No API call is made to conflict detection endpoint",
        "Form remains open with error message displayed",
        "User can correct the date and resubmit",
        "No database entries are created"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify system behavior when end time is before start time in scheduling request",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "Scheduler user is authenticated",
        "Scheduling interface is loaded",
        "Time validation rules are configured",
        "No existing bookings for test resource"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to scheduling page and click 'Create Booking' button",
          "expectedResult": "Booking form appears with time fields"
        },
        {
          "step": 2,
          "action": "Select Resource 'Conference Room B', enter Start Time '3:00 PM', End Time '2:00 PM', and valid current date",
          "expectedResult": "Form accepts the input values"
        },
        {
          "step": 3,
          "action": "Click 'Submit' button",
          "expectedResult": "System displays validation error 'End time must be after start time' in red banner and highlights both time fields in red"
        },
        {
          "step": 4,
          "action": "Attempt to bypass validation by directly calling POST /api/schedule/check with end time before start time",
          "expectedResult": "API returns 400 Bad Request with error message 'Invalid time range: end time precedes start time'"
        }
      ],
      "postconditions": [
        "Booking is not created in the database",
        "No conflict detection is performed",
        "Form remains open with validation errors visible",
        "Error is logged in application error log"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Test conflict detection when scheduling request is submitted without required resource selection",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in with Scheduler permissions",
        "Scheduling form is accessible",
        "Resource field is marked as required",
        "Form validation is enabled"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'New Schedule' button to open scheduling form",
          "expectedResult": "Form opens with Resource dropdown showing placeholder 'Select Resource'"
        },
        {
          "step": 2,
          "action": "Leave Resource dropdown empty, enter Start Time '1:00 PM', End Time '2:00 PM', and valid current date",
          "expectedResult": "Time and date fields are populated but Resource remains unselected"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System displays validation error 'Resource selection is required' below Resource dropdown with red asterisk and prevents form submission"
        },
        {
          "step": 4,
          "action": "Verify conflict log",
          "expectedResult": "No conflict log entry exists for this incomplete request"
        }
      ],
      "postconditions": [
        "Conflict detection API is not called",
        "Form validation prevents submission",
        "User must select a resource to proceed",
        "No database records are created"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Validate error handling when conflict detection API is unavailable or times out",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is authenticated as Scheduler",
        "Scheduling form is loaded with valid data",
        "Conflict detection API endpoint POST /api/schedule/check is simulated to be down or unresponsive",
        "Network timeout is set to 5 seconds"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Fill scheduling form with Resource 'Training Room A', Start Time '10:00 AM', End Time '11:00 AM', and current date",
          "expectedResult": "Form is populated with valid scheduling data"
        },
        {
          "step": 2,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System shows loading spinner and attempts to connect to conflict detection API"
        },
        {
          "step": 3,
          "action": "Wait for API timeout (5 seconds)",
          "expectedResult": "System displays error message 'Unable to check for conflicts. Service temporarily unavailable. Please try again later.' in red banner"
        },
        {
          "step": 4,
          "action": "Verify that 'Confirm Booking' button remains disabled",
          "expectedResult": "Booking confirmation is prevented and button shows disabled state with tooltip 'Conflict check required before booking'"
        }
      ],
      "postconditions": [
        "No booking is created due to failed conflict check",
        "Error is logged in system error logs with timestamp and API endpoint",
        "User can retry the conflict check",
        "Form data is preserved for retry attempt"
      ]
    },
    {
      "id": "TC-NEGA-005",
      "title": "Test system response when unauthorized user attempts to access conflict detection functionality",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in with 'Viewer' role (no scheduling permissions)",
        "Scheduling page URL is known",
        "Role-based access control is implemented",
        "Authentication tokens are valid but lack scheduling permissions"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate directly to scheduling page URL '/schedule/create'",
          "expectedResult": "System redirects to access denied page or displays error 'You do not have permission to access this feature'"
        },
        {
          "step": 2,
          "action": "Attempt to directly call POST /api/schedule/check endpoint with valid scheduling data using browser console or API tool",
          "expectedResult": "API returns 403 Forbidden with message 'Insufficient permissions. Scheduler role required.'"
        },
        {
          "step": 3,
          "action": "Check application security logs",
          "expectedResult": "Unauthorized access attempt is logged with user ID, timestamp, and attempted action"
        }
      ],
      "postconditions": [
        "No conflict detection is performed",
        "No data is modified in the database",
        "Security event is logged for audit purposes",
        "User remains on access denied page or is redirected to dashboard"
      ]
    },
    {
      "id": "TC-NEGA-006",
      "title": "Verify handling of SQL injection attempts in resource name field during conflict detection",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Scheduler",
        "Scheduling form is accessible",
        "Input sanitization and parameterized queries are implemented",
        "Security monitoring is active"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Open scheduling form and locate Resource field",
          "expectedResult": "Resource dropdown or input field is visible"
        },
        {
          "step": 2,
          "action": "If resource allows text input, enter SQL injection string: 'Room A'; DROP TABLE schedules; --' in resource field, or attempt to manipulate dropdown value via browser console",
          "expectedResult": "Input is accepted in the field"
        },
        {
          "step": 3,
          "action": "Enter valid Start Time '2:00 PM', End Time '3:00 PM', current date, and click 'Check Availability'",
          "expectedResult": "System either sanitizes input and displays 'Resource not found' error, or displays validation error 'Invalid characters in resource name'"
        },
        {
          "step": 4,
          "action": "Verify database integrity by checking that schedules table still exists and no data is deleted",
          "expectedResult": "Database tables remain intact and no SQL injection was executed"
        },
        {
          "step": 5,
          "action": "Check security logs",
          "expectedResult": "Potential SQL injection attempt is logged with user details and input string"
        }
      ],
      "postconditions": [
        "Database remains secure and unchanged",
        "Malicious input is sanitized or rejected",
        "Security incident is logged for review",
        "User cannot proceed with invalid resource name"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Test conflict detection for scheduling request with minimum valid time duration (1 minute)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Scheduler",
        "Existing booking: Resource 'Lab Equipment A' booked from 10:00 AM to 10:01 AM on current date",
        "System allows minimum 1-minute booking duration",
        "Scheduling interface is loaded"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create Booking' button",
          "expectedResult": "Booking form opens with time fields"
        },
        {
          "step": 2,
          "action": "Select Resource 'Lab Equipment A', enter Start Time '10:00 AM', End Time '10:01 AM', and current date",
          "expectedResult": "Form accepts 1-minute duration booking"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System detects conflict and displays 'Conflict: Lab Equipment A is booked from 10:00 AM to 10:01 AM' within 2 seconds"
        },
        {
          "step": 4,
          "action": "Modify Start Time to '10:01 AM' and End Time to '10:02 AM' (immediately after existing booking)",
          "expectedResult": "Form updates with adjacent 1-minute time slot"
        },
        {
          "step": 5,
          "action": "Click 'Check Availability' button again",
          "expectedResult": "System confirms 'No conflicts detected' and allows booking confirmation"
        }
      ],
      "postconditions": [
        "Conflict detection accurately handles 1-minute duration bookings",
        "Adjacent time slots are correctly identified as non-conflicting",
        "Both bookings can coexist without overlap",
        "System performance remains under 2 seconds"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Validate conflict detection for maximum allowed booking duration (24 hours)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User has Scheduler role permissions",
        "System allows maximum 24-hour continuous booking",
        "Existing booking: Resource 'Server Room Access' booked from 12:00 AM to 11:59 PM on current date",
        "Scheduling page is accessible"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to scheduling form and click 'New Booking'",
          "expectedResult": "Booking form appears"
        },
        {
          "step": 2,
          "action": "Select Resource 'Server Room Access', enter Start Time '12:00 AM', End Time '11:59 PM', and current date",
          "expectedResult": "Form accepts 24-hour duration spanning entire day"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System detects conflict for entire day: 'Conflict: Server Room Access is fully booked for the selected date (12:00 AM - 11:59 PM)'"
        },
        {
          "step": 4,
          "action": "Change date to next day and keep same 24-hour duration",
          "expectedResult": "Form updates to next day with full-day booking"
        },
        {
          "step": 5,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System confirms 'No conflicts detected' for the next day's 24-hour booking"
        }
      ],
      "postconditions": [
        "System correctly handles maximum duration bookings",
        "Conflict detection works across full-day time ranges",
        "Performance remains acceptable for large time span checks",
        "Date-based conflict isolation is maintained"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Test conflict detection when multiple concurrent users submit overlapping requests simultaneously",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "Two or more Scheduler users are logged in from different browsers/sessions",
        "Resource 'Conference Room Z' has no existing bookings for 3:00 PM to 4:00 PM on current date",
        "System supports concurrent request handling",
        "Database locking mechanisms are in place"
      ],
      "steps": [
        {
          "step": 1,
          "action": "User 1 and User 2 simultaneously open scheduling forms and select Resource 'Conference Room Z', Start Time '3:00 PM', End Time '4:00 PM', current date",
          "expectedResult": "Both users have identical booking forms filled out"
        },
        {
          "step": 2,
          "action": "User 1 and User 2 click 'Submit' button at exactly the same time (within 1 second)",
          "expectedResult": "Both requests are sent to the server simultaneously"
        },
        {
          "step": 3,
          "action": "Observe system response for both users",
          "expectedResult": "One user receives 'Booking confirmed' success message, the other user receives 'Conflict detected: Conference Room Z was just booked by another user' error message"
        },
        {
          "step": 4,
          "action": "Check conflict log for both requests",
          "expectedResult": "Conflict log shows one successful booking and one conflict entry with timestamp indicating near-simultaneous submission"
        },
        {
          "step": 5,
          "action": "Verify database for Conference Room Z at 3:00 PM - 4:00 PM",
          "expectedResult": "Only one booking exists in the database, preventing double-booking"
        }
      ],
      "postconditions": [
        "Database integrity is maintained with only one booking created",
        "Race condition is handled correctly by locking mechanism",
        "Both users receive appropriate feedback",
        "Conflict log accurately records the concurrent attempt"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify conflict detection across midnight boundary (booking spans two calendar days)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Scheduler",
        "Existing booking: Resource 'Security Station' booked from 11:00 PM today to 1:00 AM tomorrow",
        "System supports cross-day bookings",
        "Scheduling interface is loaded"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create Booking' button",
          "expectedResult": "Booking form opens"
        },
        {
          "step": 2,
          "action": "Select Resource 'Security Station', enter Start Time '11:30 PM' for current date, End Time '12:30 AM' for next date",
          "expectedResult": "Form accepts cross-midnight booking spanning two days"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System detects conflict: 'Conflict: Security Station is booked from 11:00 PM (today) to 1:00 AM (tomorrow). Your request overlaps this booking.'"
        },
        {
          "step": 4,
          "action": "Modify Start Time to '1:00 AM' and End Time to '2:00 AM' (both on next day, immediately after existing booking)",
          "expectedResult": "Form updates with time slot starting after midnight conflict"
        },
        {
          "step": 5,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System confirms 'No conflicts detected' for post-midnight time slot"
        }
      ],
      "postconditions": [
        "Cross-midnight conflict detection works correctly",
        "Date boundaries are properly handled in conflict logic",
        "Conflict log records cross-day conflicts accurately",
        "Adjacent time slots across midnight are identified correctly"
      ]
    },
    {
      "id": "TC-EDGE-005",
      "title": "Test conflict detection performance with resource having 100+ existing bookings on same day",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Scheduler",
        "Resource 'Shared Workspace' has 100 existing bookings throughout current date (various time slots)",
        "Database contains large dataset for conflict checking",
        "Performance monitoring is enabled"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to scheduling page and click 'New Booking'",
          "expectedResult": "Booking form loads successfully"
        },
        {
          "step": 2,
          "action": "Select Resource 'Shared Workspace', enter Start Time '2:00 PM', End Time '2:30 PM', and current date",
          "expectedResult": "Form is populated with scheduling data"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' button and measure response time",
          "expectedResult": "System checks against all 100+ bookings and returns conflict status within 2 seconds performance requirement"
        },
        {
          "step": 4,
          "action": "If conflict exists, note the conflict message; if no conflict, verify success message",
          "expectedResult": "Accurate conflict detection result is displayed regardless of large dataset size"
        },
        {
          "step": 5,
          "action": "Check system performance logs",
          "expectedResult": "Query execution time and API response time are logged and meet performance SLA (<2 seconds)"
        }
      ],
      "postconditions": [
        "Conflict detection remains performant with large datasets",
        "Response time meets <2 second requirement",
        "All 100+ bookings are checked for conflicts",
        "System remains responsive and stable"
      ]
    },
    {
      "id": "TC-EDGE-006",
      "title": "Validate conflict detection when scheduling request uses special characters in resource name",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is authenticated as Scheduler",
        "Resource exists with special characters in name: 'Room #42 (VIP) - Level 3'",
        "Existing booking for this resource from 10:00 AM to 11:00 AM on current date",
        "System supports Unicode and special characters in resource names"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Open scheduling form and click Resource dropdown",
          "expectedResult": "Dropdown displays all resources including 'Room #42 (VIP) - Level 3'"
        },
        {
          "step": 2,
          "action": "Select 'Room #42 (VIP) - Level 3' from dropdown, enter Start Time '10:30 AM', End Time '11:30 AM', current date",
          "expectedResult": "Resource with special characters is selected and form is populated"
        },
        {
          "step": 3,
          "action": "Click 'Check Availability' button",
          "expectedResult": "System correctly identifies conflict: 'Conflict: Room #42 (VIP) - Level 3 is booked from 10:00 AM to 11:00 AM' with special characters properly displayed"
        },
        {
          "step": 4,
          "action": "Check conflict log entry",
          "expectedResult": "Conflict log correctly stores and displays resource name with all special characters intact: 'Room #42 (VIP) - Level 3'"
        }
      ],
      "postconditions": [
        "Special characters in resource names are handled correctly",
        "Conflict detection works regardless of character encoding",
        "Display and storage of special characters is consistent",
        "No character encoding errors occur"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify complete keyboard navigation through scheduling form and conflict detection workflow",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Scheduler",
        "Scheduling page is loaded",
        "Keyboard is the only input device being used (mouse disabled for test)",
        "Screen reader is available for verification (NVDA or JAWS)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab key from page load to navigate to 'Create Booking' button",
          "expectedResult": "Focus moves sequentially through page elements with visible focus indicator (2px solid blue outline) and reaches 'Create Booking' button"
        },
        {
          "step": 2,
          "action": "Press Enter key to activate 'Create Booking' button",
          "expectedResult": "Booking form modal opens and focus automatically moves to first form field (Resource dropdown)"
        },
        {
          "step": 3,
          "action": "Press Arrow Down key to open Resource dropdown, use Arrow keys to navigate options, press Enter to select 'Meeting Room A'",
          "expectedResult": "Dropdown opens, options are navigable with arrow keys, selected resource is confirmed and dropdown closes"
        },
        {
          "step": 4,
          "action": "Press Tab to move to Start Time field, type '10:00 AM', Tab to End Time field, type '11:00 AM', Tab to Date field, type current date",
          "expectedResult": "Focus moves logically through form fields, all inputs are accessible via keyboard, values are entered successfully"
        },
        {
          "step": 5,
          "action": "Press Tab to reach 'Check Availability' button and press Enter",
          "expectedResult": "Conflict detection is triggered, focus remains on button or moves to conflict alert message"
        },
        {
          "step": 6,
          "action": "If conflict alert appears, press Tab to navigate through alert content and action buttons",
          "expectedResult": "Alert is keyboard accessible, focus moves through alert message and any action buttons (Close, View Details, etc.)"
        },
        {
          "step": 7,
          "action": "Press Escape key to close modal or alert",
          "expectedResult": "Modal/alert closes and focus returns to 'Create Booking' button that originally opened the form"
        }
      ],
      "postconditions": [
        "All interactive elements are accessible via keyboard",
        "Focus order is logical and follows visual layout",
        "Focus is never trapped in any component",
        "Escape key closes modals and returns focus appropriately"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Test screen reader announcements for conflict detection alerts and status messages",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Scheduler",
        "Screen reader is active (NVDA, JAWS, or VoiceOver)",
        "Scheduling form is accessible",
        "Existing booking: Resource 'Conference Room A' from 2:00 PM to 3:00 PM on current date"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to scheduling form using screen reader and verify form labels are announced",
          "expectedResult": "Screen reader announces 'Create Booking form, Resource dropdown, required' and all form field labels with required status"
        },
        {
          "step": 2,
          "action": "Fill form with conflicting data: Resource 'Conference Room A', Start Time '2:30 PM', End Time '3:30 PM', current date",
          "expectedResult": "Screen reader announces each field label and entered value as user navigates"
        },
        {
          "step": 3,
          "action": "Activate 'Check Availability' button and listen for screen reader announcement",
          "expectedResult": "Screen reader announces 'Checking availability' followed by 'Alert: Scheduling Conflict Detected. Conference Room A is already booked from 2:00 PM to 3:00 PM' using ARIA live region"
        },
        {
          "step": 4,
          "action": "Navigate to conflict alert using screen reader",
          "expectedResult": "Screen reader announces alert role, conflict message content, and available actions (e.g., 'View Details button, Modify Request button')"
        },
        {
          "step": 5,
          "action": "Modify time to non-conflicting slot and recheck availability",
          "expectedResult": "Screen reader announces 'Checking availability' followed by 'Success: No conflicts detected. Resource is available' using ARIA live region"
        }
      ],
      "postconditions": [
        "All status messages are announced via ARIA live regions",
        "Conflict alerts have appropriate ARIA role='alert' for immediate announcement",
        "Form labels are properly associated with inputs using for/id or aria-labelledby",
        "Dynamic content changes are communicated to screen reader users"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Validate focus management and visual focus indicators throughout conflict detection workflow",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Scheduler",
        "Scheduling interface is loaded",
        "Browser zoom is set to 100% initially",
        "High contrast mode is available for testing"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate through scheduling form using Tab key and observe focus indicators on each element",
          "expectedResult": "Every focusable element displays clear visible focus indicator with minimum 3:1 contrast ratio against background (2px solid blue outline or equivalent)"
        },
        {
          "step": 2,
          "action": "Enable browser high contrast mode and navigate through form again",
          "expectedResult": "Focus indicators remain visible in high contrast mode with sufficient contrast"
        },
        {
          "step": 3,
          "action": "Submit scheduling request that triggers conflict alert and observe focus behavior",
          "expectedResult": "When conflict alert appears, focus automatically moves to alert container or first interactive element within alert"
        },
        {
          "step": 4,
          "action": "Close conflict alert and observe focus return",
          "expectedResult": "Focus returns to the element that triggered the alert ('Check Availability' button) or to a logical location in the form"
        },
        {
          "step": 5,
          "action": "Increase browser zoom to 200% and verify focus indicators are still visible",
          "expectedResult": "Focus indicators scale appropriately and remain visible at 200% zoom level"
        }
      ],
      "postconditions": [
        "Focus indicators meet WCAG 2.1 Level AA contrast requirements (3:1 minimum)",
        "Focus is managed programmatically for dynamic content",
        "Focus indicators are visible at all zoom levels up to 200%",
        "Focus order is logical and predictable"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Test ARIA labels, roles, and properties for conflict detection interface components",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Scheduler",
        "Scheduling page is loaded",
        "Browser developer tools are open for inspecting ARIA attributes",
        "Screen reader is available for verification"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Inspect scheduling form fields using browser developer tools",
          "expectedResult": "All form inputs have proper ARIA labels: aria-label or aria-labelledby, required fields have aria-required='true', invalid fields have aria-invalid='true'"
        },
        {
          "step": 2,
          "action": "Inspect Resource dropdown component",
          "expectedResult": "Dropdown has role='combobox' or role='listbox', aria-expanded state changes when opened/closed, aria-activedescendant identifies focused option"
        },
        {
          "step": 3,
          "action": "Trigger conflict detection and inspect conflict alert element",
          "expectedResult": "Alert has role='alert' or aria-live='assertive' for immediate announcement, aria-atomic='true' for complete message announcement"
        },
        {
          "step": 4,
          "action": "Inspect conflict log table or list component",
          "expectedResult": "Table has proper structure with role='table', headers have role='columnheader', or list has role='list' with role='listitem' children"
        },
        {
          "step": 5,
          "action": "Verify ARIA properties update dynamically as user interacts (e.g., aria-expanded, aria-invalid, aria-busy)",
          "expectedResult": "ARIA states update in real-time: aria-busy='true' during conflict check, aria-invalid='true' on validation errors, aria-expanded toggles on dropdown interaction"
        }
      ],
      "postconditions": [
        "All interactive components have appropriate ARIA roles",
        "ARIA properties accurately reflect component state",
        "Dynamic content uses ARIA live regions appropriately",
        "ARIA implementation follows WAI-ARIA authoring practices"
      ]
    },
    {
      "id": "TC-ACCE-005",
      "title": "Verify color contrast ratios and non-color-dependent information in conflict alerts",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Scheduler",
        "Scheduling interface is displayed",
        "Color contrast analyzer tool is available (e.g., browser extension or WAVE tool)",
        "Existing booking exists to trigger conflict"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Use contrast analyzer to check text contrast ratios on scheduling form labels and input text",
          "expectedResult": "All text meets WCAG 2.1 Level AA requirements: normal text (4.5:1 minimum), large text 18pt+ (3:1 minimum)"
        },
        {
          "step": 2,
          "action": "Submit conflicting scheduling request and analyze conflict alert message contrast",
          "expectedResult": "Conflict alert text (typically red) has minimum 4.5:1 contrast ratio against background, error icon or indicator is present in addition to color"
        },
        {
          "step": 3,
          "action": "Check success message (no conflict) contrast ratio",
          "expectedResult": "Success message text (typically green) has minimum 4.5:1 contrast ratio, success icon or checkmark accompanies color indication"
        },
        {
          "step": 4,
          "action": "Enable browser grayscale mode or use color blindness simulator",
          "expectedResult": "Conflict and success states are distinguishable without color: icons, text labels, or patterns differentiate states"
        },
        {
          "step": 5,
          "action": "Verify button states (enabled, disabled, hover, focus) have sufficient contrast",
          "expectedResult": "All button states meet 3:1 contrast ratio for UI components, disabled buttons are distinguishable by more than color alone (opacity, text, icon)"
        }
      ],
      "postconditions": [
        "All text meets WCAG 2.1 Level AA contrast requirements",
        "Information is not conveyed by color alone",
        "UI components meet 3:1 contrast ratio requirement",
        "Interface is usable for users with color vision deficiencies"
      ]
    },
    {
      "id": "TC-ACCE-006",
      "title": "Test responsive text sizing and layout at 200% browser zoom for conflict detection interface",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Scheduler",
        "Scheduling page is loaded at 100% browser zoom",
        "Browser supports zoom functionality",
        "Test on viewport size 1280x1024 minimum"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Set browser zoom to 100% and verify scheduling form layout and readability",
          "expectedResult": "Form is fully visible, all text is readable, no horizontal scrolling required"
        },
        {
          "step": 2,
          "action": "Increase browser zoom to 150% and verify form usability",
          "expectedResult": "Form remains usable, text scales proportionally, layout adapts without breaking, all interactive elements remain accessible"
        },
        {
          "step": 3,
          "action": "Increase browser zoom to 200% (WCAG requirement) and verify complete functionality",
          "expectedResult": "All content is accessible at 200% zoom, text is readable, form fields are usable, buttons are clickable, no content is cut off or overlapping"
        },
        {
          "step": 4,
          "action": "Submit scheduling request at 200% zoom and verify conflict alert is readable",
          "expectedResult": "Conflict alert appears correctly scaled, message text is fully readable, action buttons are accessible and properly sized"
        },
        {
          "step": 5,
          "action": "Navigate to conflict log at 200% zoom",
          "expectedResult": "Conflict log table or list is readable, columns adapt or stack responsively, all data is accessible without horizontal scrolling"
        }
      ],
      "postconditions": [
        "Interface meets WCAG 2.1 Level AA requirement for 200% zoom",
        "No loss of functionality at increased zoom levels",
        "Layout adapts responsively to text scaling",
        "All content remains accessible without horizontal scrolling"
      ]
    }
  ],
  "selectedTypes": {
    "functional": true,
    "negative": true,
    "edgeCases": true,
    "accessibility": true
  },
  "userStoryObject": {
    "id": "story-4",
    "title": "As Scheduler, I want to detect scheduling conflicts in real-time to avoid double bookings",
    "epicId": "epic-2",
    "persona": "Scheduler",
    "priority": "High",
    "subtasks": [
      {
        "category": "Planning",
        "description": "Define conflict detection rules and parameters",
        "estimatedHours": 4
      },
      {
        "category": "Backend",
        "description": "Implement conflict detection logic in the scheduling service",
        "estimatedHours": 8
      },
      {
        "category": "Testing",
        "description": "Create unit tests for conflict detection logic",
        "estimatedHours": 6
      },
      {
        "category": "Documentation",
        "description": "Document conflict detection rules and API usage",
        "estimatedHours": 3
      }
    ],
    "featureId": "feature-3",
    "testCases": [
      {
        "steps": [
          {
            "step": 1,
            "action": "Submit a scheduling request that overlaps with an existing schedule",
            "result": "System detects a conflict and alerts the user"
          },
          {
            "step": 2,
            "action": "Check the conflict log",
            "result": "Conflict is recorded in the system"
          },
          {
            "step": 3,
            "action": "Modify the scheduling request",
            "result": "System re-evaluates and confirms no conflict exists"
          }
        ],
        "title": "Validate conflict detection with overlapping schedules"
      },
      {
        "steps": [
          {
            "step": 1,
            "action": "Simultaneously submit multiple scheduling requests",
            "result": "System processes all requests without errors"
          },
          {
            "step": 2,
            "action": "Verify conflict alerts for overlapping requests",
            "result": "Users receive alerts for conflicting requests"
          },
          {
            "step": 3,
            "action": "Check the conflict log",
            "result": "All conflicts are recorded correctly"
          }
        ],
        "title": "Ensure system handles multiple concurrent scheduling requests"
      }
    ],
    "description": "CONTEXT & BACKGROUND:\nThis story exists to ensure that scheduling conflicts are identified as they occur, preventing double bookings and resource misallocation.\n\nCURRENT STATE:\nCurrently, scheduling conflicts are identified only after the fact, leading to operational inefficiencies and user dissatisfaction.\n\nDESIRED STATE:\nThe system should proactively detect conflicts as scheduling requests are made, allowing for immediate resolution.\n\nKEY FUNCTIONALITY:\n Analyze incoming scheduling requests against existing schedules.\n Identify overlaps and conflicts based on predefined rules.\n Provide immediate feedback on conflict status.\n Log conflict occurrences for reporting.\n Allow users to view conflict history.\n\nUSER INTERACTION FLOW:\n1. User submits a scheduling request.\n2. System checks for existing schedules.\n3. System identifies any conflicts.\n4. User receives immediate feedback on the conflict.\n5. User can modify the request based on feedback.\n\nTECHNICAL CONSIDERATIONS:\n Data source: Scheduling database tables.\n Validation rules: Check for overlapping time slots.\n API endpoints: POST /api/schedule/check for conflict detection.\n Security: User authentication required for scheduling actions.\n Performance: Response time under 2 seconds for conflict detection.\n\nOUT OF SCOPE:\n Historical conflict analysis.\n\nSUCCESS METRICS:\n 90% of conflicts detected in real-time.",
    "storyPoints": 8,
    "personaSource": "AI Suggested",
    "acceptanceCriteria": [
      "System analyzes scheduling requests in real-time and identifies conflicts based on predefined rules.",
      "System provides immediate feedback to users when a conflict is detected.",
      "System logs all detected conflicts for reporting purposes."
    ]
  }
}