{
  "storyId": "story-3",
  "storyTitle": "As Administrator, I want to perform schedule viewing to achieve better oversight.",
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify administrator can view employee schedules in calendar format",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in with Administrator role and valid session token",
        "At least 10 employee schedules exist in the EmployeeSchedules table",
        "User is on the dashboard or home page",
        "Browser supports calendar view rendering (Chrome, Firefox, Safari, Edge)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the schedule viewing page by clicking 'Schedules' in the main navigation menu",
          "expectedResult": "Schedule viewing page loads successfully with calendar interface displayed showing current month view"
        },
        {
          "step": 2,
          "action": "Observe the calendar layout and employee schedule entries",
          "expectedResult": "Calendar displays all employee schedules with employee names, shift times, and shift types clearly visible in date cells"
        },
        {
          "step": 3,
          "action": "Click on a specific schedule entry in the calendar",
          "expectedResult": "Schedule details popup or panel appears showing full information including employee name, shift type, start time, end time, and location"
        },
        {
          "step": 4,
          "action": "Navigate between months using previous/next month arrows",
          "expectedResult": "Calendar updates to show schedules for the selected month with smooth transition and correct data loading"
        }
      ],
      "postconditions": [
        "User remains on the schedule viewing page with calendar displayed",
        "No data modifications have occurred in the EmployeeSchedules table",
        "User session remains active and authenticated",
        "Page state is ready for additional filtering or export actions"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Verify administrator can filter schedules by specific employee",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator with valid permissions",
        "Schedule viewing page is already loaded and displaying calendar view",
        "At least 5 different employees have schedules in the system",
        "Employee filter dropdown is visible and populated with employee names"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate and click on the 'Filter by Employee' dropdown in the filter panel",
          "expectedResult": "Dropdown expands showing a list of all employees with schedules, sorted alphabetically by last name"
        },
        {
          "step": 2,
          "action": "Select a specific employee 'John Smith' from the dropdown list",
          "expectedResult": "Dropdown closes and 'John Smith' is displayed as the selected filter value"
        },
        {
          "step": 3,
          "action": "Click the 'Apply Filter' button",
          "expectedResult": "Calendar refreshes and displays only schedules assigned to John Smith, with a filter badge showing '1 filter applied' near the top"
        },
        {
          "step": 4,
          "action": "Verify the filtered results by checking multiple dates in the calendar",
          "expectedResult": "Only John Smith's schedule entries are visible across all dates, no other employee schedules are shown"
        },
        {
          "step": 5,
          "action": "Click the 'Clear Filters' button or remove the employee filter",
          "expectedResult": "Calendar returns to showing all employee schedules, filter badge disappears, and dropdown resets to 'All Employees'"
        }
      ],
      "postconditions": [
        "Filter state is cleared and all schedules are visible again",
        "No permanent changes made to schedule data",
        "User remains on schedule viewing page",
        "Filter controls are reset to default state"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify administrator can filter schedules by shift type",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is loaded with calendar displayed",
        "Multiple shift types exist in the system (Morning, Evening, Night, Weekend)",
        "At least 3 schedules exist for each shift type"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click on the 'Filter by Shift Type' dropdown in the filter panel",
          "expectedResult": "Dropdown opens displaying all available shift types: Morning, Evening, Night, Weekend with checkboxes"
        },
        {
          "step": 2,
          "action": "Select 'Morning' shift type by clicking its checkbox",
          "expectedResult": "Morning checkbox is checked and highlighted"
        },
        {
          "step": 3,
          "action": "Click 'Apply Filter' button",
          "expectedResult": "Calendar updates to show only Morning shift schedules, with visual indicator showing 'Filtered by: Morning Shift'"
        },
        {
          "step": 4,
          "action": "Verify schedule entries display only Morning shifts by checking shift time ranges",
          "expectedResult": "All visible schedule entries show shift times between 6:00 AM and 2:00 PM, confirming Morning shift filter is working"
        }
      ],
      "postconditions": [
        "Only Morning shift schedules are displayed in the calendar",
        "Filter state is maintained if user navigates between months",
        "Original schedule data remains unchanged in database",
        "User can apply additional filters or clear current filter"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Verify administrator can print schedules successfully",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is displayed with at least 5 schedules visible",
        "Browser print functionality is enabled",
        "User has a printer configured or can print to PDF"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Apply desired filters (optional) to show specific schedules to print",
          "expectedResult": "Calendar displays the filtered schedules that will be printed"
        },
        {
          "step": 2,
          "action": "Click the 'Print Schedule' button in the toolbar",
          "expectedResult": "Browser print dialog opens showing print preview of the schedule in a print-friendly format"
        },
        {
          "step": 3,
          "action": "Review the print preview to ensure schedules are formatted correctly",
          "expectedResult": "Print preview shows calendar layout with clear employee names, dates, shift times, and shift types without navigation elements or buttons"
        },
        {
          "step": 4,
          "action": "Select printer or 'Save as PDF' option and click 'Print' button in dialog",
          "expectedResult": "Print job is sent successfully or PDF is generated and saved, with success message 'Schedule printed successfully' displayed"
        }
      ],
      "postconditions": [
        "Printed document or PDF contains accurate schedule information",
        "User returns to schedule viewing page after print dialog closes",
        "No changes made to schedule data",
        "Print action is logged in system audit trail"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Verify administrator can export schedules to CSV format",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator with export permissions",
        "Schedule viewing page is loaded with schedules displayed",
        "At least 10 employee schedules are available for export",
        "Browser allows file downloads"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click the 'Export' button in the toolbar",
          "expectedResult": "Export options dropdown appears showing 'Export as CSV' and 'Export as PDF' options"
        },
        {
          "step": 2,
          "action": "Select 'Export as CSV' from the dropdown",
          "expectedResult": "Export process initiates with a loading indicator showing 'Preparing CSV export...'"
        },
        {
          "step": 3,
          "action": "Wait for the export to complete",
          "expectedResult": "CSV file 'employee_schedules_YYYY-MM-DD.csv' automatically downloads to the default downloads folder, and success message 'Schedule exported successfully' appears"
        },
        {
          "step": 4,
          "action": "Open the downloaded CSV file in Excel or text editor",
          "expectedResult": "CSV file opens correctly with headers: Employee Name, Date, Shift Type, Start Time, End Time, Location and all schedule data is present and properly formatted"
        },
        {
          "step": 5,
          "action": "Verify data accuracy by comparing 5 random entries with the calendar view",
          "expectedResult": "All checked entries match exactly between the CSV file and the calendar display"
        }
      ],
      "postconditions": [
        "CSV file is saved in user's downloads folder with correct filename format",
        "File contains all visible schedule data with proper formatting",
        "User remains on schedule viewing page",
        "Export action is logged with timestamp and user ID in audit trail"
      ]
    },
    {
      "id": "TC-FUNC-006",
      "title": "Verify administrator can export schedules to PDF format",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is displayed with calendar view",
        "At least 15 schedules are visible in the current view",
        "Browser supports PDF downloads"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Apply filters to show specific date range (e.g., current week)",
          "expectedResult": "Calendar updates to show only schedules for the selected week"
        },
        {
          "step": 2,
          "action": "Click 'Export' button and select 'Export as PDF' option",
          "expectedResult": "PDF generation process starts with progress indicator showing 'Generating PDF...'"
        },
        {
          "step": 3,
          "action": "Wait for PDF generation to complete",
          "expectedResult": "PDF file 'employee_schedules_YYYY-MM-DD.pdf' downloads automatically and success notification 'PDF exported successfully' appears in green banner"
        },
        {
          "step": 4,
          "action": "Open the downloaded PDF file",
          "expectedResult": "PDF opens showing professionally formatted schedule with company header, calendar layout, employee names, shift details, and page numbers"
        },
        {
          "step": 5,
          "action": "Verify PDF contains all filtered schedules and is properly paginated",
          "expectedResult": "All schedules from the filtered view are present, layout is clean and readable, and multi-page PDFs have proper page breaks"
        }
      ],
      "postconditions": [
        "PDF file is saved with correct naming convention and timestamp",
        "PDF contains accurate schedule data matching the filtered view",
        "User remains on schedule viewing page with filters still applied",
        "Export action is recorded in system logs"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Verify unauthorized user cannot access schedule viewing page",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in with non-Administrator role (e.g., Employee or Guest role)",
        "User does not have 'view_schedules' permission in their role",
        "User is on the application dashboard",
        "Authorization middleware is properly configured"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Attempt to navigate to the schedule viewing page by clicking 'Schedules' menu item or entering URL '/schedule-viewing' directly",
          "expectedResult": "Access is denied and user is redirected to unauthorized access page or dashboard"
        },
        {
          "step": 2,
          "action": "Observe the error message displayed",
          "expectedResult": "Error message 'Access Denied: You do not have permission to view schedules' appears in red banner at top of page"
        },
        {
          "step": 3,
          "action": "Verify the schedule viewing page content is not visible",
          "expectedResult": "No schedule data or calendar interface is displayed, only the error message and navigation options"
        }
      ],
      "postconditions": [
        "User remains logged in but on unauthorized access page or dashboard",
        "No schedule data was exposed or accessible",
        "Access attempt is logged in security audit trail with user ID and timestamp",
        "User session remains valid for accessing authorized pages"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify system handles API failure when fetching schedules",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "API endpoint GET /api/employee-schedules is temporarily unavailable or returning 500 error",
        "User navigates to schedule viewing page",
        "Network connection is active but backend service is down"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the schedule viewing page",
          "expectedResult": "Page loads but shows loading spinner for schedule data"
        },
        {
          "step": 2,
          "action": "Wait for API timeout (approximately 30 seconds)",
          "expectedResult": "Loading spinner stops and error message 'Unable to load schedules. Please try again later.' appears with a 'Retry' button"
        },
        {
          "step": 3,
          "action": "Verify calendar interface shows empty state with error indication",
          "expectedResult": "Calendar framework is visible but shows 'No schedules available' with error icon and explanation text"
        },
        {
          "step": 4,
          "action": "Click the 'Retry' button",
          "expectedResult": "System attempts to reload schedules, showing loading spinner again"
        }
      ],
      "postconditions": [
        "User remains on schedule viewing page with error state displayed",
        "No partial or corrupted data is shown",
        "Error is logged in application error logs with API endpoint and error code",
        "User can navigate away or retry the operation"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Verify export fails gracefully when no schedules are available",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is loaded",
        "Filters are applied that result in zero matching schedules",
        "Calendar displays 'No schedules found' message"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Apply filters that result in no matching schedules (e.g., filter by non-existent employee)",
          "expectedResult": "Calendar shows empty state with message 'No schedules match your filters'"
        },
        {
          "step": 2,
          "action": "Click 'Export' button and select 'Export as CSV'",
          "expectedResult": "Export button is disabled or clicking it shows warning message 'Cannot export: No schedules to export'"
        },
        {
          "step": 3,
          "action": "Attempt to export as PDF",
          "expectedResult": "Similar warning message appears: 'Cannot export empty schedule. Please adjust your filters.'"
        },
        {
          "step": 4,
          "action": "Verify no file download is initiated",
          "expectedResult": "No CSV or PDF file is downloaded, and browser download manager shows no new downloads"
        }
      ],
      "postconditions": [
        "No empty or invalid files are created",
        "User remains on schedule viewing page with filters applied",
        "Warning message is displayed clearly to guide user",
        "User can adjust filters to get valid results"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Verify system handles expired session during schedule viewing",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is loaded and displaying schedules",
        "User session is about to expire or has expired",
        "Session timeout is set to 30 minutes"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Wait for session to expire or manually expire the session token",
          "expectedResult": "Session expires in the background"
        },
        {
          "step": 2,
          "action": "Attempt to apply a filter or export schedules",
          "expectedResult": "System detects expired session and displays modal dialog 'Your session has expired. Please log in again.'"
        },
        {
          "step": 3,
          "action": "Verify user is redirected to login page after clicking 'OK' on the modal",
          "expectedResult": "User is redirected to login page with return URL parameter set to schedule viewing page"
        },
        {
          "step": 4,
          "action": "Log in again with valid Administrator credentials",
          "expectedResult": "After successful login, user is redirected back to schedule viewing page"
        }
      ],
      "postconditions": [
        "User is logged out and session is cleared",
        "No schedule data remains in browser cache",
        "After re-login, user can access schedule viewing page normally",
        "Session expiration is logged in security audit trail"
      ]
    },
    {
      "id": "TC-NEGA-005",
      "title": "Verify print functionality handles browser print cancellation",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is displayed with schedules",
        "Browser print dialog can be opened",
        "At least 5 schedules are visible"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Print Schedule' button",
          "expectedResult": "Browser print dialog opens with print preview"
        },
        {
          "step": 2,
          "action": "Click 'Cancel' button in the print dialog",
          "expectedResult": "Print dialog closes and user returns to schedule viewing page"
        },
        {
          "step": 3,
          "action": "Verify the schedule viewing page is still functional",
          "expectedResult": "Calendar is displayed normally, all filters work, and no error messages appear"
        },
        {
          "step": 4,
          "action": "Attempt to print again",
          "expectedResult": "Print dialog opens successfully again without any issues"
        }
      ],
      "postconditions": [
        "User remains on schedule viewing page",
        "No print job was created or sent to printer",
        "Page functionality is not affected by cancelled print",
        "User can continue viewing and interacting with schedules"
      ]
    },
    {
      "id": "TC-NEGA-006",
      "title": "Verify system handles corrupted or invalid schedule data",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Database contains at least one schedule record with invalid or null data fields",
        "API returns schedules including the corrupted record",
        "User navigates to schedule viewing page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to schedule viewing page",
          "expectedResult": "Page loads and attempts to render all schedules"
        },
        {
          "step": 2,
          "action": "Observe how system handles invalid schedule data",
          "expectedResult": "Valid schedules are displayed normally, invalid schedules show placeholder text 'Invalid Schedule Data' or are skipped with warning icon"
        },
        {
          "step": 3,
          "action": "Check for error notification",
          "expectedResult": "Warning message appears: 'Some schedules could not be displayed due to data errors. Please contact support.'"
        },
        {
          "step": 4,
          "action": "Attempt to export schedules including the invalid data",
          "expectedResult": "Export completes but invalid records are either excluded or marked as 'Invalid Data' in the exported file"
        }
      ],
      "postconditions": [
        "Valid schedules are displayed and accessible",
        "Invalid data does not crash the application",
        "Error is logged with details of corrupted records",
        "Administrator is notified to fix data integrity issues"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Verify system handles viewing schedules with maximum data load (1000 schedules)",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Database contains exactly 1000 employee schedules across multiple months",
        "System performance requirements specify handling up to 1000 schedule views",
        "Browser has sufficient memory and resources"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to schedule viewing page",
          "expectedResult": "Page loads within 3 seconds despite large dataset"
        },
        {
          "step": 2,
          "action": "Observe initial calendar rendering with current month view",
          "expectedResult": "Calendar displays schedules for current month without lag or freezing, showing appropriate number of schedules per day"
        },
        {
          "step": 3,
          "action": "Navigate through multiple months rapidly using next/previous buttons",
          "expectedResult": "Each month loads within 1-2 seconds, calendar remains responsive, no browser freezing occurs"
        },
        {
          "step": 4,
          "action": "Apply filter to show all 1000 schedules in a list or expanded view",
          "expectedResult": "System implements pagination or virtual scrolling, showing 50-100 schedules per page with smooth scrolling"
        },
        {
          "step": 5,
          "action": "Attempt to export all 1000 schedules to CSV",
          "expectedResult": "Export completes within 10 seconds, CSV file contains all 1000 records with correct data"
        }
      ],
      "postconditions": [
        "System performance remains within acceptable limits",
        "All 1000 schedules are accessible and viewable",
        "No data loss or corruption occurs",
        "Browser memory usage remains stable"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Verify system handles empty schedule database",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "EmployeeSchedules table in database is completely empty (0 records)",
        "No filters are applied",
        "User navigates to schedule viewing page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to schedule viewing page",
          "expectedResult": "Page loads successfully showing empty calendar interface"
        },
        {
          "step": 2,
          "action": "Observe the empty state display",
          "expectedResult": "Calendar shows empty state with helpful message 'No schedules available. Create your first schedule to get started.' and a 'Create Schedule' button (if in scope)"
        },
        {
          "step": 3,
          "action": "Attempt to apply filters on empty data",
          "expectedResult": "Filter dropdowns are either disabled or show 'No options available' with appropriate messaging"
        },
        {
          "step": 4,
          "action": "Attempt to export empty schedule data",
          "expectedResult": "Export buttons are disabled or show warning 'No schedules to export'"
        },
        {
          "step": 5,
          "action": "Attempt to print empty schedule",
          "expectedResult": "Print button is disabled or prints a page with 'No schedules available' message"
        }
      ],
      "postconditions": [
        "No errors or crashes occur with empty data",
        "User interface remains functional and informative",
        "User is guided on next steps (creating schedules)",
        "Empty state is handled gracefully across all features"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Verify schedule viewing with special characters and Unicode in employee names",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Database contains employee schedules with names including special characters: O'Brien, José García, 李明, Müller, Владимир",
        "Schedule viewing page is accessible",
        "Browser supports Unicode character rendering"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to schedule viewing page",
          "expectedResult": "Page loads and displays all schedules including those with special characters"
        },
        {
          "step": 2,
          "action": "Verify employee names with special characters are displayed correctly in calendar",
          "expectedResult": "All names render correctly: O'Brien shows apostrophe, José García shows accent marks, 李明 shows Chinese characters, Müller shows umlaut, Владимир shows Cyrillic"
        },
        {
          "step": 3,
          "action": "Filter schedules by employee with special characters (e.g., select 'José García')",
          "expectedResult": "Filter works correctly and displays only José García's schedules"
        },
        {
          "step": 4,
          "action": "Export schedules to CSV including special character names",
          "expectedResult": "CSV file exports with UTF-8 encoding, all special characters are preserved and display correctly when opened"
        },
        {
          "step": 5,
          "action": "Export to PDF and verify special characters",
          "expectedResult": "PDF displays all special characters correctly with proper font rendering"
        }
      ],
      "postconditions": [
        "All special characters and Unicode names are preserved across all operations",
        "No character encoding errors occur",
        "Exported files maintain data integrity",
        "System handles international characters properly"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify schedule viewing across different time zones",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedules exist with shift times in different time zones",
        "User's browser is set to a specific time zone (e.g., EST)",
        "System stores schedule times in UTC format"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to schedule viewing page",
          "expectedResult": "Page loads and displays schedules with times converted to user's local time zone"
        },
        {
          "step": 2,
          "action": "Verify a schedule that spans midnight in UTC but not in local time",
          "expectedResult": "Schedule displays correctly in local time zone without splitting across days incorrectly"
        },
        {
          "step": 3,
          "action": "Change browser time zone settings to a different zone (e.g., PST)",
          "expectedResult": "After page refresh, all schedule times are recalculated and displayed in the new time zone"
        },
        {
          "step": 4,
          "action": "Export schedules to CSV and check time zone handling",
          "expectedResult": "CSV includes time zone information or clearly indicates times are in user's local time zone"
        }
      ],
      "postconditions": [
        "All times are displayed consistently in user's time zone",
        "No schedules are lost or duplicated due to time zone conversion",
        "Time zone handling is documented in exports",
        "System maintains data integrity across time zones"
      ]
    },
    {
      "id": "TC-EDGE-005",
      "title": "Verify simultaneous schedule viewing by multiple administrators",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "Multiple administrator users (5+) are logged in simultaneously",
        "All administrators navigate to schedule viewing page at the same time",
        "Database contains 500+ schedules",
        "System supports concurrent user sessions"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Have all 5 administrators navigate to schedule viewing page simultaneously",
          "expectedResult": "All users successfully load the schedule viewing page within acceptable time (under 5 seconds)"
        },
        {
          "step": 2,
          "action": "Each administrator applies different filters simultaneously",
          "expectedResult": "Each user's filters work independently without affecting other users' views"
        },
        {
          "step": 3,
          "action": "Multiple administrators initiate exports at the same time",
          "expectedResult": "All export requests are processed successfully, each user receives their own export file without errors"
        },
        {
          "step": 4,
          "action": "Monitor system performance during concurrent access",
          "expectedResult": "System remains responsive, no timeouts occur, API response times stay under 2 seconds"
        }
      ],
      "postconditions": [
        "All users successfully viewed and interacted with schedules",
        "No data conflicts or race conditions occurred",
        "System performance remained within acceptable parameters",
        "Each user's session remained independent and secure"
      ]
    },
    {
      "id": "TC-EDGE-006",
      "title": "Verify schedule viewing with extremely long employee names and shift descriptions",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as Administrator",
        "Database contains schedules with employee names at maximum character limit (e.g., 255 characters)",
        "Shift type descriptions are also at maximum length",
        "Schedule viewing page is accessible"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to schedule viewing page",
          "expectedResult": "Page loads successfully"
        },
        {
          "step": 2,
          "action": "Observe how extremely long employee names are displayed in calendar cells",
          "expectedResult": "Long names are truncated with ellipsis (...) and full name appears in tooltip on hover"
        },
        {
          "step": 3,
          "action": "Click on a schedule entry with long name to view details",
          "expectedResult": "Detail popup shows full employee name with proper text wrapping, no text overflow outside container"
        },
        {
          "step": 4,
          "action": "Filter by employee with extremely long name",
          "expectedResult": "Dropdown shows truncated name with ellipsis, filter works correctly when selected"
        },
        {
          "step": 5,
          "action": "Export schedules with long names to CSV",
          "expectedResult": "CSV contains full employee names without truncation, properly escaped if names contain commas or quotes"
        },
        {
          "step": 6,
          "action": "Export to PDF and verify layout",
          "expectedResult": "PDF handles long names with appropriate text wrapping, layout remains readable and professional"
        }
      ],
      "postconditions": [
        "UI remains functional and readable with long text",
        "No layout breaking or text overflow occurs",
        "Full data is preserved in exports",
        "User experience remains acceptable"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify complete keyboard navigation through schedule viewing interface",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is loaded with calendar displayed",
        "At least 10 schedules are visible",
        "Mouse is disconnected or not used for this test"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab key repeatedly from page load to navigate through all interactive elements",
          "expectedResult": "Focus moves sequentially through: main navigation, filter controls, calendar navigation buttons, schedule entries, export button, print button with visible focus indicator (2px solid outline)"
        },
        {
          "step": 2,
          "action": "Use Shift+Tab to navigate backwards through elements",
          "expectedResult": "Focus moves in reverse order through all interactive elements, no focus traps occur"
        },
        {
          "step": 3,
          "action": "Navigate to filter dropdown using Tab, press Enter or Space to open",
          "expectedResult": "Dropdown opens and focus moves to first option, arrow keys navigate through options"
        },
        {
          "step": 4,
          "action": "Use arrow keys to navigate through calendar dates and schedule entries",
          "expectedResult": "Arrow keys move focus between dates and schedules, Enter key opens schedule details"
        },
        {
          "step": 5,
          "action": "Navigate to Export button, press Enter to open export menu",
          "expectedResult": "Export dropdown opens, arrow keys navigate options, Enter selects export format"
        },
        {
          "step": 6,
          "action": "Press Escape key while dropdown is open",
          "expectedResult": "Dropdown closes and focus returns to Export button"
        }
      ],
      "postconditions": [
        "All interactive elements are accessible via keyboard",
        "Focus order is logical and follows visual layout",
        "No keyboard traps prevent navigation",
        "Focus indicators are clearly visible throughout"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Verify screen reader compatibility and announcements",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Screen reader is active (NVDA, JAWS, or VoiceOver)",
        "Schedule viewing page is loaded",
        "At least 5 schedules are displayed in calendar"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to schedule viewing page with screen reader active",
          "expectedResult": "Screen reader announces page title 'Schedule Viewing' and main landmark 'main content region'"
        },
        {
          "step": 2,
          "action": "Navigate through calendar interface using screen reader commands",
          "expectedResult": "Screen reader announces calendar structure: 'Calendar, current month: January 2024', each date cell announces 'January 15, 3 schedules'"
        },
        {
          "step": 3,
          "action": "Focus on a schedule entry",
          "expectedResult": "Screen reader announces complete schedule information: 'Schedule for John Smith, Morning shift, 8:00 AM to 4:00 PM, button'"
        },
        {
          "step": 4,
          "action": "Navigate to filter controls",
          "expectedResult": "Screen reader announces 'Filter by Employee, combobox, collapsed' and 'Filter by Shift Type, combobox, collapsed'"
        },
        {
          "step": 5,
          "action": "Apply a filter and wait for results",
          "expectedResult": "Screen reader announces via ARIA live region: 'Schedules updated, showing 5 results for John Smith'"
        },
        {
          "step": 6,
          "action": "Navigate to export button",
          "expectedResult": "Screen reader announces 'Export schedules, button, has popup menu'"
        }
      ],
      "postconditions": [
        "All content is accessible to screen reader users",
        "Dynamic content changes are announced appropriately",
        "ARIA labels and roles are properly implemented",
        "User can complete all tasks using screen reader alone"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Verify focus management and focus trap prevention",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is loaded",
        "Modal dialogs or popups can be triggered (schedule details, export options)",
        "Keyboard navigation is being used"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click on a schedule entry to open details modal using Enter key",
          "expectedResult": "Modal opens and focus automatically moves to first interactive element in modal (close button or first form field)"
        },
        {
          "step": 2,
          "action": "Press Tab repeatedly while modal is open",
          "expectedResult": "Focus cycles only through elements within the modal, does not escape to background page content"
        },
        {
          "step": 3,
          "action": "Press Escape key to close modal",
          "expectedResult": "Modal closes and focus returns to the schedule entry that opened it"
        },
        {
          "step": 4,
          "action": "Open export dropdown menu using keyboard",
          "expectedResult": "Focus moves to first menu item, Tab and arrow keys navigate within menu only"
        },
        {
          "step": 5,
          "action": "Close dropdown by pressing Escape",
          "expectedResult": "Dropdown closes and focus returns to Export button"
        },
        {
          "step": 6,
          "action": "Apply a filter that causes page content to update",
          "expectedResult": "Focus remains on or near the filter control, does not jump unexpectedly to top of page"
        }
      ],
      "postconditions": [
        "Focus is managed logically throughout all interactions",
        "Modal dialogs properly trap focus",
        "Focus returns to triggering element when dialogs close",
        "No unexpected focus jumps occur"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Verify color contrast ratios meet WCAG 2.1 AA standards",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is fully loaded",
        "Color contrast analyzer tool is available (e.g., browser extension or WAVE tool)",
        "Page displays various UI elements: text, buttons, calendar cells, schedule entries"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Use contrast analyzer to check text color against background in calendar cells",
          "expectedResult": "Normal text (under 18pt) has contrast ratio of at least 4.5:1, large text (18pt+) has at least 3:1"
        },
        {
          "step": 2,
          "action": "Check contrast of button text and backgrounds (Export, Print, Filter buttons)",
          "expectedResult": "All button text meets 4.5:1 contrast ratio against button background"
        },
        {
          "step": 3,
          "action": "Verify focus indicators have sufficient contrast",
          "expectedResult": "Focus outline has at least 3:1 contrast ratio against both the focused element and the background"
        },
        {
          "step": 4,
          "action": "Check schedule entry colors and shift type color coding",
          "expectedResult": "If colors are used to distinguish shift types, text labels are also present (not relying on color alone), and colors meet contrast requirements"
        },
        {
          "step": 5,
          "action": "Verify error messages and success notifications have adequate contrast",
          "expectedResult": "Error text (red) and success text (green) both have 4.5:1 contrast against their backgrounds"
        }
      ],
      "postconditions": [
        "All text meets WCAG 2.1 AA contrast requirements",
        "Interactive elements are visually distinguishable",
        "Color is not the only means of conveying information",
        "Page is usable for users with low vision or color blindness"
      ]
    },
    {
      "id": "TC-ACCE-005",
      "title": "Verify page functionality at 200% browser zoom",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is loaded at 100% zoom",
        "Browser supports zoom functionality (Chrome, Firefox, Safari, Edge)",
        "At least 10 schedules are displayed"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Increase browser zoom to 200% using Ctrl/Cmd + plus key",
          "expectedResult": "Page content scales proportionally, all text remains readable"
        },
        {
          "step": 2,
          "action": "Verify calendar layout at 200% zoom",
          "expectedResult": "Calendar remains functional, may switch to mobile/responsive layout, no horizontal scrolling required for main content, schedule entries are still readable"
        },
        {
          "step": 3,
          "action": "Test all interactive elements: filters, buttons, dropdowns",
          "expectedResult": "All buttons and controls remain clickable and functional, no overlapping elements, touch targets are at least 44x44 pixels"
        },
        {
          "step": 4,
          "action": "Navigate through calendar and view schedule details",
          "expectedResult": "All functionality works normally, modals and popups display correctly without content cutoff"
        },
        {
          "step": 5,
          "action": "Test export and print functions at 200% zoom",
          "expectedResult": "Export and print dialogs open correctly, functionality works as expected"
        }
      ],
      "postconditions": [
        "Page remains fully functional at 200% zoom",
        "No content is hidden or inaccessible",
        "Layout adapts responsively without breaking",
        "Users with low vision can use all features"
      ]
    },
    {
      "id": "TC-ACCE-006",
      "title": "Verify ARIA labels, roles, and live regions are properly implemented",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Schedule viewing page is loaded",
        "Browser developer tools are open to inspect ARIA attributes",
        "Screen reader is available for testing announcements"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Inspect calendar component in developer tools",
          "expectedResult": "Calendar has role='application' or role='grid', proper ARIA labels like aria-label='Schedule calendar for January 2024'"
        },
        {
          "step": 2,
          "action": "Inspect filter controls for ARIA attributes",
          "expectedResult": "Dropdowns have aria-label or aria-labelledby, aria-expanded states, aria-controls pointing to dropdown content"
        },
        {
          "step": 3,
          "action": "Check for ARIA live regions for dynamic content updates",
          "expectedResult": "Status messages area has aria-live='polite' or 'assertive', aria-atomic='true' for complete announcements"
        },
        {
          "step": 4,
          "action": "Apply a filter and observe ARIA live region updates",
          "expectedResult": "Screen reader announces filter results: 'Showing 5 schedules for John Smith' via live region"
        },
        {
          "step": 5,
          "action": "Inspect buttons for proper ARIA attributes",
          "expectedResult": "Export button has aria-haspopup='menu', Print button has descriptive aria-label='Print current schedule view'"
        },
        {
          "step": 6,
          "action": "Check schedule entries for semantic markup",
          "expectedResult": "Each schedule has proper role (button or link), aria-label with complete information: 'View schedule for John Smith, Morning shift, January 15, 8 AM to 4 PM'"
        }
      ],
      "postconditions": [
        "All ARIA attributes are correctly implemented",
        "Dynamic content changes are announced to screen readers",
        "Interactive elements have appropriate roles and labels",
        "Page structure is semantically correct and accessible"
      ]
    }
  ],
  "selectedTypes": {
    "functional": true,
    "edgeCases": true,
    "negative": true,
    "accessibility": true
  },
  "userStoryObject": {
    "id": "story-3",
    "title": "As Administrator, I want to perform schedule viewing to achieve better oversight.",
    "epicId": "epic-1",
    "persona": "Administrator",
    "priority": "Medium",
    "subtasks": [
      {
        "category": "Planning",
        "description": "Define the data model for schedule viewing.",
        "estimatedHours": 4
      },
      {
        "category": "Backend",
        "description": "Implement API endpoint for fetching employee schedules.",
        "estimatedHours": 6
      },
      {
        "category": "Frontend",
        "description": "Develop the user interface for schedule viewing.",
        "estimatedHours": 8
      },
      {
        "category": "Testing",
        "description": "Create unit tests for the schedule viewing functionality.",
        "estimatedHours": 4
      },
      {
        "category": "Documentation",
        "description": "Document the API endpoint and usage for schedule viewing.",
        "estimatedHours": 3
      }
    ],
    "featureId": "feature-2",
    "testCases": [
      {
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the schedule viewing page",
            "result": "Schedule interface is displayed"
          },
          {
            "step": 2,
            "action": "Select filters for viewing schedules",
            "result": "Filtered schedules are displayed"
          },
          {
            "step": 3,
            "action": "Print the schedule",
            "result": "Schedule is printed successfully"
          }
        ],
        "title": "Validate successful schedule viewing"
      },
      {
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the schedule viewing page",
            "result": "Schedule interface is displayed"
          },
          {
            "step": 2,
            "action": "Select export option for CSV",
            "result": "Export process is initiated"
          },
          {
            "step": 3,
            "action": "Check downloaded file",
            "result": "CSV file contains the correct schedule data"
          }
        ],
        "title": "Ensure export functionality works correctly"
      }
    ],
    "description": "CONTEXT & BACKGROUND:\nViewing schedules in a clear format is essential for administrators to monitor staffing levels and make adjustments as necessary. This story focuses on providing a user-friendly interface for viewing employee schedules.\n\nCURRENT STATE:\nCurrently, schedules are difficult to view and manage, leading to potential oversights.\n\nDESIRED STATE:\nAdministrators can easily view schedules in a calendar format, allowing for better oversight.\n\nKEY FUNCTIONALITY:\n• View employee schedules in a calendar format.\n• Filter schedules by employee or shift type.\n• Print schedules for offline use.\n• Export schedules to various formats (CSV, PDF).\n\nUSER INTERACTION FLOW:\n1. Administrator navigates to the schedule viewing page.\n2. Administrator selects filters for viewing schedules.\n3. System displays the filtered schedule.\n4. Administrator can print or export the schedule.\n5. System confirms the action.\n\nTECHNICAL CONSIDERATIONS:\n• Data source: EmployeeSchedules table in the database.\n• API endpoints: GET /api/employee-schedules for fetching schedules.\n• Security: Only authorized administrators can view schedules.\n• Performance: System should handle up to 1000 schedule views without performance degradation.\n\nOUT OF SCOPE:\n• Editing schedules is not included in this story.\n\nSUCCESS METRICS:\n• 90% of administrators report improved visibility of schedules.",
    "storyPoints": 5,
    "personaSource": "AI Suggested",
    "acceptanceCriteria": [
      "System displays employee schedules in a calendar format.",
      "Administrators can filter schedules by employee or shift type.",
      "System allows printing of schedules.",
      "System supports exporting schedules to CSV and PDF formats."
    ]
  }
}