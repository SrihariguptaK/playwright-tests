{
  "storyId": "ado-14055",
  "storyTitle": "As Employee, I want to perform commenting on tasks to achieve better communication",
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify employee can successfully add a comment to a task",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User has navigated to a valid task details page",
        "Task details page is fully loaded with comment section visible",
        "User has permission to comment on the task"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate the comment input field at the bottom of the task details section",
          "expectedResult": "Comment input field is visible and enabled with placeholder text 'Add a comment...'"
        },
        {
          "step": 2,
          "action": "Click inside the comment input field and type 'This is a test comment for task progress update'",
          "expectedResult": "Text appears in the input field as typed, character counter shows '52/500 characters'"
        },
        {
          "step": 3,
          "action": "Click the 'Save' button located next to the comment input field",
          "expectedResult": "Loading indicator appears briefly, then success message 'Comment added successfully' displays in green banner at top of page"
        },
        {
          "step": 4,
          "action": "Scroll to the comments section below the input field",
          "expectedResult": "New comment appears at the bottom of the comments list with employee name, timestamp, and comment text 'This is a test comment for task progress update'"
        },
        {
          "step": 5,
          "action": "Verify the timestamp format on the newly added comment",
          "expectedResult": "Timestamp displays in format 'Just now' or 'X minutes ago' with exact date/time on hover"
        }
      ],
      "postconditions": [
        "Comment is saved to the database and persists on page refresh",
        "Comment appears in chronological order in the comments list",
        "Relevant team members receive notification about the new comment",
        "Comment input field is cleared and ready for new input"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Verify comments are displayed in chronological order (oldest to newest)",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "Task details page contains at least 3 existing comments with different timestamps",
        "User has navigated to the task details page",
        "Comments section is visible on the page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Scroll to the comments section on the task details page",
          "expectedResult": "Comments section is visible with header 'Comments' and list of existing comments"
        },
        {
          "step": 2,
          "action": "Review the timestamps of all displayed comments from top to bottom",
          "expectedResult": "Comments are ordered with oldest comment at the top and newest comment at the bottom, timestamps show progressive chronological order"
        },
        {
          "step": 3,
          "action": "Add a new comment 'Latest comment for chronological test' and click 'Save'",
          "expectedResult": "Comment is saved successfully with success message displayed"
        },
        {
          "step": 4,
          "action": "Verify the position of the newly added comment in the comments list",
          "expectedResult": "New comment appears at the bottom of the list as the most recent comment with 'Just now' timestamp"
        }
      ],
      "postconditions": [
        "All comments remain in chronological order (oldest to newest)",
        "New comment is positioned correctly at the bottom of the list",
        "Page maintains scroll position or scrolls to show new comment",
        "Comment count is updated to reflect the new total"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify character counter updates correctly as user types comment",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment input field visible",
        "Comment input field is empty and ready for input",
        "Character counter displays '0/500 characters'"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click inside the comment input field to focus it",
          "expectedResult": "Input field is focused with cursor blinking, character counter shows '0/500 characters'"
        },
        {
          "step": 2,
          "action": "Type 'Testing character count' (23 characters including spaces)",
          "expectedResult": "Character counter updates in real-time to show '23/500 characters'"
        },
        {
          "step": 3,
          "action": "Continue typing until reaching approximately 250 characters",
          "expectedResult": "Character counter shows '250/500 characters', counter remains in normal color (black or gray)"
        },
        {
          "step": 4,
          "action": "Continue typing until reaching 490 characters",
          "expectedResult": "Character counter shows '490/500 characters', counter may change to warning color (orange/yellow) indicating approaching limit"
        },
        {
          "step": 5,
          "action": "Delete 50 characters using backspace",
          "expectedResult": "Character counter decreases to '440/500 characters', warning color (if present) returns to normal"
        }
      ],
      "postconditions": [
        "Character counter accurately reflects the current character count",
        "Input field allows typing and deletion without errors",
        "User can see remaining characters available before hitting limit",
        "No comment is saved during this test (input field still contains draft text)"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Verify notification system sends alerts to relevant team members when comment is added",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User A is logged in as an authenticated employee",
        "User B (team member) is assigned to the same task and logged in on different browser/device",
        "Both users have notification permissions enabled",
        "User A is on the task details page ready to add a comment"
      ],
      "steps": [
        {
          "step": 1,
          "action": "As User A, type 'Notification test comment - please review' in the comment input field",
          "expectedResult": "Text appears in input field, character counter shows '44/500 characters'"
        },
        {
          "step": 2,
          "action": "Click the 'Save' button to submit the comment",
          "expectedResult": "Success message 'Comment added successfully' appears, comment is displayed in the comments list"
        },
        {
          "step": 3,
          "action": "As User B, check the notification icon/bell in the top navigation bar",
          "expectedResult": "Notification badge shows '1' new notification, notification icon is highlighted or animated"
        },
        {
          "step": 4,
          "action": "As User B, click on the notification icon to open notification dropdown",
          "expectedResult": "Notification dropdown opens showing new notification: 'User A commented on Task [Task Name]' with timestamp 'Just now'"
        },
        {
          "step": 5,
          "action": "As User B, click on the notification to navigate to the task",
          "expectedResult": "User B is redirected to the task details page, new comment is visible and highlighted, notification is marked as read"
        }
      ],
      "postconditions": [
        "Notification is successfully delivered to all relevant team members",
        "Notification contains correct information (commenter name, task name, timestamp)",
        "Clicking notification navigates to the correct task details page",
        "Notification is marked as read after being clicked"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Verify comment displays within 2 seconds performance requirement",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on a task details page with stable internet connection",
        "Browser developer tools are open with Network tab active to measure timing",
        "Comment input field is visible and ready for input"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Start a timer or note the current timestamp in browser developer tools",
          "expectedResult": "Timer is ready to measure response time"
        },
        {
          "step": 2,
          "action": "Type 'Performance test comment' in the comment input field and click 'Save' button",
          "expectedResult": "Save button is clicked, loading indicator appears"
        },
        {
          "step": 3,
          "action": "Monitor the Network tab in developer tools for the POST request to /api/tasks/{id}/comments",
          "expectedResult": "POST request is sent to the API endpoint, response status is 200 OK"
        },
        {
          "step": 4,
          "action": "Measure the time from clicking 'Save' until the comment appears in the comments list",
          "expectedResult": "Comment appears in the comments list within 2 seconds, success message is displayed"
        },
        {
          "step": 5,
          "action": "Verify the total response time in the Network tab",
          "expectedResult": "API response time is under 2000ms, total time including UI update is within 2 seconds"
        }
      ],
      "postconditions": [
        "Comment is displayed within the 2-second performance requirement",
        "System meets performance SLA for comment submission",
        "No performance degradation or timeout errors occur",
        "User experience is smooth without noticeable delays"
      ]
    },
    {
      "id": "TC-FUNC-006",
      "title": "Verify only authenticated employees can add comments to tasks",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee with valid session",
        "User has navigated to a task details page",
        "Comment input field and Save button are visible",
        "User has appropriate permissions to comment on tasks"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Verify the comment input field is enabled and accessible",
          "expectedResult": "Comment input field is enabled, placeholder text is visible, Save button is enabled"
        },
        {
          "step": 2,
          "action": "Type 'Authentication test comment' in the comment input field",
          "expectedResult": "Text appears in the input field without any authentication errors"
        },
        {
          "step": 3,
          "action": "Click the 'Save' button to submit the comment",
          "expectedResult": "Comment is saved successfully, success message appears, comment is displayed with the authenticated user's name"
        },
        {
          "step": 4,
          "action": "Verify the comment shows the correct author name (logged-in employee name)",
          "expectedResult": "Comment displays with author name matching the logged-in employee, timestamp shows 'Just now'"
        }
      ],
      "postconditions": [
        "Comment is saved with correct authentication credentials",
        "Comment is attributed to the correct authenticated employee",
        "System maintains security by validating authentication before saving",
        "User session remains active after comment submission"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Verify system prevents submission of empty comment",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment input field visible",
        "Comment input field is empty with no text entered",
        "Save button is visible and enabled"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Ensure the comment input field is completely empty (no spaces or characters)",
          "expectedResult": "Input field is empty, character counter shows '0/500 characters'"
        },
        {
          "step": 2,
          "action": "Click the 'Save' button without entering any text",
          "expectedResult": "Error message 'Comment cannot be empty' appears in red text below the input field or in error banner"
        },
        {
          "step": 3,
          "action": "Verify that no comment is added to the comments list",
          "expectedResult": "Comments list remains unchanged, no new comment appears, comment count does not increase"
        },
        {
          "step": 4,
          "action": "Check the Network tab in developer tools for API calls",
          "expectedResult": "No POST request is sent to /api/tasks/{id}/comments endpoint, validation occurs on client-side"
        }
      ],
      "postconditions": [
        "No empty comment is saved to the database",
        "User remains on the task details page with input field still empty",
        "Error message is displayed to guide user to enter valid comment",
        "No notification is sent to team members"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify system prevents submission of comment exceeding 500 character limit",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment input field visible",
        "User has prepared text with exactly 501 characters ready to paste",
        "Comment input field is empty and ready for input"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Paste or type text containing exactly 501 characters into the comment input field",
          "expectedResult": "Input field either truncates text at 500 characters or displays all 501 characters with character counter showing '501/500 characters' in red"
        },
        {
          "step": 2,
          "action": "Observe the character counter and any validation messages",
          "expectedResult": "Character counter shows '501/500 characters' in red/error color, error message 'Comment exceeds maximum length of 500 characters' appears"
        },
        {
          "step": 3,
          "action": "Click the 'Save' button to attempt submission",
          "expectedResult": "Save button is either disabled or clicking it shows error message 'Comment must be 500 characters or less', comment is not submitted"
        },
        {
          "step": 4,
          "action": "Verify no comment appears in the comments list",
          "expectedResult": "Comments list remains unchanged, no new comment is added, API request is blocked or returns validation error"
        }
      ],
      "postconditions": [
        "Comment exceeding 500 characters is not saved to database",
        "User receives clear error message about character limit violation",
        "Input field retains the entered text allowing user to edit and reduce length",
        "No notification is sent to team members"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Verify system prevents unauthenticated users from adding comments",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User session has expired or user is not logged in",
        "User attempts to access task details page directly via URL",
        "Browser has no valid authentication token or session cookie",
        "Task details page URL is known and accessible"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the task details page URL without being logged in",
          "expectedResult": "System redirects to login page with message 'Please log in to continue' or shows 401 Unauthorized error"
        },
        {
          "step": 2,
          "action": "If page loads, verify the state of the comment input field",
          "expectedResult": "Comment input field is either hidden, disabled, or shows message 'Login required to comment'"
        },
        {
          "step": 3,
          "action": "Attempt to submit a POST request to /api/tasks/{id}/comments using browser developer tools or API client without authentication token",
          "expectedResult": "API returns 401 Unauthorized status code with error message 'Authentication required'"
        },
        {
          "step": 4,
          "action": "Verify no comment is added to the task",
          "expectedResult": "No comment is saved, database remains unchanged, security validation prevents unauthorized access"
        }
      ],
      "postconditions": [
        "Unauthenticated user cannot add comments to tasks",
        "System maintains security by requiring valid authentication",
        "User is redirected to login page or shown appropriate error message",
        "No data is compromised or saved without proper authentication"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Verify system handles comment submission with only whitespace characters",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment input field visible",
        "Comment input field is empty and ready for input",
        "Save button is visible and enabled"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click inside the comment input field and press spacebar 20 times to enter only spaces",
          "expectedResult": "Input field contains 20 space characters, character counter shows '20/500 characters'"
        },
        {
          "step": 2,
          "action": "Click the 'Save' button to attempt submission",
          "expectedResult": "System validates input and shows error message 'Comment cannot contain only whitespace' or 'Please enter a valid comment'"
        },
        {
          "step": 3,
          "action": "Try entering a mix of spaces, tabs, and newline characters (e.g., '    \\n\\n    \\t\\t')",
          "expectedResult": "Character counter updates but Save button shows validation error when clicked"
        },
        {
          "step": 4,
          "action": "Verify no comment appears in the comments list",
          "expectedResult": "Comments list remains unchanged, no whitespace-only comment is saved"
        }
      ],
      "postconditions": [
        "System prevents saving comments containing only whitespace",
        "Validation trims whitespace and checks for actual content",
        "User receives clear error message about invalid input",
        "Database integrity is maintained without empty/whitespace comments"
      ]
    },
    {
      "id": "TC-NEGA-005",
      "title": "Verify system handles network failure during comment submission",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment input field visible",
        "Browser developer tools are open to simulate network conditions",
        "Network throttling or offline mode can be enabled"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Type 'Network failure test comment' in the comment input field",
          "expectedResult": "Text appears in input field, character counter shows '30/500 characters'"
        },
        {
          "step": 2,
          "action": "Open browser developer tools, go to Network tab, and set network to 'Offline' mode",
          "expectedResult": "Network is disabled, browser shows offline indicator"
        },
        {
          "step": 3,
          "action": "Click the 'Save' button to attempt comment submission",
          "expectedResult": "Loading indicator appears briefly, then error message 'Network error: Unable to save comment. Please check your connection and try again.' appears in red banner"
        },
        {
          "step": 4,
          "action": "Verify the comment text remains in the input field",
          "expectedResult": "Input field retains the entered text 'Network failure test comment', allowing user to retry without re-typing"
        },
        {
          "step": 5,
          "action": "Re-enable network connection and click 'Save' again",
          "expectedResult": "Comment is successfully saved, success message appears, comment is displayed in comments list"
        }
      ],
      "postconditions": [
        "System gracefully handles network failures with appropriate error messages",
        "User data (comment text) is preserved during network errors",
        "User can retry submission after network is restored",
        "No partial or corrupted data is saved to database"
      ]
    },
    {
      "id": "TC-NEGA-006",
      "title": "Verify system handles SQL injection attempts in comment input",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment input field visible",
        "Comment input field is empty and ready for input",
        "Database has proper input sanitization and parameterized queries"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Type SQL injection string \"'; DROP TABLE comments; --\" in the comment input field",
          "expectedResult": "Text appears in input field as plain text, character counter shows '29/500 characters'"
        },
        {
          "step": 2,
          "action": "Click the 'Save' button to submit the comment",
          "expectedResult": "Comment is saved successfully, SQL injection string is treated as plain text and not executed"
        },
        {
          "step": 3,
          "action": "Verify the comment appears in the comments list with the SQL string displayed as text",
          "expectedResult": "Comment displays exactly as entered: \"'; DROP TABLE comments; --\" without executing any SQL commands"
        },
        {
          "step": 4,
          "action": "Verify the comments table still exists and other comments are intact",
          "expectedResult": "All existing comments remain visible, database table is not dropped, system properly sanitized the input"
        }
      ],
      "postconditions": [
        "SQL injection attempt is neutralized and treated as plain text",
        "Database integrity is maintained, no tables are dropped or modified",
        "Comment is saved with special characters properly escaped",
        "System demonstrates proper input sanitization and security measures"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Verify system handles comment with exactly 500 characters (boundary limit)",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment input field visible",
        "User has prepared text with exactly 500 characters ready to paste",
        "Comment input field is empty and ready for input"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Paste or type text containing exactly 500 characters into the comment input field",
          "expectedResult": "All 500 characters appear in the input field, character counter shows '500/500 characters' in normal or warning color"
        },
        {
          "step": 2,
          "action": "Verify the Save button state and any validation messages",
          "expectedResult": "Save button remains enabled, no error message appears, system accepts 500 characters as valid"
        },
        {
          "step": 3,
          "action": "Click the 'Save' button to submit the comment",
          "expectedResult": "Comment is saved successfully, success message 'Comment added successfully' appears"
        },
        {
          "step": 4,
          "action": "Verify the complete 500-character comment appears in the comments list",
          "expectedResult": "Full comment text is displayed without truncation, all 500 characters are visible and properly formatted"
        },
        {
          "step": 5,
          "action": "Refresh the page and verify the comment persists with all 500 characters",
          "expectedResult": "Comment remains intact after page refresh, all 500 characters are retrieved from database and displayed correctly"
        }
      ],
      "postconditions": [
        "Comment with exactly 500 characters is saved successfully to database",
        "Full comment text is displayed without truncation or data loss",
        "Character limit boundary is properly handled at maximum allowed value",
        "Database field accommodates 500 characters without overflow"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Verify system handles comment with special characters and Unicode (emojis, accents)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment input field visible",
        "Comment input field is empty and ready for input",
        "Database supports UTF-8 encoding for special characters"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Type comment with special characters: 'Great work! üëç Caf√© r√©sum√© na√Øve <script>alert(\"test\")</script> @user #task'",
          "expectedResult": "All characters including emojis, accents, HTML tags, and special symbols appear in input field, character counter updates correctly"
        },
        {
          "step": 2,
          "action": "Click the 'Save' button to submit the comment",
          "expectedResult": "Comment is saved successfully, success message appears"
        },
        {
          "step": 3,
          "action": "Verify the comment appears in the comments list with all special characters properly displayed",
          "expectedResult": "Comment displays: 'Great work! üëç Caf√© r√©sum√© na√Øve <script>alert(\"test\")</script> @user #task' with emojis rendered, accents preserved, HTML tags escaped (not executed)"
        },
        {
          "step": 4,
          "action": "Verify no JavaScript execution occurs from the <script> tag",
          "expectedResult": "Script tag is displayed as plain text or stripped, no alert popup appears, XSS attack is prevented"
        },
        {
          "step": 5,
          "action": "Refresh the page and verify all special characters persist correctly",
          "expectedResult": "All special characters, emojis, and accents are retrieved from database and displayed correctly after refresh"
        }
      ],
      "postconditions": [
        "Special characters and Unicode are properly saved and displayed",
        "Emojis render correctly in the UI without encoding issues",
        "HTML/script tags are sanitized to prevent XSS attacks",
        "Database properly stores UTF-8 encoded characters"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Verify system handles rapid successive comment submissions (double-click prevention)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment input field visible",
        "Comment input field is empty and ready for input",
        "Network connection is stable"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Type 'Rapid submission test comment' in the comment input field",
          "expectedResult": "Text appears in input field, character counter shows '31/500 characters'"
        },
        {
          "step": 2,
          "action": "Quickly double-click the 'Save' button (click twice within 500ms)",
          "expectedResult": "Save button is disabled after first click, loading indicator appears, second click is ignored"
        },
        {
          "step": 3,
          "action": "Wait for the comment submission to complete and check the comments list",
          "expectedResult": "Only ONE comment 'Rapid submission test comment' appears in the list, no duplicate comments are created"
        },
        {
          "step": 4,
          "action": "Check the Network tab in developer tools for API calls",
          "expectedResult": "Only ONE POST request to /api/tasks/{id}/comments is sent, duplicate requests are prevented"
        },
        {
          "step": 5,
          "action": "Verify the database contains only one instance of the comment",
          "expectedResult": "Database query shows only one record for this comment, no duplicate entries exist"
        }
      ],
      "postconditions": [
        "System prevents duplicate comment submissions from rapid clicking",
        "Save button is properly disabled during submission process",
        "Only one comment is saved to database regardless of multiple clicks",
        "User experience is protected from accidental double submissions"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify system handles task with zero existing comments (empty state)",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User has navigated to a task details page that has never had any comments",
        "Task is valid and accessible but comments list is empty",
        "Comment input field is visible and ready for input"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Observe the comments section on the task details page",
          "expectedResult": "Comments section displays empty state message 'No comments yet. Be the first to comment!' or similar placeholder"
        },
        {
          "step": 2,
          "action": "Verify the comment input field and Save button are visible and enabled",
          "expectedResult": "Comment input field is accessible, Save button is enabled, no errors are displayed"
        },
        {
          "step": 3,
          "action": "Type 'First comment on this task' in the comment input field and click 'Save'",
          "expectedResult": "Comment is saved successfully, success message appears"
        },
        {
          "step": 4,
          "action": "Verify the empty state message is replaced with the new comment",
          "expectedResult": "Empty state message disappears, first comment appears in the comments list with author name and timestamp"
        },
        {
          "step": 5,
          "action": "Verify the comment count updates from 0 to 1",
          "expectedResult": "Comment counter (if visible) shows '1 comment' or similar indicator"
        }
      ],
      "postconditions": [
        "First comment is successfully added to previously empty task",
        "Empty state is properly replaced with comments list",
        "Comment count is updated correctly from 0 to 1",
        "System handles transition from empty to populated state smoothly"
      ]
    },
    {
      "id": "TC-EDGE-005",
      "title": "Verify system handles task with large number of existing comments (100+ comments)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "Task details page contains 100 or more existing comments",
        "User has navigated to the task details page",
        "Page has loaded with pagination or lazy loading for comments"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Observe the initial load time and display of the comments section",
          "expectedResult": "Page loads within acceptable time (under 5 seconds), comments are displayed with pagination or 'Load more' button, or first 20-50 comments are shown"
        },
        {
          "step": 2,
          "action": "Scroll to the bottom of the comments list or click 'Load more' if pagination exists",
          "expectedResult": "Additional comments load smoothly, scroll performance is acceptable without lag"
        },
        {
          "step": 3,
          "action": "Add a new comment 'Comment on task with 100+ existing comments' and click 'Save'",
          "expectedResult": "Comment is saved successfully within 2 seconds, success message appears"
        },
        {
          "step": 4,
          "action": "Verify the new comment appears at the bottom of the chronological list",
          "expectedResult": "New comment is positioned correctly as the most recent (101st comment), page scrolls to show new comment or provides notification"
        },
        {
          "step": 5,
          "action": "Verify page performance remains acceptable with 101 comments",
          "expectedResult": "Page remains responsive, no significant performance degradation, scrolling and interactions work smoothly"
        }
      ],
      "postconditions": [
        "System handles large number of comments without performance issues",
        "New comment is added successfully to task with 100+ existing comments",
        "Pagination or lazy loading works correctly with increased comment count",
        "User experience remains smooth even with large dataset"
      ]
    },
    {
      "id": "TC-EDGE-006",
      "title": "Verify system handles comment submission during session timeout/expiration",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment input field visible",
        "User session is about to expire or can be manually expired",
        "Comment input field contains unsaved text"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Type 'Session timeout test comment' in the comment input field but do not save",
          "expectedResult": "Text appears in input field, character counter shows '29/500 characters'"
        },
        {
          "step": 2,
          "action": "Wait for session to expire (or manually clear session cookie/token in browser developer tools)",
          "expectedResult": "Session expires, authentication token becomes invalid"
        },
        {
          "step": 3,
          "action": "Click the 'Save' button to attempt comment submission",
          "expectedResult": "System detects expired session and shows error message 'Your session has expired. Please log in again.' or redirects to login page"
        },
        {
          "step": 4,
          "action": "Verify the comment text is preserved (if possible) or user is warned about data loss",
          "expectedResult": "System either preserves comment text in browser storage for recovery after re-login, or warns user 'Your comment will be lost. Please log in to continue.'"
        },
        {
          "step": 5,
          "action": "Log in again and return to the task details page",
          "expectedResult": "User is redirected to task details page, comment text is either restored from browser storage or input field is empty"
        }
      ],
      "postconditions": [
        "System gracefully handles session expiration during comment submission",
        "User receives clear notification about session timeout",
        "User data is preserved when possible or user is warned about data loss",
        "No comment is saved with invalid/expired authentication"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify complete keyboard navigation for comment input and submission",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment section visible",
        "User is using only keyboard (no mouse) for navigation",
        "Screen reader is optionally enabled for testing"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab key repeatedly from the top of the page until focus reaches the comment input field",
          "expectedResult": "Focus moves through all interactive elements in logical order, comment input field receives visible focus indicator (blue outline or border)"
        },
        {
          "step": 2,
          "action": "With focus on comment input field, type 'Keyboard navigation test comment'",
          "expectedResult": "Text is entered successfully, character counter updates, no focus is lost during typing"
        },
        {
          "step": 3,
          "action": "Press Tab key to move focus to the 'Save' button",
          "expectedResult": "Focus moves from input field to Save button, visible focus indicator appears on Save button"
        },
        {
          "step": 4,
          "action": "Press Enter key or Spacebar to activate the Save button",
          "expectedResult": "Comment is submitted successfully, success message appears and is announced by screen reader, focus moves to success message or remains on Save button"
        },
        {
          "step": 5,
          "action": "Press Tab to navigate through the newly added comment in the comments list",
          "expectedResult": "Focus moves to the new comment, comment content is accessible and readable, timestamp and author information are accessible"
        },
        {
          "step": 6,
          "action": "Press Shift+Tab to navigate backwards through the elements",
          "expectedResult": "Focus moves in reverse order through Save button, input field, and previous elements without skipping or trapping focus"
        }
      ],
      "postconditions": [
        "All comment functionality is fully accessible via keyboard only",
        "Focus order is logical and follows visual layout",
        "No keyboard traps exist that prevent navigation",
        "All interactive elements have visible focus indicators"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Verify screen reader announces comment input, submission, and success messages",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment section visible",
        "Screen reader is enabled (NVDA, JAWS, or VoiceOver)",
        "User is navigating with keyboard and screen reader active"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the comment input field using Tab key with screen reader active",
          "expectedResult": "Screen reader announces 'Comment input field, edit text, Add a comment, 0 of 500 characters' or similar descriptive label"
        },
        {
          "step": 2,
          "action": "Type 'Screen reader test comment' in the input field",
          "expectedResult": "Screen reader announces each character or word as typed (depending on verbosity settings), character counter updates are announced"
        },
        {
          "step": 3,
          "action": "Navigate to the Save button using Tab key",
          "expectedResult": "Screen reader announces 'Save button' or 'Submit comment button' with clear indication it is a button element"
        },
        {
          "step": 4,
          "action": "Press Enter to submit the comment",
          "expectedResult": "Screen reader announces 'Comment added successfully' or similar success message, announcement is made via ARIA live region"
        },
        {
          "step": 5,
          "action": "Navigate to the newly added comment in the comments list",
          "expectedResult": "Screen reader announces comment content, author name, and timestamp in logical order: 'Comment by [Author Name], [Timestamp], Screen reader test comment'"
        },
        {
          "step": 6,
          "action": "Navigate to the character counter while typing",
          "expectedResult": "Screen reader announces character count updates at appropriate intervals (e.g., every 10 characters or when approaching limit)"
        }
      ],
      "postconditions": [
        "All comment functionality is fully accessible to screen reader users",
        "ARIA labels and live regions provide appropriate announcements",
        "Success and error messages are announced automatically",
        "Comment content and metadata are properly structured for screen readers"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Verify proper ARIA labels, roles, and attributes for comment section",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment section visible",
        "Browser developer tools are open to inspect HTML and ARIA attributes",
        "Accessibility testing extension (e.g., axe DevTools) is installed"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Inspect the comment input field element in browser developer tools",
          "expectedResult": "Input field has proper attributes: aria-label='Add a comment' or associated <label>, aria-describedby pointing to character counter, role='textbox' (implicit or explicit)"
        },
        {
          "step": 2,
          "action": "Inspect the character counter element",
          "expectedResult": "Character counter has id attribute referenced by input's aria-describedby, contains text like '0/500 characters', updates dynamically"
        },
        {
          "step": 3,
          "action": "Inspect the Save button element",
          "expectedResult": "Button has accessible name via text content or aria-label, role='button' (implicit for <button> element), aria-disabled='true' when appropriate"
        },
        {
          "step": 4,
          "action": "Inspect the success/error message container",
          "expectedResult": "Message container has aria-live='polite' or 'assertive', role='alert' or 'status', messages are announced when they appear"
        },
        {
          "step": 5,
          "action": "Inspect the comments list container",
          "expectedResult": "Comments list has semantic structure: <ul> or <ol> with <li> for each comment, or role='list' with role='listitem', proper heading hierarchy"
        },
        {
          "step": 6,
          "action": "Run automated accessibility checker (axe DevTools) on the comment section",
          "expectedResult": "No critical ARIA or accessibility violations are reported, all interactive elements have accessible names, color contrast meets WCAG AA standards"
        }
      ],
      "postconditions": [
        "All ARIA attributes are properly implemented and valid",
        "Semantic HTML structure is used where possible",
        "Automated accessibility tests pass without critical violations",
        "Comment section is fully accessible according to WCAG 2.1 Level AA standards"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Verify sufficient color contrast for comment text, buttons, and error messages",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment section visible",
        "Color contrast checker tool is available (browser extension or online tool)",
        "Page is displayed in default theme/color scheme"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Use color contrast checker to measure contrast ratio between comment input field text and background",
          "expectedResult": "Contrast ratio is at least 4.5:1 for normal text (or 3:1 for large text 18pt+), meets WCAG AA standards"
        },
        {
          "step": 2,
          "action": "Measure contrast ratio between Save button text and button background color",
          "expectedResult": "Contrast ratio is at least 4.5:1 (or 3:1 for large text), button is clearly visible and readable"
        },
        {
          "step": 3,
          "action": "Trigger an error message (e.g., submit empty comment) and measure contrast of error text",
          "expectedResult": "Error message text has contrast ratio of at least 4.5:1 against background, red color is not the only indicator of error (icon or text also present)"
        },
        {
          "step": 4,
          "action": "Measure contrast ratio of character counter text, especially when approaching limit",
          "expectedResult": "Character counter has sufficient contrast in all states: normal (4.5:1), warning (4.5:1), and error (4.5:1)"
        },
        {
          "step": 5,
          "action": "Check contrast of comment metadata (author name, timestamp) in comments list",
          "expectedResult": "All text elements meet minimum contrast requirements, secondary text (timestamps) has at least 4.5:1 ratio"
        },
        {
          "step": 6,
          "action": "Verify focus indicators have sufficient contrast against background",
          "expectedResult": "Focus outline/border has contrast ratio of at least 3:1 against adjacent colors, focus is clearly visible"
        }
      ],
      "postconditions": [
        "All text and interactive elements meet WCAG 2.1 Level AA contrast requirements",
        "Color is not used as the only means of conveying information",
        "Users with low vision or color blindness can read all content",
        "Focus indicators are clearly visible for keyboard navigation"
      ]
    },
    {
      "id": "TC-ACCE-005",
      "title": "Verify comment section functionality at 200% browser zoom level",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment section visible",
        "Browser zoom is set to default 100% level",
        "Page is fully loaded and responsive"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Increase browser zoom to 200% using Ctrl/Cmd + '+' or browser zoom controls",
          "expectedResult": "Page scales to 200%, comment section remains visible and usable, no horizontal scrolling is required for comment input"
        },
        {
          "step": 2,
          "action": "Verify the comment input field is fully visible and functional at 200% zoom",
          "expectedResult": "Input field is accessible, text is readable, character counter is visible, no text or UI elements are cut off or overlapping"
        },
        {
          "step": 3,
          "action": "Type 'Zoom level test comment' in the input field at 200% zoom",
          "expectedResult": "Text entry works normally, typed text is clearly visible and readable, character counter updates correctly"
        },
        {
          "step": 4,
          "action": "Locate and click the Save button at 200% zoom",
          "expectedResult": "Save button is fully visible and clickable, button text is readable, clicking works without issues"
        },
        {
          "step": 5,
          "action": "Verify the success message and new comment are visible at 200% zoom",
          "expectedResult": "Success message appears and is readable, new comment is displayed in comments list with all text visible, no content is hidden or truncated"
        },
        {
          "step": 6,
          "action": "Scroll through the comments list at 200% zoom",
          "expectedResult": "Scrolling works smoothly, all comments are readable, layout remains intact without breaking or overlapping elements"
        }
      ],
      "postconditions": [
        "All comment functionality works correctly at 200% zoom level",
        "No horizontal scrolling is required for primary content",
        "Text remains readable and UI elements remain accessible",
        "Layout adapts responsively without breaking at increased zoom"
      ]
    },
    {
      "id": "TC-ACCE-006",
      "title": "Verify error messages are accessible and announced properly to assistive technologies",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the task details page with comment section visible",
        "Screen reader is enabled (NVDA, JAWS, or VoiceOver)",
        "Comment input field is empty and ready for testing"
      ],
      "steps": [
        {
          "step": 1,
          "action": "With screen reader active, navigate to the comment input field and click Save without entering text",
          "expectedResult": "Error message 'Comment cannot be empty' appears and is immediately announced by screen reader via ARIA live region"
        },
        {
          "step": 2,
          "action": "Verify the error message has proper ARIA attributes in developer tools",
          "expectedResult": "Error message container has aria-live='assertive' or role='alert', aria-atomic='true' for complete message announcement"
        },
        {
          "step": 3,
          "action": "Check if the input field is associated with the error message",
          "expectedResult": "Input field has aria-invalid='true' and aria-describedby pointing to error message ID, screen reader announces error when field receives focus"
        },
        {
          "step": 4,
          "action": "Type text exceeding 500 characters and attempt to save",
          "expectedResult": "Error message 'Comment exceeds maximum length of 500 characters' appears and is announced by screen reader"
        },
        {
          "step": 5,
          "action": "Verify error message has sufficient color contrast and is not conveyed by color alone",
          "expectedResult": "Error message uses red text with sufficient contrast (4.5:1), also includes error icon or 'Error:' prefix, not relying solely on color"
        },
        {
          "step": 6,
          "action": "Correct the error and submit successfully, verify error message is cleared",
          "expectedResult": "Error message disappears, aria-invalid is removed or set to 'false', screen reader announces success message, focus management is appropriate"
        }
      ],
      "postconditions": [
        "All error messages are accessible to screen reader users",
        "Errors are announced immediately when they occur",
        "Error messages are associated with relevant form fields",
        "Errors are conveyed through multiple means (text, color, icons, ARIA)"
      ]
    }
  ],
  "selectedTypes": {
    "functional": true,
    "edgeCases": true,
    "negative": true,
    "accessibility": true
  },
  "userStoryObject": {
    "id": "ado-14055",
    "title": "As Employee, I want to perform commenting on tasks to achieve better communication",
    "description": "<div>CONTEXT &amp; BACKGROUND:\nThis story exists to facilitate communication among team members regarding task progress and requirements.\n\nCURRENT STATE:\nCurrently, there is no way for employees to leave comments on tasks, leading to potential misunderstandings.\n\nDESIRED STATE:\nEmployees can add comments to tasks, improving clarity and collaboration.\n\nKEY FUNCTIONALITY:\n‚Ä¢ Comment input field\n‚Ä¢ Save button for submitting comments\n‚Ä¢ Display of comments in chronological order\n‚Ä¢ Notification system for new comments\n\nUSER INTERACTION FLOW:\n1. Employee navigates to the task details page.\n2. Employee enters a comment in the input field.\n3. Employee clicks the save button.\n4. System validates the comment.\n5. Comment is saved and displayed.\n6. Notifications are sent to relevant team members.\n\nTECHNICAL CONSIDERATIONS:\n‚Ä¢ Data source: comments table in the database\n‚Ä¢ Validation rules: comment length must be under 500 characters\n‚Ä¢ API endpoints: POST /api/tasks/{id}/comments\n‚Ä¢ Security: Only authenticated employees can add comments\n‚Ä¢ Performance: Comments should be displayed within 2 seconds\n\nOUT OF SCOPE:\n‚Ä¢ Comment editing functionality\n\nSUCCESS METRICS:\n‚Ä¢ 90% of comments displayed successfully </div><br><div><strong>Persona:</strong> Employee (Employee) </div>",
    "acceptanceCriteria": "<div><strong>Criteria 1:</strong> System allows employees to add comments with a character limit of 500. </div><br><div><strong>Criteria 2:</strong> System displays all comments in chronological order under the task details. </div><br><div><strong>Criteria 3:</strong> System notifies relevant team members when a new comment is added. </div><br>",
    "adoWorkItemId": 14055,
    "state": "New",
    "assignedTo": "Unassigned",
    "createdDate": "2026-01-29T09:28:42.62Z",
    "priority": 2,
    "storyPoints": 5,
    "tags": "",
    "epicId": null,
    "featureId": null,
    "source": "ado",
    "adoUrl": "https://dev.azure.com/QS001/Venus/_workitems/edit/14055"
  }
}