{
  "storyId": "story-1",
  "storyTitle": "As Administrator, I want to perform shift template creation to achieve reusable scheduling.",
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify successful creation of shift template with valid start time, end time, and break times",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in with Administrator role and has permission to create shift templates",
        "User is on the shift template management page at /admin/shift-templates",
        "Database ShiftTemplates table is accessible and has less than 100 existing templates",
        "Browser is Chrome version 90+ or equivalent modern browser"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click on the 'Create New Template' button located in the top-right corner of the page",
          "expectedResult": "Shift template creation form is displayed with fields for Template Name, Start Time, End Time, and Break Times"
        },
        {
          "step": 2,
          "action": "Enter 'Morning Shift' in the Template Name field",
          "expectedResult": "Template Name field accepts the input and displays 'Morning Shift'"
        },
        {
          "step": 3,
          "action": "Select '08:00 AM' from the Start Time dropdown picker",
          "expectedResult": "Start Time field displays '08:00 AM' and no validation errors appear"
        },
        {
          "step": 4,
          "action": "Select '05:00 PM' from the End Time dropdown picker",
          "expectedResult": "End Time field displays '05:00 PM' and validation confirms end time is after start time"
        },
        {
          "step": 5,
          "action": "Click 'Add Break' button and enter break time from '12:00 PM' to '01:00 PM'",
          "expectedResult": "Break time is added to the template with start '12:00 PM' and end '01:00 PM', displayed in the breaks list"
        },
        {
          "step": 6,
          "action": "Click the 'Save Template' button at the bottom of the form",
          "expectedResult": "Green success banner appears at top of page with message 'Shift template created successfully' and form is cleared"
        },
        {
          "step": 7,
          "action": "Verify the newly created template appears in the templates list",
          "expectedResult": "Template 'Morning Shift' is visible in the list with start time '08:00 AM', end time '05:00 PM', and break '12:00 PM - 01:00 PM'"
        }
      ],
      "postconditions": [
        "New shift template 'Morning Shift' is saved in ShiftTemplates database table with correct times",
        "User remains on the shift template management page",
        "Template list is refreshed and displays the newly created template",
        "Template counter shows incremented count of total templates"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Verify creation of shift template with multiple break periods",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator with shift template creation permissions",
        "User is on the shift template creation page",
        "No existing template with the same name exists in the system"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Template creation form is displayed with empty fields"
        },
        {
          "step": 2,
          "action": "Enter 'Extended Shift' in Template Name field and set Start Time to '06:00 AM' and End Time to '10:00 PM'",
          "expectedResult": "All fields accept input and show no validation errors for the 16-hour shift duration"
        },
        {
          "step": 3,
          "action": "Click 'Add Break' and add first break from '10:00 AM' to '10:15 AM'",
          "expectedResult": "First break is added and displayed in breaks section with label 'Break 1: 10:00 AM - 10:15 AM'"
        },
        {
          "step": 4,
          "action": "Click 'Add Break' again and add second break from '02:00 PM' to '02:30 PM'",
          "expectedResult": "Second break is added and displayed below first break with label 'Break 2: 02:00 PM - 02:30 PM'"
        },
        {
          "step": 5,
          "action": "Click 'Add Break' again and add third break from '06:00 PM' to '06:15 PM'",
          "expectedResult": "Third break is added and displayed with label 'Break 3: 06:00 PM - 06:15 PM', all breaks are non-overlapping"
        },
        {
          "step": 6,
          "action": "Click 'Save Template' button",
          "expectedResult": "Success message 'Shift template created successfully' appears and template is saved with all three breaks"
        }
      ],
      "postconditions": [
        "Template 'Extended Shift' is saved with three separate break periods in the database",
        "All break times are stored correctly and associated with the template",
        "Template appears in the list view showing all break periods"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify editing of existing shift template with updated times",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "At least one shift template named 'Evening Shift' exists with start time '02:00 PM' and end time '10:00 PM'",
        "User is on the shift template management page viewing the list of templates"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Evening Shift' template in the list and click the 'Edit' icon button next to it",
          "expectedResult": "Edit template form opens with pre-populated fields showing current values: Start Time '02:00 PM', End Time '10:00 PM'"
        },
        {
          "step": 2,
          "action": "Change the Start Time from '02:00 PM' to '03:00 PM'",
          "expectedResult": "Start Time field updates to '03:00 PM' and validation confirms it is still before end time"
        },
        {
          "step": 3,
          "action": "Change the End Time from '10:00 PM' to '11:00 PM'",
          "expectedResult": "End Time field updates to '11:00 PM' with no validation errors"
        },
        {
          "step": 4,
          "action": "Click 'Update Template' button",
          "expectedResult": "Blue success banner displays 'Shift template updated successfully' and form closes"
        },
        {
          "step": 5,
          "action": "Verify the updated template in the list",
          "expectedResult": "'Evening Shift' template now shows Start Time '03:00 PM' and End Time '11:00 PM' in the list view"
        }
      ],
      "postconditions": [
        "Template 'Evening Shift' is updated in the database with new start and end times",
        "Template ID remains unchanged, only time values are modified",
        "User is returned to the template list view",
        "Audit log records the template modification with timestamp and administrator user ID"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Verify deletion of shift template that is no longer in use",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator with delete permissions",
        "A shift template named 'Obsolete Shift' exists and is not currently assigned to any employees",
        "User is on the shift template management page",
        "Template list displays at least 2 templates including 'Obsolete Shift'"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Obsolete Shift' template in the list and click the 'Delete' icon button (trash can icon)",
          "expectedResult": "Confirmation modal dialog appears with message 'Are you sure you want to delete this shift template? This action cannot be undone.'"
        },
        {
          "step": 2,
          "action": "Click 'Confirm Delete' button in the modal dialog",
          "expectedResult": "Modal closes and red success banner appears with message 'Shift template deleted successfully'"
        },
        {
          "step": 3,
          "action": "Verify the template list is updated",
          "expectedResult": "'Obsolete Shift' template is no longer visible in the template list and total template count is decremented by 1"
        }
      ],
      "postconditions": [
        "Template 'Obsolete Shift' is permanently removed from ShiftTemplates database table",
        "Template list is refreshed and no longer shows the deleted template",
        "User remains on the shift template management page",
        "System logs the deletion action with administrator ID and timestamp"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Verify viewing complete list of all created shift templates with pagination",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "System contains 25 shift templates in the database",
        "User navigates to the shift template management page at /admin/shift-templates",
        "Default pagination is set to display 10 templates per page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Observe the initial template list display",
          "expectedResult": "First 10 templates are displayed in a table with columns: Template Name, Start Time, End Time, Breaks, Actions"
        },
        {
          "step": 2,
          "action": "Verify pagination controls at the bottom showing 'Page 1 of 3' with Next and Previous buttons",
          "expectedResult": "Pagination shows 'Page 1 of 3', Previous button is disabled, Next button is enabled"
        },
        {
          "step": 3,
          "action": "Click 'Next' button to navigate to page 2",
          "expectedResult": "Page 2 loads showing templates 11-20, pagination updates to 'Page 2 of 3', both Previous and Next buttons are enabled"
        },
        {
          "step": 4,
          "action": "Click 'Next' button again to navigate to page 3",
          "expectedResult": "Page 3 loads showing templates 21-25 (5 templates), pagination shows 'Page 3 of 3', Next button is disabled, Previous button is enabled"
        },
        {
          "step": 5,
          "action": "Verify each template displays complete information including break times",
          "expectedResult": "All templates show Template Name, Start Time, End Time, and Break Times (if any) in readable format"
        }
      ],
      "postconditions": [
        "All 25 templates are accessible through pagination",
        "User can navigate between pages without data loss",
        "Template data is displayed consistently across all pages"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Verify validation error when end time is before or equal to start time",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation page",
        "Template creation form is displayed and empty"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Invalid Shift' in Template Name field",
          "expectedResult": "Template Name field accepts the input"
        },
        {
          "step": 2,
          "action": "Select '05:00 PM' from the Start Time dropdown",
          "expectedResult": "Start Time field displays '05:00 PM'"
        },
        {
          "step": 3,
          "action": "Select '02:00 PM' from the End Time dropdown (earlier than start time)",
          "expectedResult": "Red validation error message appears below End Time field stating 'End time must be after start time'"
        },
        {
          "step": 4,
          "action": "Attempt to click 'Save Template' button",
          "expectedResult": "'Save Template' button is disabled and cannot be clicked, error message remains visible"
        },
        {
          "step": 5,
          "action": "Change End Time to '05:00 PM' (equal to start time)",
          "expectedResult": "Red validation error message appears stating 'End time must be after start time. Shift duration must be at least 1 minute.'"
        }
      ],
      "postconditions": [
        "No template is created or saved in the database",
        "User remains on the template creation form with validation errors displayed",
        "Form data is retained for correction",
        "No API call to POST /api/shift-templates is made"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify validation error when break times overlap with each other",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation page",
        "Template form has Start Time '08:00 AM' and End Time '05:00 PM' already entered"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Add Break' and enter first break from '12:00 PM' to '01:00 PM'",
          "expectedResult": "First break is added successfully and displayed in breaks list"
        },
        {
          "step": 2,
          "action": "Click 'Add Break' again and enter second break from '12:30 PM' to '01:30 PM' (overlapping with first break)",
          "expectedResult": "Red validation error appears stating 'Break times cannot overlap with existing breaks. Conflict with Break 1 (12:00 PM - 01:00 PM)'"
        },
        {
          "step": 3,
          "action": "Attempt to click 'Save Template' button",
          "expectedResult": "Save button is disabled and tooltip shows 'Please resolve validation errors before saving'"
        },
        {
          "step": 4,
          "action": "Change second break to '12:00 PM' to '12:30 PM' (partial overlap)",
          "expectedResult": "Validation error persists: 'Break times cannot overlap with existing breaks'"
        }
      ],
      "postconditions": [
        "Template is not saved to the database",
        "Overlapping break validation prevents form submission",
        "User must correct break times before proceeding",
        "First valid break remains in the form"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Verify validation error when break time falls outside shift start and end time",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template creation page",
        "Template has Start Time '09:00 AM' and End Time '05:00 PM' entered"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Add Break' button",
          "expectedResult": "Break time input fields appear with start and end time pickers"
        },
        {
          "step": 2,
          "action": "Enter break start time as '08:00 AM' (before shift start time)",
          "expectedResult": "Red validation error appears: 'Break start time must be after shift start time (09:00 AM)'"
        },
        {
          "step": 3,
          "action": "Change break start time to '04:00 PM' and break end time to '06:00 PM' (after shift end time)",
          "expectedResult": "Red validation error appears: 'Break end time must be before shift end time (05:00 PM)'"
        },
        {
          "step": 4,
          "action": "Attempt to save the template",
          "expectedResult": "Save button remains disabled and form cannot be submitted with validation errors present"
        }
      ],
      "postconditions": [
        "No template is saved to the database",
        "Break time validation prevents invalid data entry",
        "User is prompted to correct break times to fall within shift boundaries"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Verify error handling when attempting to create template with empty required fields",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation page",
        "All form fields are empty"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Leave Template Name field empty",
          "expectedResult": "Template Name field shows placeholder text 'Enter template name'"
        },
        {
          "step": 2,
          "action": "Leave Start Time field unselected",
          "expectedResult": "Start Time field shows placeholder 'Select start time'"
        },
        {
          "step": 3,
          "action": "Leave End Time field unselected",
          "expectedResult": "End Time field shows placeholder 'Select end time'"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button with all fields empty",
          "expectedResult": "Multiple validation errors appear: 'Template Name is required', 'Start Time is required', 'End Time is required' in red text below respective fields"
        },
        {
          "step": 5,
          "action": "Verify form submission is blocked",
          "expectedResult": "Form does not submit, no API call is made, and user remains on creation page with error messages displayed"
        }
      ],
      "postconditions": [
        "No template record is created in the database",
        "Form remains in edit mode with validation errors visible",
        "Focus is set to the first field with an error (Template Name)",
        "Error count indicator shows '3 errors must be corrected'"
      ]
    },
    {
      "id": "TC-NEGA-005",
      "title": "Verify unauthorized access prevention when non-administrator user attempts to create shift template",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in with 'Employee' role (non-administrator)",
        "User does not have shift template creation permissions",
        "User attempts to navigate directly to /admin/shift-templates/create URL"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter URL '/admin/shift-templates/create' directly in browser address bar",
          "expectedResult": "System redirects to access denied page or dashboard with error message"
        },
        {
          "step": 2,
          "action": "Observe the error message displayed",
          "expectedResult": "Red error banner appears stating 'Access Denied: You do not have permission to create shift templates. Contact your administrator.'"
        },
        {
          "step": 3,
          "action": "Verify user is redirected to appropriate page",
          "expectedResult": "User is redirected to their dashboard or previous page, not the template creation form"
        },
        {
          "step": 4,
          "action": "Attempt to access template creation via API by sending POST request to /api/shift-templates",
          "expectedResult": "API returns 403 Forbidden status code with error message 'Insufficient permissions'"
        }
      ],
      "postconditions": [
        "No template creation form is accessible to non-administrator user",
        "Security audit log records unauthorized access attempt with user ID and timestamp",
        "User session remains active but access is denied",
        "No data is modified in the database"
      ]
    },
    {
      "id": "TC-NEGA-006",
      "title": "Verify error handling when attempting to delete a shift template currently assigned to employees",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Shift template 'Day Shift' exists and is currently assigned to 5 active employees",
        "User is on the shift template management page viewing the template list"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Day Shift' template in the list and click the 'Delete' icon button",
          "expectedResult": "Confirmation modal appears with warning message"
        },
        {
          "step": 2,
          "action": "Read the warning message in the modal",
          "expectedResult": "Modal displays: 'Cannot delete this template. It is currently assigned to 5 employees. Please reassign employees before deleting.'"
        },
        {
          "step": 3,
          "action": "Observe that 'Confirm Delete' button is disabled or replaced with 'View Assignments' button",
          "expectedResult": "'Confirm Delete' button is disabled and grayed out, 'View Assignments' button is available"
        },
        {
          "step": 4,
          "action": "Click 'Close' or 'Cancel' button to dismiss the modal",
          "expectedResult": "Modal closes and template remains in the list unchanged"
        }
      ],
      "postconditions": [
        "Template 'Day Shift' remains in the database and is not deleted",
        "All employee assignments to this template remain intact",
        "User is returned to the template list view",
        "No deletion is logged in the audit trail"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Verify system behavior when creating shift template with minimum valid duration (1 minute)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation page",
        "System allows minimum shift duration of 1 minute"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Minimal Shift' in Template Name field",
          "expectedResult": "Template Name field accepts the input"
        },
        {
          "step": 2,
          "action": "Select Start Time as '09:00 AM'",
          "expectedResult": "Start Time is set to '09:00 AM'"
        },
        {
          "step": 3,
          "action": "Select End Time as '09:01 AM' (exactly 1 minute after start time)",
          "expectedResult": "End Time is set to '09:01 AM' and validation passes with no errors"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is saved successfully with confirmation message 'Shift template created successfully'"
        },
        {
          "step": 5,
          "action": "Verify template appears in list with duration displayed",
          "expectedResult": "Template 'Minimal Shift' appears in list showing '09:00 AM - 09:01 AM' with duration '1 min'"
        }
      ],
      "postconditions": [
        "Template with 1-minute duration is saved in database",
        "Template can be selected and used for scheduling",
        "System correctly calculates and displays the minimal duration"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Verify system behavior when creating shift template with maximum duration (24 hours spanning midnight)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation page",
        "System supports shifts that span across midnight"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Overnight 24hr Shift' in Template Name field",
          "expectedResult": "Template Name accepts the input"
        },
        {
          "step": 2,
          "action": "Select Start Time as '12:00 AM' (midnight)",
          "expectedResult": "Start Time is set to '12:00 AM'"
        },
        {
          "step": 3,
          "action": "Select End Time as '11:59 PM' (23 hours 59 minutes later)",
          "expectedResult": "End Time is set to '11:59 PM' and system validates the 24-hour duration"
        },
        {
          "step": 4,
          "action": "Add break from '12:00 PM' to '01:00 PM'",
          "expectedResult": "Break is added successfully within the shift timeframe"
        },
        {
          "step": 5,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template saves successfully with message 'Shift template created successfully' and duration shows '23 hrs 59 min'"
        }
      ],
      "postconditions": [
        "Template with maximum duration is saved correctly in database",
        "System handles midnight boundary correctly",
        "Break times are properly associated with the extended shift"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Verify system performance when exactly 100 shift templates exist (performance threshold)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "System currently has exactly 99 shift templates in the database",
        "Performance requirement states system should handle up to 100 templates without degradation",
        "User is on the shift template creation page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Create the 100th shift template with name 'Template 100', Start Time '08:00 AM', End Time '04:00 PM'",
          "expectedResult": "Template creation form accepts all inputs without lag or delay"
        },
        {
          "step": 2,
          "action": "Click 'Save Template' button and measure response time",
          "expectedResult": "Template saves within 2 seconds and success message appears promptly"
        },
        {
          "step": 3,
          "action": "Navigate to the template list view",
          "expectedResult": "List loads within 3 seconds showing all 100 templates with pagination"
        },
        {
          "step": 4,
          "action": "Use search/filter functionality to find 'Template 100'",
          "expectedResult": "Search returns results within 1 second without performance degradation"
        },
        {
          "step": 5,
          "action": "Attempt to create the 101st template",
          "expectedResult": "System either allows creation (if limit is soft) or displays message 'Maximum template limit reached (100). Please delete unused templates before creating new ones.'"
        }
      ],
      "postconditions": [
        "System maintains performance with 100 templates loaded",
        "All CRUD operations remain responsive",
        "Database queries execute within acceptable time limits",
        "User experience is not degraded at the threshold"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify template creation with special characters and Unicode in template name",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation page",
        "System supports UTF-8 character encoding"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter template name with special characters: 'Shift #1 - Morning (8-5) & Breaks!' in Template Name field",
          "expectedResult": "Template Name field accepts all special characters including #, -, (), &, !"
        },
        {
          "step": 2,
          "action": "Set Start Time to '08:00 AM' and End Time to '05:00 PM'",
          "expectedResult": "Times are set correctly with no validation errors"
        },
        {
          "step": 3,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template saves successfully and special characters are preserved in the database"
        },
        {
          "step": 4,
          "action": "Create another template with Unicode characters: 'Café Shift ☕ 早班' (includes accented characters, emoji, and Chinese characters)",
          "expectedResult": "Template Name field accepts Unicode characters and displays them correctly"
        },
        {
          "step": 5,
          "action": "Save the Unicode template and verify it appears correctly in the list",
          "expectedResult": "Template 'Café Shift ☕ 早班' is saved and displayed correctly with all Unicode characters rendered properly"
        }
      ],
      "postconditions": [
        "Both templates with special and Unicode characters are saved correctly in database",
        "Characters are displayed properly in all views (list, edit, detail)",
        "No character encoding issues or data corruption occurs",
        "Search and filter functions work correctly with special characters"
      ]
    },
    {
      "id": "TC-EDGE-005",
      "title": "Verify system behavior when creating template with break time exactly at shift boundaries",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template creation page",
        "Template has Start Time '09:00 AM' and End Time '05:00 PM' entered"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Add Break' and set break start time to '09:00 AM' (exactly at shift start)",
          "expectedResult": "System either accepts the break or shows validation: 'Break must start after shift start time'"
        },
        {
          "step": 2,
          "action": "If previous step failed, change break start to '09:01 AM' and set break end to '09:30 AM'",
          "expectedResult": "Break is accepted as it starts 1 minute after shift start"
        },
        {
          "step": 3,
          "action": "Add another break with start time '04:30 PM' and end time '05:00 PM' (exactly at shift end)",
          "expectedResult": "System either accepts the break or shows validation: 'Break must end before shift end time'"
        },
        {
          "step": 4,
          "action": "If previous step failed, change break end to '04:59 PM'",
          "expectedResult": "Break is accepted as it ends 1 minute before shift end"
        },
        {
          "step": 5,
          "action": "Save the template and verify breaks are stored correctly",
          "expectedResult": "Template saves with breaks properly positioned at the boundaries of the shift"
        }
      ],
      "postconditions": [
        "System enforces consistent boundary rules for break times",
        "Break times are validated against shift start and end times",
        "Template is saved with valid break configurations"
      ]
    },
    {
      "id": "TC-EDGE-006",
      "title": "Verify template name field behavior with maximum character length",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template creation page",
        "Template Name field has a maximum character limit (assume 100 characters)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter exactly 100 characters in Template Name field: 'A' repeated 100 times",
          "expectedResult": "Field accepts all 100 characters and displays character count '100/100' below the field"
        },
        {
          "step": 2,
          "action": "Attempt to enter the 101st character",
          "expectedResult": "Field prevents additional input and shows message 'Maximum length reached (100 characters)' or simply blocks further typing"
        },
        {
          "step": 3,
          "action": "Set Start Time to '09:00 AM' and End Time to '05:00 PM'",
          "expectedResult": "Times are set correctly"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template saves successfully with the 100-character name"
        },
        {
          "step": 5,
          "action": "Verify the full template name is displayed correctly in the list view (may be truncated with ellipsis)",
          "expectedResult": "Template appears in list with name truncated to fit (e.g., 'AAAAAAA...') with tooltip showing full name on hover"
        }
      ],
      "postconditions": [
        "Template with maximum-length name is saved in database",
        "Full name is preserved in database even if truncated in UI",
        "Character limit is enforced consistently across all browsers"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify complete keyboard navigation through shift template creation form",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template management page",
        "Screen reader is not active (testing keyboard only)",
        "Browser is set to default zoom level (100%)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab key to navigate to 'Create New Template' button",
          "expectedResult": "Focus indicator (visible outline) appears on 'Create New Template' button with sufficient contrast (3:1 ratio)"
        },
        {
          "step": 2,
          "action": "Press Enter key to activate the button",
          "expectedResult": "Template creation form opens and focus automatically moves to the first field (Template Name)"
        },
        {
          "step": 3,
          "action": "Type 'Keyboard Test Shift' in Template Name field, then press Tab",
          "expectedResult": "Focus moves to Start Time dropdown with visible focus indicator"
        },
        {
          "step": 4,
          "action": "Press Space or Enter to open Start Time dropdown, use Arrow Down key to select '09:00 AM', press Enter to confirm",
          "expectedResult": "Dropdown opens, arrow keys navigate through time options, Enter selects '09:00 AM' and closes dropdown"
        },
        {
          "step": 5,
          "action": "Press Tab to move to End Time field, repeat time selection using keyboard for '05:00 PM'",
          "expectedResult": "Focus moves to End Time, dropdown is fully operable with keyboard, time is selected successfully"
        },
        {
          "step": 6,
          "action": "Press Tab to navigate to 'Add Break' button, press Enter to add break, then use keyboard to set break times",
          "expectedResult": "Break section appears, focus moves to break start time, all break time fields are keyboard accessible"
        },
        {
          "step": 7,
          "action": "Press Tab to navigate to 'Save Template' button and press Enter",
          "expectedResult": "Form submits, success message appears, and focus moves to the success message or back to template list"
        },
        {
          "step": 8,
          "action": "Press Escape key while in any modal or form",
          "expectedResult": "Modal/form closes and focus returns to the triggering element ('Create New Template' button)"
        }
      ],
      "postconditions": [
        "All interactive elements are reachable via keyboard in logical order",
        "Focus is never trapped in any component",
        "Focus indicators are visible throughout navigation",
        "Template is created successfully using only keyboard"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Verify screen reader announcements and ARIA labels for shift template creation workflow",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "NVDA or JAWS screen reader is active and running",
        "User is on the shift template management page",
        "Screen reader verbosity is set to medium level"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to 'Create New Template' button using screen reader",
          "expectedResult": "Screen reader announces: 'Create New Template, button' with role and accessible name clearly stated"
        },
        {
          "step": 2,
          "action": "Activate the button and listen to screen reader announcement when form opens",
          "expectedResult": "Screen reader announces: 'Shift Template Creation Form, dialog' or 'Create Shift Template, heading level 1' and 'Template Name, edit, required'"
        },
        {
          "step": 3,
          "action": "Navigate to Start Time field",
          "expectedResult": "Screen reader announces: 'Start Time, combobox, required, collapsed' with clear indication of field type and requirement"
        },
        {
          "step": 4,
          "action": "Enter invalid data (end time before start time) and trigger validation",
          "expectedResult": "Screen reader announces: 'Error: End time must be after start time, alert' using ARIA live region with role='alert'"
        },
        {
          "step": 5,
          "action": "Navigate to 'Add Break' button",
          "expectedResult": "Screen reader announces: 'Add Break, button' with clear action description"
        },
        {
          "step": 6,
          "action": "Submit the form successfully and listen for confirmation",
          "expectedResult": "Screen reader announces: 'Success: Shift template created successfully, alert' using ARIA live region"
        },
        {
          "step": 7,
          "action": "Navigate through the template list and listen to table announcements",
          "expectedResult": "Screen reader announces: 'Shift Templates table, 5 rows, 5 columns' and reads each cell with proper row and column headers"
        }
      ],
      "postconditions": [
        "All form fields have proper ARIA labels and roles",
        "Error messages are announced immediately via aria-live regions",
        "Success confirmations are announced to screen reader users",
        "Table data is properly structured with headers for screen reader navigation"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Verify focus management and focus trap in shift template creation modal dialog",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template management page",
        "Template creation opens in a modal dialog overlay"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button to open modal dialog",
          "expectedResult": "Modal opens and focus automatically moves to the first focusable element (Template Name field) inside the modal"
        },
        {
          "step": 2,
          "action": "Press Tab repeatedly to cycle through all focusable elements in the modal",
          "expectedResult": "Focus cycles through: Template Name, Start Time, End Time, Add Break button, Save button, Cancel button in logical order"
        },
        {
          "step": 3,
          "action": "Continue pressing Tab after reaching the last focusable element (Cancel button)",
          "expectedResult": "Focus wraps back to the first focusable element (Template Name field), creating a focus trap within the modal"
        },
        {
          "step": 4,
          "action": "Press Shift+Tab from the first element (Template Name)",
          "expectedResult": "Focus moves backward to the last focusable element (Cancel button), maintaining the focus trap"
        },
        {
          "step": 5,
          "action": "Press Escape key while focus is anywhere in the modal",
          "expectedResult": "Modal closes and focus returns to the 'Create New Template' button that originally opened the modal"
        },
        {
          "step": 6,
          "action": "Open modal again and click 'Save Template' button",
          "expectedResult": "After successful save, modal closes and focus moves to the newly created template in the list or to a success message"
        }
      ],
      "postconditions": [
        "Focus is properly trapped within modal while open",
        "Focus returns to logical element when modal closes",
        "Background content is not accessible while modal is open (aria-hidden='true' on background)",
        "Modal has proper ARIA attributes: role='dialog', aria-modal='true', aria-labelledby pointing to modal title"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Verify color contrast ratios meet WCAG 2.1 AA standards for all text and interactive elements",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is on the shift template management page",
        "Color contrast analyzer tool is available (e.g., browser DevTools, WAVE, axe DevTools)",
        "Page is displayed at 100% zoom in default theme"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Use contrast analyzer to check the 'Create New Template' button text against its background",
          "expectedResult": "Contrast ratio is at least 4.5:1 for normal text or 3:1 for large text (18pt+), meeting WCAG AA standards"
        },
        {
          "step": 2,
          "action": "Check contrast ratio of form field labels (Template Name, Start Time, End Time) against page background",
          "expectedResult": "All labels have contrast ratio of at least 4.5:1 against background"
        },
        {
          "step": 3,
          "action": "Check contrast ratio of error messages (red text) against their background",
          "expectedResult": "Error message text has contrast ratio of at least 4.5:1, and error is not conveyed by color alone (includes icon or text indicator)"
        },
        {
          "step": 4,
          "action": "Check contrast ratio of success messages (green banner) against background",
          "expectedResult": "Success message text has contrast ratio of at least 4.5:1"
        },
        {
          "step": 5,
          "action": "Check focus indicators on all interactive elements (buttons, inputs, dropdowns)",
          "expectedResult": "Focus indicators have contrast ratio of at least 3:1 against adjacent colors and are clearly visible"
        },
        {
          "step": 6,
          "action": "Verify that information is not conveyed by color alone (e.g., required fields, validation states)",
          "expectedResult": "Required fields are marked with asterisk (*) or 'required' text in addition to any color coding; errors include icon and text, not just red color"
        }
      ],
      "postconditions": [
        "All text meets WCAG 2.1 AA contrast requirements (4.5:1 for normal text, 3:1 for large text)",
        "Interactive elements have sufficient contrast for focus indicators (3:1)",
        "Information is conveyed through multiple means, not color alone",
        "Page is usable for users with color blindness or low vision"
      ]
    },
    {
      "id": "TC-ACCE-005",
      "title": "Verify page functionality and readability at 200% browser zoom level",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template management page",
        "Browser zoom is set to 100% initially",
        "Browser window is at standard desktop resolution (1920x1080)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Increase browser zoom to 200% using Ctrl/Cmd + Plus key or browser zoom controls",
          "expectedResult": "Page content scales proportionally to 200% without horizontal scrolling required"
        },
        {
          "step": 2,
          "action": "Verify all text is readable and not truncated at 200% zoom",
          "expectedResult": "All labels, button text, table headers, and content remain fully visible and readable without text overlap or truncation"
        },
        {
          "step": 3,
          "action": "Click 'Create New Template' button at 200% zoom",
          "expectedResult": "Modal or form opens correctly, all form fields are visible and accessible without requiring horizontal scroll"
        },
        {
          "step": 4,
          "action": "Navigate through all form fields and interact with dropdowns at 200% zoom",
          "expectedResult": "All interactive elements remain functional, dropdowns open fully visible, and no content is cut off"
        },
        {
          "step": 5,
          "action": "Complete template creation workflow at 200% zoom",
          "expectedResult": "Entire workflow can be completed successfully, success message is visible, and template appears in list"
        },
        {
          "step": 6,
          "action": "Verify template list table is readable at 200% zoom",
          "expectedResult": "Table columns adjust appropriately, content wraps if needed, and all data remains accessible (may require vertical scrolling but not horizontal)"
        }
      ],
      "postconditions": [
        "Page remains fully functional at 200% zoom level",
        "No horizontal scrolling is required (vertical scrolling is acceptable)",
        "All content is readable and interactive elements are usable",
        "Layout adapts responsively to increased zoom level"
      ]
    }
  ],
  "selectedTypes": {
    "functional": true,
    "negative": true,
    "edgeCases": true,
    "accessibility": true
  },
  "userStoryObject": {
    "id": "story-1",
    "title": "As Administrator, I want to perform shift template creation to achieve reusable scheduling.",
    "epicId": "epic-1",
    "persona": "Administrator",
    "priority": "High",
    "subtasks": [
      {
        "category": "Planning",
        "description": "Define the data model for shift templates.",
        "estimatedHours": 4
      },
      {
        "category": "Backend",
        "description": "Implement API endpoint for creating shift templates.",
        "estimatedHours": 6
      },
      {
        "category": "Frontend",
        "description": "Develop the user interface for shift template creation.",
        "estimatedHours": 8
      },
      {
        "category": "Testing",
        "description": "Create unit tests for the shift template creation functionality.",
        "estimatedHours": 4
      },
      {
        "category": "Documentation",
        "description": "Document the API endpoint and usage for shift template creation.",
        "estimatedHours": 3
      }
    ],
    "featureId": "feature-1",
    "testCases": [
      {
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template creation page",
            "result": "Creation form is displayed"
          },
          {
            "step": 2,
            "action": "Enter valid start and end times",
            "result": "No validation errors"
          },
          {
            "step": 3,
            "action": "Submit the form",
            "result": "Template is created successfully with confirmation message"
          }
        ],
        "title": "Validate successful shift template creation"
      },
      {
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template creation page",
            "result": "Creation form is displayed"
          },
          {
            "step": 2,
            "action": "Enter overlapping break times",
            "result": "Validation error is displayed"
          },
          {
            "step": 3,
            "action": "Attempt to submit the form",
            "result": "Submission is blocked with error message"
          }
        ],
        "title": "Ensure validation for overlapping break times"
      }
    ],
    "description": "CONTEXT & BACKGROUND:\nThe ability to create shift templates is essential for streamlining the scheduling process. This feature allows administrators to define shifts that can be reused, reducing the time spent on scheduling.\n\nCURRENT STATE:\nCurrently, scheduling is done manually without templates, leading to inconsistencies and increased workload.\n\nDESIRED STATE:\nAdministrators can create and manage templates, ensuring consistency and efficiency in scheduling.\n\nKEY FUNCTIONALITY:\n• Create new shift templates with start and end times.\n• Define break times within templates.\n• Edit existing templates as needed.\n• Delete templates that are no longer in use.\n\nUSER INTERACTION FLOW:\n1. Administrator navigates to the shift template management page.\n2. Administrator clicks on 'Create New Template'.\n3. Administrator inputs shift details (start time, end time, breaks).\n4. Administrator saves the template.\n5. System confirms template creation.\n6. Administrator can view the list of created templates.\n\nTECHNICAL CONSIDERATIONS:\n• Data source: ShiftTemplates table in the database.\n• Validation rules: Ensure start time is before end time.\n• API endpoints: POST /api/shift-templates for creation.\n• Security: Only authorized administrators can create templates.\n• Performance: System should handle up to 100 templates without performance degradation.\n\nOUT OF SCOPE:\n• Employee-specific scheduling is not included in this story.\n\nSUCCESS METRICS:\n• 90% of templates created without errors.",
    "storyPoints": 5,
    "personaSource": "AI Suggested",
    "acceptanceCriteria": [
      "System allows creation of shift templates with valid start and end times.",
      "System validates break times and ensures they do not overlap with shift times.",
      "System displays a confirmation message upon successful template creation.",
      "System lists all created templates for review."
    ]
  }
}