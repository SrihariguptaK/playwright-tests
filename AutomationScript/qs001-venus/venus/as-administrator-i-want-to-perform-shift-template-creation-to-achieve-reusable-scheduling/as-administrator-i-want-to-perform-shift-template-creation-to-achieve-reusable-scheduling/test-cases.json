{
  "storyId": "story-1",
  "storyTitle": "As Administrator, I want to perform shift template creation to achieve reusable scheduling.",
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify successful creation of shift template with valid start time, end time, and break periods",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in with Administrator role and has 'Create Shift Template' permission",
        "User is on the Shift Template Management page at /admin/shift-templates",
        "ShiftTemplates database table is accessible and has less than 100 existing templates",
        "System time is synchronized and displaying correct timezone"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click the 'Create New Template' button located in the top-right corner of the page",
          "expectedResult": "Shift template creation form modal opens with fields for Template Name, Start Time, End Time, and Break Times visible"
        },
        {
          "step": 2,
          "action": "Enter 'Morning Shift' in the Template Name field",
          "expectedResult": "Text 'Morning Shift' appears in the Template Name field without validation errors"
        },
        {
          "step": 3,
          "action": "Select '08:00 AM' from the Start Time dropdown picker",
          "expectedResult": "Start Time field displays '08:00 AM' and no validation errors appear"
        },
        {
          "step": 4,
          "action": "Select '05:00 PM' from the End Time dropdown picker",
          "expectedResult": "End Time field displays '05:00 PM' and duration calculation shows '9 hours' below the field"
        },
        {
          "step": 5,
          "action": "Click 'Add Break' button and enter break from '12:00 PM' to '01:00 PM'",
          "expectedResult": "Break period is added to the list showing '12:00 PM - 01:00 PM (1 hour)' and net working hours updates to '8 hours'"
        },
        {
          "step": 6,
          "action": "Click the 'Save Template' button at the bottom of the form",
          "expectedResult": "Green success banner appears at top of page with message 'Shift template created successfully' and modal closes automatically"
        },
        {
          "step": 7,
          "action": "Verify the newly created template appears in the templates list",
          "expectedResult": "Template 'Morning Shift' is visible in the list with details: 08:00 AM - 05:00 PM, 1 break, 8 hours net time"
        }
      ],
      "postconditions": [
        "New shift template record is saved in ShiftTemplates database table with status 'Active'",
        "Template appears in the templates list and is available for selection in scheduling workflows",
        "User remains on the Shift Template Management page with the list view displayed",
        "Audit log entry is created recording template creation with administrator username and timestamp"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Verify creation of shift template with multiple break periods within valid shift hours",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator with template creation permissions",
        "User is on the Shift Template Management page",
        "No existing template with the name 'Extended Shift' exists in the system",
        "Browser supports time picker functionality"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Template creation form opens with all required fields visible and enabled"
        },
        {
          "step": 2,
          "action": "Enter 'Extended Shift' in Template Name field and set Start Time to '06:00 AM' and End Time to '10:00 PM'",
          "expectedResult": "All fields accept input, duration shows '16 hours', and no validation errors appear"
        },
        {
          "step": 3,
          "action": "Click 'Add Break' and add first break from '09:00 AM' to '09:15 AM'",
          "expectedResult": "First break appears in break list showing '09:00 AM - 09:15 AM (15 minutes)'"
        },
        {
          "step": 4,
          "action": "Click 'Add Break' again and add second break from '01:00 PM' to '02:00 PM'",
          "expectedResult": "Second break appears in list showing '01:00 PM - 02:00 PM (1 hour)', total breaks show 1 hour 15 minutes"
        },
        {
          "step": 5,
          "action": "Click 'Add Break' again and add third break from '06:00 PM' to '06:30 PM'",
          "expectedResult": "Third break appears showing '06:00 PM - 06:30 PM (30 minutes)', net working hours updates to '14 hours 15 minutes'"
        },
        {
          "step": 6,
          "action": "Click 'Save Template' button",
          "expectedResult": "Success message 'Shift template created successfully' appears and template is saved"
        }
      ],
      "postconditions": [
        "Template 'Extended Shift' is created with 3 break periods stored correctly in database",
        "All break times are validated and stored in chronological order",
        "Template is immediately available for use in scheduling operations",
        "Net working hours calculation (14 hours 15 minutes) is stored accurately"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify editing of existing shift template updates all fields correctly",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "At least one shift template named 'Day Shift' exists with Start Time 09:00 AM, End Time 05:00 PM, and one break",
        "User is on the Shift Template Management page viewing the list of templates",
        "Template 'Day Shift' is not currently assigned to any active schedules"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Day Shift' template in the list and click the 'Edit' icon button next to it",
          "expectedResult": "Edit template form opens pre-populated with existing values: Name='Day Shift', Start='09:00 AM', End='05:00 PM', and existing break displayed"
        },
        {
          "step": 2,
          "action": "Change the End Time from '05:00 PM' to '06:00 PM'",
          "expectedResult": "End Time field updates to '06:00 PM' and duration recalculates to show new total hours"
        },
        {
          "step": 3,
          "action": "Click the delete icon next to the existing break to remove it",
          "expectedResult": "Break is removed from the list and net working hours updates to match total shift duration"
        },
        {
          "step": 4,
          "action": "Click 'Add Break' and add new break from '12:30 PM' to '01:30 PM'",
          "expectedResult": "New break appears showing '12:30 PM - 01:30 PM (1 hour)' and net hours recalculates"
        },
        {
          "step": 5,
          "action": "Click 'Update Template' button",
          "expectedResult": "Success message 'Shift template updated successfully' appears in green banner at top of page"
        },
        {
          "step": 6,
          "action": "Verify updated template in the list view",
          "expectedResult": "Template 'Day Shift' now shows updated times 09:00 AM - 06:00 PM with new break configuration"
        }
      ],
      "postconditions": [
        "Template record in database is updated with new end time and break configuration",
        "Previous break data is removed and replaced with new break data",
        "Template version history is maintained in audit log showing who made changes and when",
        "Updated template is immediately reflected in any future scheduling operations"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Verify deletion of shift template removes it from system and template list",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator with delete permissions",
        "At least one shift template named 'Night Shift' exists and is not assigned to any active or future schedules",
        "User is on the Shift Template Management page",
        "Template list contains at least 2 templates to ensure list is not emptied"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Night Shift' template in the list and click the 'Delete' icon button",
          "expectedResult": "Confirmation dialog appears with message 'Are you sure you want to delete this template? This action cannot be undone.' and 'Cancel' and 'Delete' buttons"
        },
        {
          "step": 2,
          "action": "Click 'Delete' button in the confirmation dialog",
          "expectedResult": "Confirmation dialog closes and success message 'Shift template deleted successfully' appears in green banner"
        },
        {
          "step": 3,
          "action": "Verify 'Night Shift' template is no longer visible in the templates list",
          "expectedResult": "Template 'Night Shift' is removed from the list and remaining templates are displayed without gaps"
        },
        {
          "step": 4,
          "action": "Refresh the page by pressing F5",
          "expectedResult": "Page reloads and 'Night Shift' template remains absent from the list, confirming deletion was persisted"
        }
      ],
      "postconditions": [
        "Template record is marked as deleted or removed from ShiftTemplates database table",
        "Template is no longer available for selection in any scheduling workflows",
        "Deletion is logged in audit trail with administrator username and timestamp",
        "Template count is decremented by 1 in system metrics"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Verify template list displays all created templates with correct details and sorting",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "At least 5 different shift templates exist in the system with varying start times and break configurations",
        "User navigates to Shift Template Management page at /admin/shift-templates",
        "Database connection is active and responsive"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Observe the templates list view on the page",
          "expectedResult": "All existing templates are displayed in a table or card layout with columns for Template Name, Start Time, End Time, Breaks, and Net Hours"
        },
        {
          "step": 2,
          "action": "Verify each template row displays complete information including template name, time range, number of breaks, and calculated net working hours",
          "expectedResult": "Each template shows accurate data matching what was entered during creation, with proper time formatting (12-hour format with AM/PM)"
        },
        {
          "step": 3,
          "action": "Check the default sorting order of templates",
          "expectedResult": "Templates are sorted alphabetically by Template Name in ascending order (A-Z) by default"
        },
        {
          "step": 4,
          "action": "Click on the 'Start Time' column header to sort by start time",
          "expectedResult": "Templates re-sort by start time in ascending order (earliest to latest), and sort indicator arrow appears on column header"
        },
        {
          "step": 5,
          "action": "Verify action buttons (Edit, Delete) are present for each template",
          "expectedResult": "Each template row has 'Edit' and 'Delete' icon buttons that are enabled and clickable"
        }
      ],
      "postconditions": [
        "All templates remain in database unchanged after viewing",
        "User remains on the template list page with all templates visible",
        "Sort preference may be stored in user session for consistency",
        "Page load time is under 2 seconds for up to 100 templates"
      ]
    },
    {
      "id": "TC-FUNC-006",
      "title": "Verify template creation with minimum valid shift duration and no breaks",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the Shift Template Management page",
        "System allows minimum shift duration of 1 hour",
        "No template named 'Short Shift' exists"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Template creation form opens with all fields empty and ready for input"
        },
        {
          "step": 2,
          "action": "Enter 'Short Shift' in Template Name field",
          "expectedResult": "Template name is accepted without validation errors"
        },
        {
          "step": 3,
          "action": "Set Start Time to '10:00 AM' and End Time to '11:00 AM'",
          "expectedResult": "Both times are accepted, duration shows '1 hour', and no validation errors appear"
        },
        {
          "step": 4,
          "action": "Leave breaks section empty without adding any breaks",
          "expectedResult": "Form allows proceeding without breaks, showing '0 breaks' and net hours equals total duration"
        },
        {
          "step": 5,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is saved successfully with message 'Shift template created successfully' and appears in list"
        }
      ],
      "postconditions": [
        "Template 'Short Shift' is created with 1-hour duration and zero breaks",
        "Template is available for use in scheduling despite having no breaks",
        "Database record correctly stores null or empty array for breaks field",
        "Template appears in list showing '10:00 AM - 11:00 AM, 0 breaks, 1 hour net time'"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Verify system prevents template creation when end time is before or equal to start time",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the Shift Template Management page",
        "Template creation form is open",
        "Form validation is active and enforced on client and server side"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Invalid Time Shift' in Template Name field",
          "expectedResult": "Template name is accepted"
        },
        {
          "step": 2,
          "action": "Set Start Time to '02:00 PM' and End Time to '10:00 AM' (end time before start time)",
          "expectedResult": "Red validation error message appears below End Time field stating 'End time must be after start time'"
        },
        {
          "step": 3,
          "action": "Attempt to click 'Save Template' button",
          "expectedResult": "Save button is disabled (grayed out) and clicking has no effect, or error message 'Please fix validation errors before saving' appears"
        },
        {
          "step": 4,
          "action": "Change End Time to '02:00 PM' (same as start time)",
          "expectedResult": "Validation error persists showing 'End time must be after start time' or 'Shift duration must be at least 1 hour'"
        },
        {
          "step": 5,
          "action": "Attempt to submit form by pressing Enter key",
          "expectedResult": "Form submission is blocked and validation error remains visible"
        }
      ],
      "postconditions": [
        "No template record is created in the database",
        "User remains on the template creation form with validation errors displayed",
        "Form fields retain entered values for correction",
        "No API call to POST /api/shift-templates is made until validation passes"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify system prevents template creation with overlapping break times",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Template creation form is open",
        "User has entered valid shift times: Start Time 08:00 AM, End Time 05:00 PM",
        "At least one break has been added to the form"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Add first break from '12:00 PM' to '01:00 PM'",
          "expectedResult": "First break is added successfully showing '12:00 PM - 01:00 PM (1 hour)'"
        },
        {
          "step": 2,
          "action": "Click 'Add Break' and attempt to add second break from '12:30 PM' to '01:30 PM' (overlaps with first break)",
          "expectedResult": "Red validation error appears stating 'Break times cannot overlap with existing breaks' below the break time fields"
        },
        {
          "step": 3,
          "action": "Attempt to save the template by clicking 'Save Template' button",
          "expectedResult": "Save operation is blocked and error message 'Please resolve break time conflicts before saving' appears"
        },
        {
          "step": 4,
          "action": "Change second break to '12:00 PM' to '12:30 PM' (partial overlap at start)",
          "expectedResult": "Validation error persists showing 'Break times cannot overlap with existing breaks'"
        },
        {
          "step": 5,
          "action": "Change second break to '12:45 PM' to '01:15 PM' (partial overlap at end)",
          "expectedResult": "Validation error persists showing 'Break times cannot overlap with existing breaks'"
        }
      ],
      "postconditions": [
        "No template is saved to database due to validation failure",
        "User remains on creation form with overlapping breaks highlighted in red",
        "First valid break remains in the form",
        "System prevents data corruption from overlapping break periods"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Verify system prevents template creation with break times outside shift hours",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Template creation form is open with Template Name 'Test Shift'",
        "Start Time is set to '09:00 AM' and End Time is set to '05:00 PM'",
        "Break validation rules are enforced"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Add Break' and set break start time to '08:00 AM' (before shift start time)",
          "expectedResult": "Validation error appears stating 'Break start time must be after shift start time (09:00 AM)'"
        },
        {
          "step": 2,
          "action": "Change break to start at '04:30 PM' and end at '06:00 PM' (end time after shift end time)",
          "expectedResult": "Validation error appears stating 'Break end time must be before shift end time (05:00 PM)'"
        },
        {
          "step": 3,
          "action": "Attempt to click 'Save Template' button",
          "expectedResult": "Save button is disabled or clicking shows error 'Cannot save template with invalid break times'"
        },
        {
          "step": 4,
          "action": "Change break to '08:00 AM' to '10:00 AM' (starts before shift)",
          "expectedResult": "Validation error persists showing break must be within shift hours"
        }
      ],
      "postconditions": [
        "No template record is created in database",
        "Form remains open with validation errors displayed",
        "Invalid break times are highlighted in red",
        "User can correct break times or remove invalid breaks to proceed"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Verify system prevents template creation with empty or missing required fields",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on Shift Template Management page",
        "Template creation form is opened",
        "All fields are initially empty"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Leave Template Name field empty and click 'Save Template' button",
          "expectedResult": "Validation error 'Template name is required' appears below Template Name field in red text"
        },
        {
          "step": 2,
          "action": "Enter 'Test Template' in Template Name but leave Start Time empty, then click Save",
          "expectedResult": "Validation error 'Start time is required' appears below Start Time field"
        },
        {
          "step": 3,
          "action": "Set Start Time to '09:00 AM' but leave End Time empty, then click Save",
          "expectedResult": "Validation error 'End time is required' appears below End Time field"
        },
        {
          "step": 4,
          "action": "Enter only whitespace characters '   ' in Template Name field and attempt to save",
          "expectedResult": "Validation error 'Template name cannot be empty or contain only spaces' appears"
        },
        {
          "step": 5,
          "action": "Verify Save button behavior with missing fields",
          "expectedResult": "Save button remains disabled until all required fields are properly filled, or shows cumulative error message listing all missing fields"
        }
      ],
      "postconditions": [
        "No template is created in database",
        "All validation errors remain visible on form",
        "User remains on creation form to complete required fields",
        "Form does not reset, preserving any valid data entered"
      ]
    },
    {
      "id": "TC-NEGA-005",
      "title": "Verify system prevents unauthorized users without Administrator role from creating templates",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in with 'Employee' or 'Manager' role (not Administrator)",
        "User does not have 'Create Shift Template' permission",
        "User attempts to access /admin/shift-templates URL directly",
        "Role-based access control is properly configured"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to /admin/shift-templates URL by typing in browser address bar",
          "expectedResult": "System redirects to 403 Forbidden error page or dashboard with error message 'You do not have permission to access this page'"
        },
        {
          "step": 2,
          "action": "Attempt to access template creation API endpoint POST /api/shift-templates directly using browser developer tools or API client",
          "expectedResult": "API returns 403 Forbidden status code with JSON response {'error': 'Insufficient permissions', 'message': 'Administrator role required'}"
        },
        {
          "step": 3,
          "action": "Check if 'Shift Templates' menu item is visible in navigation for non-admin user",
          "expectedResult": "'Shift Templates' menu item is hidden or disabled in navigation menu for users without Administrator role"
        }
      ],
      "postconditions": [
        "No template is created by unauthorized user",
        "Access attempt is logged in security audit log with user ID and timestamp",
        "User remains on their authorized page or error page",
        "System security remains intact with proper authorization enforcement"
      ]
    },
    {
      "id": "TC-NEGA-006",
      "title": "Verify system prevents template creation with duplicate template name",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "A template named 'Morning Shift' already exists in the system",
        "User is on template creation form",
        "Unique template name constraint is enforced"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Morning Shift' in Template Name field (exact match to existing template)",
          "expectedResult": "Field accepts the input initially without immediate validation"
        },
        {
          "step": 2,
          "action": "Enter valid Start Time '08:00 AM' and End Time '04:00 PM'",
          "expectedResult": "Time fields accept valid values without errors"
        },
        {
          "step": 3,
          "action": "Click 'Save Template' button",
          "expectedResult": "Error message appears stating 'A template with this name already exists. Please choose a different name.' in red banner at top of form"
        },
        {
          "step": 4,
          "action": "Try entering 'morning shift' in lowercase",
          "expectedResult": "System performs case-insensitive check and shows same error about duplicate name"
        },
        {
          "step": 5,
          "action": "Try entering 'Morning Shift ' with trailing space",
          "expectedResult": "System trims whitespace and still detects duplicate, showing error message"
        }
      ],
      "postconditions": [
        "No duplicate template is created in database",
        "Original 'Morning Shift' template remains unchanged",
        "User remains on creation form with error message to choose different name",
        "Template name uniqueness constraint is maintained in database"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Verify template creation with maximum allowed shift duration (24 hours minus 1 minute)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Template creation form is open",
        "System supports shifts up to 24 hours duration",
        "Time picker allows selection across midnight boundary"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Maximum Duration Shift' in Template Name field",
          "expectedResult": "Template name is accepted"
        },
        {
          "step": 2,
          "action": "Set Start Time to '12:00 AM' (midnight) and End Time to '11:59 PM'",
          "expectedResult": "Both times are accepted and duration calculation shows '23 hours 59 minutes'"
        },
        {
          "step": 3,
          "action": "Add a break from '12:00 PM' to '01:00 PM'",
          "expectedResult": "Break is added successfully and net working hours shows '22 hours 59 minutes'"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is saved successfully with confirmation message, handling the extreme duration without errors"
        },
        {
          "step": 5,
          "action": "Verify template appears in list with correct duration display",
          "expectedResult": "Template shows '12:00 AM - 11:59 PM' with accurate net hours calculation"
        }
      ],
      "postconditions": [
        "Template with maximum duration is stored correctly in database",
        "Duration calculations remain accurate for extreme values",
        "Template is usable in scheduling operations without performance issues",
        "System handles edge case of near-24-hour shifts properly"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Verify template creation with template name at maximum character limit",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Template creation form is open",
        "Template Name field has maximum character limit of 100 characters",
        "Character counter is displayed on the form"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter exactly 100 characters in Template Name field: 'This is a very long template name that contains exactly one hundred characters to test the maximum limit'",
          "expectedResult": "All 100 characters are accepted, character counter shows '100/100', and no validation error appears"
        },
        {
          "step": 2,
          "action": "Attempt to type additional characters beyond 100",
          "expectedResult": "Field prevents input beyond 100 characters or truncates input, maintaining the limit"
        },
        {
          "step": 3,
          "action": "Enter valid Start Time '09:00 AM' and End Time '05:00 PM'",
          "expectedResult": "Time fields accept values without issues"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is saved successfully and full 100-character name is preserved without truncation"
        },
        {
          "step": 5,
          "action": "Verify template name displays correctly in the list view",
          "expectedResult": "Full template name is visible in list, either displayed completely or with proper ellipsis and tooltip showing full name on hover"
        }
      ],
      "postconditions": [
        "Template is saved with complete 100-character name in database",
        "Name is displayed properly in all UI views without layout breaking",
        "Database field accommodates maximum length without truncation",
        "Template is searchable and filterable by full name"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Verify system behavior when creating the 100th template (performance limit boundary)",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Exactly 99 shift templates already exist in the system",
        "System specification states performance is guaranteed for up to 100 templates",
        "Template creation form is open"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Template 100' in Template Name field",
          "expectedResult": "Template name is accepted without warnings"
        },
        {
          "step": 2,
          "action": "Set Start Time to '09:00 AM' and End Time to '05:00 PM'",
          "expectedResult": "Times are accepted normally"
        },
        {
          "step": 3,
          "action": "Click 'Save Template' button and measure response time",
          "expectedResult": "Template is saved successfully within 2 seconds, confirmation message appears, and system performance remains acceptable"
        },
        {
          "step": 4,
          "action": "Navigate back to template list and verify all 100 templates load",
          "expectedResult": "Template list loads within 2 seconds showing all 100 templates with pagination or scrolling working smoothly"
        },
        {
          "step": 5,
          "action": "Attempt to create a 101st template",
          "expectedResult": "System either allows creation (if no hard limit) or shows warning message 'Maximum template limit reached. Consider archiving unused templates.'"
        }
      ],
      "postconditions": [
        "100 templates exist in system and all are accessible",
        "System performance remains within acceptable parameters",
        "Template list pagination or infinite scroll handles 100+ items gracefully",
        "Database queries remain optimized at scale"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify template creation with special characters and Unicode in template name",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Template creation form is open",
        "System supports UTF-8 character encoding",
        "Database collation supports Unicode characters"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter template name with special characters: 'Morning Shift (8-5) - M/W/F #1'",
          "expectedResult": "All special characters including parentheses, hyphens, slashes, and hash are accepted without validation errors"
        },
        {
          "step": 2,
          "action": "Enter valid shift times and click Save",
          "expectedResult": "Template is saved successfully with all special characters preserved"
        },
        {
          "step": 3,
          "action": "Create another template with Unicode characters: 'Café Shift ☕ 早班'",
          "expectedResult": "Unicode characters including accented letters, emoji, and Chinese characters are accepted"
        },
        {
          "step": 4,
          "action": "Enter valid shift times and save the template",
          "expectedResult": "Template saves successfully and Unicode characters display correctly in confirmation message"
        },
        {
          "step": 5,
          "action": "Verify both templates appear correctly in the list view",
          "expectedResult": "Both template names display with all special and Unicode characters rendered properly without corruption or replacement characters"
        }
      ],
      "postconditions": [
        "Templates are stored in database with proper UTF-8 encoding",
        "Special characters and Unicode are preserved in all views and operations",
        "Search and filter functions work correctly with special characters",
        "No character encoding issues occur in API responses or database queries"
      ]
    },
    {
      "id": "TC-EDGE-005",
      "title": "Verify template creation with minimum valid break duration (1 minute)",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as Administrator",
        "Template creation form is open with valid shift times set",
        "System allows breaks as short as 1 minute",
        "Start Time is '09:00 AM' and End Time is '05:00 PM'"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Minimal Break Shift' in Template Name field",
          "expectedResult": "Template name is accepted"
        },
        {
          "step": 2,
          "action": "Click 'Add Break' and set break from '12:00 PM' to '12:01 PM' (1 minute duration)",
          "expectedResult": "Break is accepted and displays as '12:00 PM - 12:01 PM (1 minute)' in the break list"
        },
        {
          "step": 3,
          "action": "Verify net working hours calculation",
          "expectedResult": "Net hours shows '7 hours 59 minutes' (8 hours minus 1 minute break)"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template saves successfully with 1-minute break preserved"
        },
        {
          "step": 5,
          "action": "Verify template in list shows correct break information",
          "expectedResult": "Template displays with '1 break' and accurate net working hours"
        }
      ],
      "postconditions": [
        "Template with 1-minute break is stored correctly in database",
        "Time calculations handle minute-level precision accurately",
        "Template is usable in scheduling with minimal break duration",
        "System handles edge case of very short breaks without rounding errors"
      ]
    },
    {
      "id": "TC-EDGE-006",
      "title": "Verify template creation behavior with rapid successive submissions (double-click scenario)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Template creation form is open and filled with valid data",
        "Template Name is 'Rapid Submit Test', Start Time is '09:00 AM', End Time is '05:00 PM'",
        "Network latency is simulated or naturally present (500ms+ response time)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Double-click the 'Save Template' button rapidly (two clicks within 200ms)",
          "expectedResult": "Save button becomes disabled after first click, preventing second submission, and shows loading indicator"
        },
        {
          "step": 2,
          "action": "Wait for save operation to complete",
          "expectedResult": "Only one success message appears and only one template is created"
        },
        {
          "step": 3,
          "action": "Check template list for duplicates",
          "expectedResult": "Only one instance of 'Rapid Submit Test' template exists in the list"
        },
        {
          "step": 4,
          "action": "Verify database records",
          "expectedResult": "Database contains only one record for 'Rapid Submit Test' template, confirming no duplicate creation"
        }
      ],
      "postconditions": [
        "Exactly one template is created despite rapid clicking",
        "No duplicate records exist in database",
        "Button disable mechanism prevents race conditions",
        "System handles concurrent submission attempts gracefully"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify complete keyboard navigation through template creation form without mouse",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on Shift Template Management page",
        "Keyboard is the only input device being used (mouse disconnected or not used)",
        "Browser supports standard keyboard navigation"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab key to navigate to 'Create New Template' button and press Enter",
          "expectedResult": "Template creation form opens and focus moves to first form field (Template Name) with visible focus indicator (blue outline or highlight)"
        },
        {
          "step": 2,
          "action": "Type 'Keyboard Test Shift' in Template Name field and press Tab",
          "expectedResult": "Text is entered and focus moves to Start Time field with visible focus indicator"
        },
        {
          "step": 3,
          "action": "Press Space or Enter to open Start Time picker, use Arrow keys to select '09:00 AM', and press Enter to confirm",
          "expectedResult": "Time picker opens, arrow keys navigate through time options, selected time is set, and focus returns to Start Time field"
        },
        {
          "step": 4,
          "action": "Press Tab to move to End Time field, open picker with Enter, select '05:00 PM' using Arrow keys, and confirm with Enter",
          "expectedResult": "End Time is set to '05:00 PM' and focus returns to End Time field"
        },
        {
          "step": 5,
          "action": "Press Tab to navigate to 'Add Break' button and press Enter",
          "expectedResult": "Break time fields appear and focus moves to break start time field"
        },
        {
          "step": 6,
          "action": "Use keyboard to set break times, then Tab to 'Save Template' button and press Enter",
          "expectedResult": "Template is saved successfully and success message receives focus for screen reader announcement"
        },
        {
          "step": 7,
          "action": "Press Escape key while form is open",
          "expectedResult": "Form closes and focus returns to 'Create New Template' button on main page"
        }
      ],
      "postconditions": [
        "All form interactions completed successfully using only keyboard",
        "Focus order follows logical tab sequence through all interactive elements",
        "No keyboard traps encountered where focus cannot escape",
        "Template is created and saved without requiring mouse interaction"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Verify screen reader announces all form labels, errors, and success messages correctly",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Screen reader software (NVDA, JAWS, or VoiceOver) is active and running",
        "User is on Shift Template Management page",
        "Screen reader is set to forms mode for testing"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to 'Create New Template' button using screen reader and activate it",
          "expectedResult": "Screen reader announces 'Create New Template, button' and when activated announces 'Dialog opened, Shift Template Creation Form'"
        },
        {
          "step": 2,
          "action": "Navigate to Template Name field",
          "expectedResult": "Screen reader announces 'Template Name, edit text, required' indicating field label, type, and required status"
        },
        {
          "step": 3,
          "action": "Navigate to Start Time field",
          "expectedResult": "Screen reader announces 'Start Time, time picker, required' with instructions 'Press Enter to open time picker'"
        },
        {
          "step": 4,
          "action": "Leave Template Name empty and attempt to save, triggering validation error",
          "expectedResult": "Screen reader announces 'Error: Template name is required' and focus moves to Template Name field with error announcement"
        },
        {
          "step": 5,
          "action": "Fill form correctly and save template",
          "expectedResult": "Screen reader announces 'Success: Shift template created successfully' in assertive manner (interrupting current speech)"
        },
        {
          "step": 6,
          "action": "Navigate through break time fields",
          "expectedResult": "Screen reader announces 'Break Start Time, time picker' and 'Break End Time, time picker' with proper labels and relationships"
        }
      ],
      "postconditions": [
        "All form elements have proper ARIA labels and are announced correctly",
        "Error messages are associated with fields using aria-describedby",
        "Success messages use aria-live regions for immediate announcement",
        "Screen reader users can complete form independently without sighted assistance"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Verify focus management and visible focus indicators throughout template management workflow",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on Shift Template Management page with at least one existing template",
        "Browser default focus styles are not suppressed by CSS",
        "Testing is performed using keyboard navigation only"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab repeatedly to navigate through all interactive elements on the page",
          "expectedResult": "Each interactive element (buttons, links, form fields) receives visible focus indicator with minimum 2px outline or 3:1 contrast ratio against background"
        },
        {
          "step": 2,
          "action": "Open template creation form and observe initial focus placement",
          "expectedResult": "Focus automatically moves to first form field (Template Name) when form opens, with clear visual indicator"
        },
        {
          "step": 3,
          "action": "Trigger a validation error and observe focus behavior",
          "expectedResult": "Focus moves to first field with error, error message is visible, and focus indicator clearly shows which field needs attention"
        },
        {
          "step": 4,
          "action": "Successfully save a template and observe focus after success",
          "expectedResult": "Focus moves to success message or returns to 'Create New Template' button, maintaining logical focus flow"
        },
        {
          "step": 5,
          "action": "Open Edit dialog for existing template",
          "expectedResult": "Focus moves into edit dialog to first editable field, and focus is trapped within dialog until closed"
        },
        {
          "step": 6,
          "action": "Close dialog using Escape key",
          "expectedResult": "Focus returns to the Edit button that opened the dialog, maintaining user's position in page"
        }
      ],
      "postconditions": [
        "Focus indicators are visible on all interactive elements with sufficient contrast",
        "Focus management follows WCAG 2.1 guidelines for dialogs and forms",
        "No focus traps exist except in modal dialogs where appropriate",
        "Focus order is logical and matches visual layout"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Verify color contrast ratios meet WCAG 2.1 AA standards for all text and interactive elements",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is on Shift Template Management page",
        "Color contrast analyzer tool is available (browser extension or standalone tool)",
        "Page is displayed at 100% zoom in standard viewing conditions",
        "All UI states are testable (default, hover, focus, disabled, error)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Use contrast analyzer to check normal text (Template Name, time labels) against background",
          "expectedResult": "All normal text (under 18pt or 14pt bold) has minimum 4.5:1 contrast ratio against background"
        },
        {
          "step": 2,
          "action": "Check large text (headings, button labels) contrast ratios",
          "expectedResult": "All large text (18pt+ or 14pt+ bold) has minimum 3:1 contrast ratio against background"
        },
        {
          "step": 3,
          "action": "Check error message text color contrast",
          "expectedResult": "Red error text has minimum 4.5:1 contrast ratio and errors are not conveyed by color alone (includes icon or text indicator)"
        },
        {
          "step": 4,
          "action": "Check success message text color contrast",
          "expectedResult": "Green success text has minimum 4.5:1 contrast ratio and success is not conveyed by color alone"
        },
        {
          "step": 5,
          "action": "Check button contrast in all states (default, hover, focus, disabled)",
          "expectedResult": "Button text has 4.5:1 contrast in all states, and button boundaries have 3:1 contrast against adjacent colors"
        },
        {
          "step": 6,
          "action": "Check form field borders and focus indicators",
          "expectedResult": "Form field borders have 3:1 contrast, and focus indicators have 3:1 contrast against both field and background"
        }
      ],
      "postconditions": [
        "All text meets WCAG 2.1 Level AA contrast requirements (4.5:1 for normal, 3:1 for large)",
        "Interactive elements meet 3:1 contrast requirement for non-text elements",
        "Information is not conveyed by color alone (errors, success, required fields)",
        "Page is usable for users with low vision or color blindness"
      ]
    },
    {
      "id": "TC-ACCE-005",
      "title": "Verify form works correctly at 200% browser zoom without loss of functionality",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on Shift Template Management page",
        "Browser zoom is set to 100% initially",
        "Browser window is at standard desktop resolution (1920x1080 or 1366x768)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Increase browser zoom to 200% using Ctrl/Cmd + Plus or browser zoom controls",
          "expectedResult": "Page content scales proportionally, all text remains readable, and no horizontal scrolling is required for content width"
        },
        {
          "step": 2,
          "action": "Click 'Create New Template' button at 200% zoom",
          "expectedResult": "Template creation form opens and is fully visible without requiring horizontal scrolling, all fields are accessible"
        },
        {
          "step": 3,
          "action": "Navigate through all form fields at 200% zoom",
          "expectedResult": "All form fields, labels, and buttons remain visible and functional, text does not overlap, and layout adapts responsively"
        },
        {
          "step": 4,
          "action": "Open time picker dropdowns at 200% zoom",
          "expectedResult": "Time picker dropdowns open fully visible within viewport, options are readable, and selection works correctly"
        },
        {
          "step": 5,
          "action": "Complete and submit form at 200% zoom",
          "expectedResult": "Form submission works correctly, success message is visible, and template appears in list without layout issues"
        },
        {
          "step": 6,
          "action": "Test at 400% zoom (maximum WCAG requirement)",
          "expectedResult": "Content remains accessible with vertical scrolling only, no content is cut off or hidden, and all functionality remains available"
        }
      ],
      "postconditions": [
        "Page meets WCAG 2.1 Level AA reflow requirement (no horizontal scrolling at 200% zoom)",
        "All functionality remains available at increased zoom levels",
        "Text remains readable without overlapping or truncation",
        "Layout adapts responsively to accommodate zoomed content"
      ]
    },
    {
      "id": "TC-ACCE-006",
      "title": "Verify proper ARIA roles, labels, and live regions for dynamic content updates",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Browser developer tools are open to inspect ARIA attributes",
        "Screen reader is active for testing announcements (optional but recommended)",
        "User is on Shift Template Management page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Inspect 'Create New Template' button and verify ARIA attributes",
          "expectedResult": "Button has role='button' (implicit or explicit) and aria-label or visible text describing action"
        },
        {
          "step": 2,
          "action": "Open template creation form and inspect dialog container",
          "expectedResult": "Form container has role='dialog', aria-labelledby pointing to dialog title, and aria-modal='true' to indicate modal behavior"
        },
        {
          "step": 3,
          "action": "Inspect required form fields for proper ARIA attributes",
          "expectedResult": "Required fields have aria-required='true' or required attribute, and labels are associated using for/id or aria-labelledby"
        },
        {
          "step": 4,
          "action": "Trigger validation error and inspect error message ARIA attributes",
          "expectedResult": "Error messages have role='alert' or are in aria-live='assertive' region, and are associated with fields using aria-describedby"
        },
        {
          "step": 5,
          "action": "Successfully save template and inspect success message",
          "expectedResult": "Success message is in aria-live='polite' or 'assertive' region for screen reader announcement, with role='status' or 'alert'"
        },
        {
          "step": 6,
          "action": "Inspect template list table for proper semantic structure",
          "expectedResult": "List uses proper table markup with role='table', th elements with scope attributes, and aria-label describing table purpose"
        },
        {
          "step": 7,
          "action": "Inspect time picker components for ARIA attributes",
          "expectedResult": "Time pickers have role='combobox' or 'listbox', aria-expanded state, and aria-controls pointing to options list"
        }
      ],
      "postconditions": [
        "All interactive elements have appropriate ARIA roles and labels",
        "Dynamic content updates are announced to screen readers via live regions",
        "Form validation and error states are properly communicated via ARIA",
        "Page structure uses semantic HTML and ARIA to convey relationships and states"
      ]
    }
  ],
  "selectedTypes": {
    "functional": true,
    "negative": true,
    "edgeCases": true,
    "accessibility": true
  },
  "userStoryObject": {
    "id": "story-1",
    "title": "As Administrator, I want to perform shift template creation to achieve reusable scheduling.",
    "epicId": "epic-1",
    "persona": "Administrator",
    "priority": "High",
    "subtasks": [
      {
        "category": "Planning",
        "description": "Define the data model for shift templates.",
        "estimatedHours": 4
      },
      {
        "category": "Backend",
        "description": "Implement API endpoint for creating shift templates.",
        "estimatedHours": 6
      },
      {
        "category": "Frontend",
        "description": "Develop the user interface for shift template creation.",
        "estimatedHours": 8
      },
      {
        "category": "Testing",
        "description": "Create unit tests for the shift template creation functionality.",
        "estimatedHours": 4
      },
      {
        "category": "Documentation",
        "description": "Document the API endpoint and usage for shift template creation.",
        "estimatedHours": 3
      }
    ],
    "featureId": "feature-1",
    "testCases": [
      {
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template creation page",
            "result": "Creation form is displayed"
          },
          {
            "step": 2,
            "action": "Enter valid start and end times",
            "result": "No validation errors"
          },
          {
            "step": 3,
            "action": "Submit the form",
            "result": "Template is created successfully with confirmation message"
          }
        ],
        "title": "Validate successful shift template creation"
      },
      {
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template creation page",
            "result": "Creation form is displayed"
          },
          {
            "step": 2,
            "action": "Enter overlapping break times",
            "result": "Validation error is displayed"
          },
          {
            "step": 3,
            "action": "Attempt to submit the form",
            "result": "Submission is blocked with error message"
          }
        ],
        "title": "Ensure validation for overlapping break times"
      }
    ],
    "description": "CONTEXT & BACKGROUND:\nThe ability to create shift templates is essential for streamlining the scheduling process. This feature allows administrators to define shifts that can be reused, reducing the time spent on scheduling.\n\nCURRENT STATE:\nCurrently, scheduling is done manually without templates, leading to inconsistencies and increased workload.\n\nDESIRED STATE:\nAdministrators can create and manage templates, ensuring consistency and efficiency in scheduling.\n\nKEY FUNCTIONALITY:\n• Create new shift templates with start and end times.\n• Define break times within templates.\n• Edit existing templates as needed.\n• Delete templates that are no longer in use.\n\nUSER INTERACTION FLOW:\n1. Administrator navigates to the shift template management page.\n2. Administrator clicks on 'Create New Template'.\n3. Administrator inputs shift details (start time, end time, breaks).\n4. Administrator saves the template.\n5. System confirms template creation.\n6. Administrator can view the list of created templates.\n\nTECHNICAL CONSIDERATIONS:\n• Data source: ShiftTemplates table in the database.\n• Validation rules: Ensure start time is before end time.\n• API endpoints: POST /api/shift-templates for creation.\n• Security: Only authorized administrators can create templates.\n• Performance: System should handle up to 100 templates without performance degradation.\n\nOUT OF SCOPE:\n• Employee-specific scheduling is not included in this story.\n\nSUCCESS METRICS:\n• 90% of templates created without errors.",
    "storyPoints": 5,
    "personaSource": "AI Suggested",
    "acceptanceCriteria": [
      "System allows creation of shift templates with valid start and end times.",
      "System validates break times and ensures they do not overlap with shift times.",
      "System displays a confirmation message upon successful template creation.",
      "System lists all created templates for review."
    ]
  }
}