{
  "storyId": "story-1",
  "storyTitle": "As Administrator, I want to perform shift template creation to achieve reusable scheduling.",
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify successful creation of shift template with valid start time, end time, and break times",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in with Administrator role and has permissions to create shift templates",
        "User is on the shift template management page at /admin/shift-templates",
        "ShiftTemplates database table is accessible and has less than 100 existing templates",
        "Browser is Chrome version 90+ or equivalent modern browser"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click the 'Create New Template' button located in the top-right corner of the shift template management page",
          "expectedResult": "Shift template creation form is displayed with fields for Template Name, Start Time, End Time, and Break Times"
        },
        {
          "step": 2,
          "action": "Enter 'Morning Shift' in the Template Name field",
          "expectedResult": "Template Name field displays 'Morning Shift' with no validation errors"
        },
        {
          "step": 3,
          "action": "Select '08:00 AM' from the Start Time dropdown picker",
          "expectedResult": "Start Time field displays '08:00 AM' and no validation errors appear"
        },
        {
          "step": 4,
          "action": "Select '05:00 PM' from the End Time dropdown picker",
          "expectedResult": "End Time field displays '05:00 PM' and no validation errors appear"
        },
        {
          "step": 5,
          "action": "Click 'Add Break' button and enter break time from '12:00 PM' to '01:00 PM'",
          "expectedResult": "Break time entry is added showing '12:00 PM - 01:00 PM' with no validation errors"
        },
        {
          "step": 6,
          "action": "Click the 'Save Template' button at the bottom of the form",
          "expectedResult": "Green success banner appears at top of page with message 'Shift template created successfully' and form closes"
        },
        {
          "step": 7,
          "action": "Verify the newly created template appears in the templates list",
          "expectedResult": "Template 'Morning Shift' is visible in the list showing Start Time: 08:00 AM, End Time: 05:00 PM, Break: 12:00 PM - 01:00 PM"
        }
      ],
      "postconditions": [
        "New shift template 'Morning Shift' is saved in ShiftTemplates database table with correct start time, end time, and break times",
        "User remains on the shift template management page with updated template list displayed",
        "Template count in database is incremented by 1",
        "Audit log records template creation with administrator username and timestamp"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Verify creation of shift template with multiple break periods",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator with shift template creation permissions",
        "User is on the shift template management page",
        "No existing template with the name 'Extended Shift' exists in the database"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Shift template creation form opens with all required fields visible"
        },
        {
          "step": 2,
          "action": "Enter 'Extended Shift' in Template Name field, set Start Time to '06:00 AM' and End Time to '10:00 PM'",
          "expectedResult": "All fields accept input without validation errors"
        },
        {
          "step": 3,
          "action": "Click 'Add Break' button and add first break from '10:00 AM' to '10:15 AM'",
          "expectedResult": "First break period is added and displayed in the breaks section"
        },
        {
          "step": 4,
          "action": "Click 'Add Break' button again and add second break from '02:00 PM' to '02:30 PM'",
          "expectedResult": "Second break period is added and both breaks are displayed without overlap errors"
        },
        {
          "step": 5,
          "action": "Click 'Add Break' button again and add third break from '06:00 PM' to '06:15 PM'",
          "expectedResult": "Third break period is added and all three breaks are displayed in chronological order"
        },
        {
          "step": 6,
          "action": "Click 'Save Template' button",
          "expectedResult": "Success message 'Shift template created successfully' appears and template is saved"
        }
      ],
      "postconditions": [
        "Template 'Extended Shift' is saved with three separate break periods in the database",
        "All break times are stored correctly and associated with the template",
        "Template appears in the list with all break periods visible"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify editing of existing shift template with updated times",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "At least one shift template named 'Evening Shift' exists with Start Time: 02:00 PM, End Time: 10:00 PM",
        "User is on the shift template management page viewing the list of templates"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Evening Shift' template in the list and click the 'Edit' icon/button next to it",
          "expectedResult": "Edit template form opens pre-populated with existing values: Start Time: 02:00 PM, End Time: 10:00 PM"
        },
        {
          "step": 2,
          "action": "Change End Time from '10:00 PM' to '11:00 PM'",
          "expectedResult": "End Time field updates to '11:00 PM' with no validation errors"
        },
        {
          "step": 3,
          "action": "Add a new break time from '06:00 PM' to '06:30 PM' by clicking 'Add Break'",
          "expectedResult": "New break period is added and displayed in the breaks section"
        },
        {
          "step": 4,
          "action": "Click 'Update Template' button",
          "expectedResult": "Success message 'Shift template updated successfully' appears in green banner"
        },
        {
          "step": 5,
          "action": "Verify the updated template in the list",
          "expectedResult": "Evening Shift template now shows End Time: 11:00 PM and includes the new break period"
        }
      ],
      "postconditions": [
        "Evening Shift template is updated in the database with new end time and break period",
        "Original template data is overwritten with updated values",
        "Audit log records the template modification with timestamp and administrator details"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Verify deletion of shift template that is no longer in use",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator with delete permissions",
        "A shift template named 'Temporary Shift' exists and is not currently assigned to any employees",
        "User is on the shift template management page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Temporary Shift' template in the templates list",
          "expectedResult": "Template 'Temporary Shift' is visible in the list with a 'Delete' button/icon"
        },
        {
          "step": 2,
          "action": "Click the 'Delete' button/icon next to 'Temporary Shift' template",
          "expectedResult": "Confirmation dialog appears with message 'Are you sure you want to delete this template? This action cannot be undone.'"
        },
        {
          "step": 3,
          "action": "Click 'Confirm' button in the confirmation dialog",
          "expectedResult": "Success message 'Shift template deleted successfully' appears in green banner at top of page"
        },
        {
          "step": 4,
          "action": "Verify the template is removed from the list",
          "expectedResult": "Temporary Shift template is no longer visible in the templates list"
        }
      ],
      "postconditions": [
        "Temporary Shift template is removed from the ShiftTemplates database table",
        "Template count in database is decremented by 1",
        "User remains on the shift template management page with updated list",
        "Deletion is logged in audit trail with administrator username and timestamp"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Verify viewing complete list of all created shift templates with pagination",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "At least 15 shift templates exist in the database",
        "User navigates to the shift template management page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Observe the shift template management page upon loading",
          "expectedResult": "Page displays a table/list of shift templates with columns: Template Name, Start Time, End Time, Break Times, Actions"
        },
        {
          "step": 2,
          "action": "Verify the first 10 templates are displayed on page 1",
          "expectedResult": "First 10 templates are visible with complete details including all break times"
        },
        {
          "step": 3,
          "action": "Click 'Next' or page '2' button in pagination controls at bottom of list",
          "expectedResult": "Page 2 loads showing templates 11-15 with same column structure"
        },
        {
          "step": 4,
          "action": "Click on any template name to view full details",
          "expectedResult": "Template details modal/panel opens showing all information: name, start time, end time, all break periods"
        }
      ],
      "postconditions": [
        "All templates remain in database unchanged",
        "User can navigate between pages to view all templates",
        "Template list accurately reflects current database state"
      ]
    },
    {
      "id": "TC-FUNC-006",
      "title": "Verify shift template creation with minimum valid duration (1 hour shift)",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation page",
        "System allows minimum 1-hour shift duration"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Template creation form is displayed"
        },
        {
          "step": 2,
          "action": "Enter 'Short Shift' in Template Name, set Start Time to '09:00 AM' and End Time to '10:00 AM'",
          "expectedResult": "All fields accept input with no validation errors for 1-hour duration"
        },
        {
          "step": 3,
          "action": "Leave break times empty (no breaks added)",
          "expectedResult": "Form allows submission without mandatory break times"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button",
          "expectedResult": "Success message appears and template is created successfully"
        }
      ],
      "postconditions": [
        "Short Shift template is saved in database with 1-hour duration and no breaks",
        "Template appears in the list with correct times displayed"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Verify system prevents template creation when end time is before start time",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation page",
        "Template creation form is displayed and ready for input"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Invalid Shift' in Template Name field",
          "expectedResult": "Template Name field accepts the input"
        },
        {
          "step": 2,
          "action": "Select '05:00 PM' from the Start Time dropdown",
          "expectedResult": "Start Time field displays '05:00 PM'"
        },
        {
          "step": 3,
          "action": "Select '08:00 AM' from the End Time dropdown (earlier than start time)",
          "expectedResult": "Red validation error message appears below End Time field stating 'End time must be after start time'"
        },
        {
          "step": 4,
          "action": "Attempt to click 'Save Template' button",
          "expectedResult": "Save button is disabled or clicking it shows error message 'Please fix validation errors before saving' and form is not submitted"
        }
      ],
      "postconditions": [
        "No template is created in the database",
        "User remains on the creation form with validation errors displayed",
        "Form fields retain entered values for correction"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify system prevents template creation with overlapping break times",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation page with form displayed",
        "Valid start time (08:00 AM) and end time (05:00 PM) are already entered"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Overlapping Break Shift' in Template Name field",
          "expectedResult": "Template Name is accepted"
        },
        {
          "step": 2,
          "action": "Click 'Add Break' and enter first break from '12:00 PM' to '01:00 PM'",
          "expectedResult": "First break is added successfully without errors"
        },
        {
          "step": 3,
          "action": "Click 'Add Break' again and enter second break from '12:30 PM' to '01:30 PM' (overlaps with first break)",
          "expectedResult": "Red validation error appears stating 'Break times cannot overlap with existing breaks' below the second break entry"
        },
        {
          "step": 4,
          "action": "Attempt to click 'Save Template' button",
          "expectedResult": "Form submission is blocked and error message 'Please resolve break time conflicts before saving' is displayed"
        }
      ],
      "postconditions": [
        "No template is saved to the database",
        "User remains on the form with overlapping break times highlighted in red",
        "First valid break remains in the form, second invalid break can be edited"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Verify system prevents template creation with break time outside shift hours",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template creation page",
        "Start Time is set to '09:00 AM' and End Time is set to '05:00 PM'"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Invalid Break Shift' in Template Name field",
          "expectedResult": "Template Name is accepted"
        },
        {
          "step": 2,
          "action": "Click 'Add Break' and attempt to enter break time from '06:00 PM' to '06:30 PM' (after shift end time)",
          "expectedResult": "Validation error appears stating 'Break time must be within shift hours (09:00 AM - 05:00 PM)'"
        },
        {
          "step": 3,
          "action": "Attempt to save the template by clicking 'Save Template' button",
          "expectedResult": "Save action is prevented and error message persists indicating break time is invalid"
        }
      ],
      "postconditions": [
        "No template is created in the database",
        "Form remains open with validation error displayed",
        "User can correct the break time to be within shift hours"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Verify unauthorized user cannot access shift template creation functionality",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in with 'Employee' role (non-administrator)",
        "User does not have shift template creation permissions",
        "User attempts to navigate to /admin/shift-templates URL directly"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter '/admin/shift-templates' in browser address bar and press Enter",
          "expectedResult": "System redirects to access denied page or displays error message 'You do not have permission to access this page'"
        },
        {
          "step": 2,
          "action": "Attempt to access the API endpoint POST /api/shift-templates directly using browser developer tools or API client",
          "expectedResult": "API returns 403 Forbidden status code with error message 'Insufficient permissions'"
        }
      ],
      "postconditions": [
        "No template creation form is displayed to unauthorized user",
        "User is redirected to appropriate page (dashboard or access denied)",
        "Security log records unauthorized access attempt with user details and timestamp"
      ]
    },
    {
      "id": "TC-NEGA-005",
      "title": "Verify system prevents template creation with empty required fields",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation page",
        "Form is displayed with all fields empty"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Leave Template Name field empty",
          "expectedResult": "Field remains empty with no input"
        },
        {
          "step": 2,
          "action": "Leave Start Time field empty (not selected)",
          "expectedResult": "Start Time shows placeholder text or default empty state"
        },
        {
          "step": 3,
          "action": "Leave End Time field empty (not selected)",
          "expectedResult": "End Time shows placeholder text or default empty state"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button without entering any data",
          "expectedResult": "Multiple validation errors appear: 'Template Name is required', 'Start Time is required', 'End Time is required' in red text below respective fields"
        },
        {
          "step": 5,
          "action": "Verify form submission is blocked",
          "expectedResult": "No API call is made and no template is created, user remains on form with errors displayed"
        }
      ],
      "postconditions": [
        "No template is saved to database",
        "Form remains open with all validation errors visible",
        "Required field indicators (asterisks) remain visible"
      ]
    },
    {
      "id": "TC-NEGA-006",
      "title": "Verify system prevents deletion of shift template currently assigned to employees",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "A shift template named 'Active Shift' exists and is currently assigned to at least one employee",
        "User is on the shift template management page viewing the templates list"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Active Shift' template in the list and click the 'Delete' button",
          "expectedResult": "Confirmation dialog appears asking for deletion confirmation"
        },
        {
          "step": 2,
          "action": "Click 'Confirm' button in the deletion confirmation dialog",
          "expectedResult": "Error message appears stating 'Cannot delete template: currently assigned to 3 employee(s). Please reassign employees before deleting.' in red banner"
        },
        {
          "step": 3,
          "action": "Verify template still exists in the list",
          "expectedResult": "Active Shift template remains in the templates list unchanged"
        }
      ],
      "postconditions": [
        "Template remains in database with all assignments intact",
        "No employee schedules are affected",
        "Error is logged indicating attempted deletion of in-use template"
      ]
    },
    {
      "id": "TC-NEGA-007",
      "title": "Verify system handles network failure during template creation gracefully",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template creation page with valid data entered",
        "Network connection can be simulated to fail (using browser dev tools or network simulator)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter valid template data: Name 'Network Test', Start Time '09:00 AM', End Time '05:00 PM'",
          "expectedResult": "All fields accept valid input without errors"
        },
        {
          "step": 2,
          "action": "Simulate network disconnection using browser developer tools (set to offline mode)",
          "expectedResult": "Network is offline but form remains functional"
        },
        {
          "step": 3,
          "action": "Click 'Save Template' button",
          "expectedResult": "Error message appears stating 'Network error: Unable to save template. Please check your connection and try again.' with a 'Retry' button"
        },
        {
          "step": 4,
          "action": "Verify form data is retained",
          "expectedResult": "All entered data remains in the form fields and is not lost"
        }
      ],
      "postconditions": [
        "No template is created in database due to network failure",
        "User can retry submission after network is restored",
        "Form data is preserved for retry attempt"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Verify template creation with maximum allowed shift duration (24 hours)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template creation page",
        "System allows maximum 24-hour shift duration"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Template creation form is displayed"
        },
        {
          "step": 2,
          "action": "Enter '24 Hour Shift' in Template Name field",
          "expectedResult": "Template Name is accepted"
        },
        {
          "step": 3,
          "action": "Set Start Time to '12:00 AM' (midnight) and End Time to '11:59 PM'",
          "expectedResult": "Both times are accepted without validation errors"
        },
        {
          "step": 4,
          "action": "Add break time from '12:00 PM' to '01:00 PM'",
          "expectedResult": "Break time is accepted and displayed"
        },
        {
          "step": 5,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is created successfully with confirmation message 'Shift template created successfully'"
        }
      ],
      "postconditions": [
        "Template with 24-hour duration is saved in database",
        "Template appears in list showing full 24-hour span",
        "System correctly calculates total shift hours as 23 hours 59 minutes"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Verify system behavior when creating exactly 100 templates (performance limit)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Exactly 99 shift templates already exist in the database",
        "System performance limit is set to 100 templates",
        "User is on shift template creation page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Template creation form opens normally"
        },
        {
          "step": 2,
          "action": "Enter '100th Template' in Template Name, set Start Time to '09:00 AM' and End Time to '05:00 PM'",
          "expectedResult": "All fields accept input without errors"
        },
        {
          "step": 3,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is created successfully and confirmation message appears"
        },
        {
          "step": 4,
          "action": "Attempt to create the 101st template by clicking 'Create New Template' again",
          "expectedResult": "Warning message appears: 'Maximum template limit (100) reached. Please delete unused templates before creating new ones.' and creation button is disabled"
        },
        {
          "step": 5,
          "action": "Verify system performance with 100 templates loaded",
          "expectedResult": "Template list loads within 3 seconds and remains responsive"
        }
      ],
      "postconditions": [
        "Exactly 100 templates exist in database",
        "System prevents creation of additional templates beyond limit",
        "Performance remains acceptable with maximum templates loaded"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Verify template creation with special characters and Unicode in template name",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template creation page",
        "System supports UTF-8 character encoding"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Template creation form is displayed"
        },
        {
          "step": 2,
          "action": "Enter 'Shift‚Ñ¢ Caf√©-√ëo√±o Êó©Áè≠ üåÖ' (containing trademark symbol, accented characters, Chinese characters, and emoji) in Template Name field",
          "expectedResult": "Template Name field accepts and displays all special characters and Unicode correctly"
        },
        {
          "step": 3,
          "action": "Set Start Time to '06:00 AM' and End Time to '02:00 PM'",
          "expectedResult": "Times are accepted without errors"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is created successfully with confirmation message"
        },
        {
          "step": 5,
          "action": "Verify template appears in list with correct name rendering",
          "expectedResult": "Template name 'Shift‚Ñ¢ Caf√©-√ëo√±o Êó©Áè≠ üåÖ' is displayed correctly in the list without character corruption"
        }
      ],
      "postconditions": [
        "Template is saved in database with all special characters preserved",
        "Template name displays correctly across all pages and components",
        "No character encoding issues occur in database or UI"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify template creation with maximum allowed template name length (255 characters)",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template creation page",
        "Template Name field has maximum length of 255 characters"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Template creation form is displayed"
        },
        {
          "step": 2,
          "action": "Enter a 255-character string in Template Name field: 'A' repeated 255 times",
          "expectedResult": "Field accepts exactly 255 characters and displays character count '255/255' below field"
        },
        {
          "step": 3,
          "action": "Attempt to enter one more character (256th character)",
          "expectedResult": "Field prevents input beyond 255 characters or truncates to 255"
        },
        {
          "step": 4,
          "action": "Set Start Time to '08:00 AM' and End Time to '04:00 PM', then click 'Save Template'",
          "expectedResult": "Template is created successfully with full 255-character name"
        },
        {
          "step": 5,
          "action": "Verify template in list displays name with ellipsis or truncation if needed for UI",
          "expectedResult": "Template appears in list with name truncated for display but full name visible on hover or in details view"
        }
      ],
      "postconditions": [
        "Template is saved with complete 255-character name in database",
        "UI handles long template names gracefully without breaking layout",
        "Full name is accessible through tooltip or detail view"
      ]
    },
    {
      "id": "TC-EDGE-005",
      "title": "Verify template creation with break time exactly at shift boundaries",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template creation page",
        "Start Time is set to '09:00 AM' and End Time is set to '05:00 PM'"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Boundary Break Shift' in Template Name field",
          "expectedResult": "Template Name is accepted"
        },
        {
          "step": 2,
          "action": "Click 'Add Break' and set break start time to '09:00 AM' (exactly at shift start) and break end time to '09:15 AM'",
          "expectedResult": "System either accepts the break at boundary or shows validation message 'Break cannot start at shift start time' depending on business rules"
        },
        {
          "step": 3,
          "action": "If first break is rejected, add break from '04:45 PM' to '05:00 PM' (ending exactly at shift end time)",
          "expectedResult": "System either accepts the break at boundary or shows validation message 'Break cannot end at shift end time' depending on business rules"
        },
        {
          "step": 4,
          "action": "Adjust break times to be within boundaries if needed and click 'Save Template'",
          "expectedResult": "Template is saved with appropriate validation feedback based on business rules for boundary breaks"
        }
      ],
      "postconditions": [
        "System behavior for boundary breaks is consistent with business rules",
        "Template is saved correctly if breaks are valid",
        "Clear validation messages guide user if boundary breaks are not allowed"
      ]
    },
    {
      "id": "TC-EDGE-006",
      "title": "Verify simultaneous template creation by multiple administrators",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "Two administrators (Admin A and Admin B) are logged in on different browsers/sessions",
        "Both are on the shift template creation page simultaneously",
        "Database supports concurrent write operations"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Admin A enters 'Concurrent Shift A' with times 08:00 AM - 04:00 PM and clicks 'Save Template'",
          "expectedResult": "Admin A's template is created successfully with confirmation message"
        },
        {
          "step": 2,
          "action": "Simultaneously (within 1 second), Admin B enters 'Concurrent Shift B' with times 09:00 AM - 05:00 PM and clicks 'Save Template'",
          "expectedResult": "Admin B's template is also created successfully with confirmation message"
        },
        {
          "step": 3,
          "action": "Both administrators refresh their template lists",
          "expectedResult": "Both templates appear in both administrators' lists showing correct data without conflicts"
        },
        {
          "step": 4,
          "action": "Verify database contains both templates with correct data and unique IDs",
          "expectedResult": "Database shows two separate templates with no data corruption or overwrites"
        }
      ],
      "postconditions": [
        "Both templates are saved correctly in database with unique identifiers",
        "No race conditions or data conflicts occur",
        "Both administrators see accurate template lists"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify complete keyboard navigation through shift template creation form",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template management page",
        "Screen reader is not active (testing keyboard only)",
        "Browser is focused on the page content"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab key repeatedly from page load to navigate through all interactive elements",
          "expectedResult": "Focus moves in logical order: 'Create New Template' button ‚Üí Template Name field ‚Üí Start Time dropdown ‚Üí End Time dropdown ‚Üí Add Break button ‚Üí Save Template button, with visible focus indicator (blue outline) on each element"
        },
        {
          "step": 2,
          "action": "Press Enter key when 'Create New Template' button has focus",
          "expectedResult": "Template creation form opens and focus automatically moves to Template Name field"
        },
        {
          "step": 3,
          "action": "Type 'Keyboard Test Shift' in Template Name field without using mouse",
          "expectedResult": "Text is entered successfully in the field"
        },
        {
          "step": 4,
          "action": "Press Tab to move to Start Time dropdown, then press Space or Enter to open dropdown, use Arrow keys to select '09:00 AM', press Enter to confirm",
          "expectedResult": "Dropdown opens with keyboard, time can be selected using arrow keys, selection is confirmed, and focus returns to dropdown trigger showing selected time"
        },
        {
          "step": 5,
          "action": "Press Tab to End Time, repeat dropdown interaction to select '05:00 PM' using only keyboard",
          "expectedResult": "End Time is selected successfully using keyboard navigation"
        },
        {
          "step": 6,
          "action": "Press Tab to 'Save Template' button and press Enter",
          "expectedResult": "Form is submitted successfully and success message appears with focus moved to the message for screen reader announcement"
        },
        {
          "step": 7,
          "action": "Press Escape key when form is open",
          "expectedResult": "Form closes and focus returns to 'Create New Template' button"
        }
      ],
      "postconditions": [
        "All form interactions can be completed without mouse",
        "Focus is never trapped in any component",
        "Focus indicators are visible throughout navigation",
        "Keyboard shortcuts work as expected"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Verify screen reader announces all form elements, labels, and validation errors correctly",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "NVDA or JAWS screen reader is active and running",
        "User is on shift template creation page",
        "Screen reader is in forms mode"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to 'Create New Template' button using screen reader navigation",
          "expectedResult": "Screen reader announces 'Create New Template, button' with role and accessible name"
        },
        {
          "step": 2,
          "action": "Activate button and navigate to Template Name field",
          "expectedResult": "Screen reader announces 'Template Name, required, edit text' indicating field label, required status, and input type"
        },
        {
          "step": 3,
          "action": "Navigate to Start Time dropdown",
          "expectedResult": "Screen reader announces 'Start Time, required, combo box, collapsed' with current value if any"
        },
        {
          "step": 4,
          "action": "Leave Template Name empty and navigate to Save button, then activate it",
          "expectedResult": "Screen reader announces validation error 'Error: Template Name is required' and focus moves to Template Name field with error announcement"
        },
        {
          "step": 5,
          "action": "Navigate to 'Add Break' button and activate it",
          "expectedResult": "Screen reader announces 'Add Break, button' and when activated announces 'Break time fields added' or similar confirmation"
        },
        {
          "step": 6,
          "action": "Complete form with valid data and submit",
          "expectedResult": "Screen reader announces success message 'Success: Shift template created successfully' in ARIA live region"
        }
      ],
      "postconditions": [
        "All form elements have proper ARIA labels and roles",
        "Required fields are announced as required",
        "Error messages are associated with fields and announced",
        "Success/failure messages are announced via ARIA live regions"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Verify sufficient color contrast ratios for all text and interactive elements (WCAG 2.1 AA)",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is on shift template management page",
        "Color contrast analyzer tool is available (browser extension or standalone)",
        "Page is displayed in default theme/colors"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Use color contrast analyzer to check 'Create New Template' button text against button background",
          "expectedResult": "Contrast ratio is at least 4.5:1 for normal text or 3:1 for large text (18pt+), meeting WCAG AA standards"
        },
        {
          "step": 2,
          "action": "Check form field labels (Template Name, Start Time, End Time) against page background",
          "expectedResult": "All labels have contrast ratio of at least 4.5:1 against background"
        },
        {
          "step": 3,
          "action": "Check error message text color against background",
          "expectedResult": "Error messages (typically red text) have contrast ratio of at least 4.5:1 and do not rely solely on color to convey error state (icon or text indicator present)"
        },
        {
          "step": 4,
          "action": "Check success message text color against background",
          "expectedResult": "Success messages have contrast ratio of at least 4.5:1"
        },
        {
          "step": 5,
          "action": "Check focus indicator outline color against both element background and page background",
          "expectedResult": "Focus indicators have contrast ratio of at least 3:1 against adjacent colors"
        },
        {
          "step": 6,
          "action": "Check disabled button state text and background contrast",
          "expectedResult": "Disabled buttons are visually distinguishable but not required to meet contrast ratios per WCAG (informational only)"
        }
      ],
      "postconditions": [
        "All active text elements meet WCAG 2.1 AA contrast requirements",
        "Error states use multiple indicators beyond color alone",
        "Focus indicators are clearly visible"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Verify form remains functional and readable at 200% browser zoom level",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template creation page",
        "Browser zoom is set to 100% initially",
        "Browser window is at standard desktop resolution (1920x1080)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Ctrl and + (or Cmd and + on Mac) repeatedly to zoom browser to 200%",
          "expectedResult": "Page content scales proportionally to 200% zoom level"
        },
        {
          "step": 2,
          "action": "Click 'Create New Template' button at 200% zoom",
          "expectedResult": "Button is fully visible, clickable, and form opens without horizontal scrolling required for form fields"
        },
        {
          "step": 3,
          "action": "Verify all form fields (Template Name, Start Time, End Time) are visible and accessible",
          "expectedResult": "All fields are visible, labels are not truncated, and fields can be interacted with without horizontal scrolling"
        },
        {
          "step": 4,
          "action": "Enter data in all fields and verify dropdowns open correctly at 200% zoom",
          "expectedResult": "Dropdowns open fully visible, options are readable, and selection works correctly"
        },
        {
          "step": 5,
          "action": "Scroll vertically if needed and verify 'Save Template' button is accessible",
          "expectedResult": "Save button is visible and clickable, form can be submitted successfully at 200% zoom"
        },
        {
          "step": 6,
          "action": "Verify success/error messages are fully visible and readable at 200% zoom",
          "expectedResult": "Messages appear completely within viewport without text cutoff or requiring horizontal scroll"
        }
      ],
      "postconditions": [
        "All functionality works correctly at 200% zoom",
        "No content is lost or becomes inaccessible",
        "Layout adapts responsively without breaking",
        "No horizontal scrolling is required for single-column content"
      ]
    },
    {
      "id": "TC-ACCE-005",
      "title": "Verify proper focus management and focus trap in modal dialog for template creation",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on shift template management page",
        "Template creation opens in a modal dialog (if applicable to implementation)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click or press Enter on 'Create New Template' button to open modal",
          "expectedResult": "Modal opens and focus automatically moves to first interactive element (Template Name field) inside modal"
        },
        {
          "step": 2,
          "action": "Press Tab repeatedly to cycle through all focusable elements in modal",
          "expectedResult": "Focus cycles through: Template Name ‚Üí Start Time ‚Üí End Time ‚Üí Add Break ‚Üí Save Template ‚Üí Cancel/Close button, then returns to Template Name (focus is trapped within modal)"
        },
        {
          "step": 3,
          "action": "Press Shift+Tab from first element (Template Name)",
          "expectedResult": "Focus moves backward to last element (Cancel/Close button), confirming bidirectional focus trap"
        },
        {
          "step": 4,
          "action": "Verify background content (page behind modal) is not focusable",
          "expectedResult": "Tab navigation does not reach elements outside modal, background is inert with aria-hidden='true' or inert attribute"
        },
        {
          "step": 5,
          "action": "Press Escape key while modal is open",
          "expectedResult": "Modal closes and focus returns to 'Create New Template' button that originally opened the modal"
        },
        {
          "step": 6,
          "action": "Open modal again and click 'Save Template' button",
          "expectedResult": "After successful save, modal closes and focus returns to appropriate element (newly created template in list or Create button)"
        }
      ],
      "postconditions": [
        "Focus is properly managed throughout modal lifecycle",
        "Focus never escapes modal while open",
        "Focus returns to logical element when modal closes",
        "Background content is properly inert while modal is active"
      ]
    },
    {
      "id": "TC-ACCE-006",
      "title": "Verify ARIA landmarks and semantic HTML structure for assistive technology navigation",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is on shift template management page",
        "Screen reader is active (NVDA or JAWS)",
        "Page HTML is rendered and accessible"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Use screen reader landmark navigation (NVDA: D key, JAWS: ; key) to navigate through page regions",
          "expectedResult": "Screen reader announces distinct landmarks: 'main region' for main content, 'navigation region' for menu, 'banner region' for header if present"
        },
        {
          "step": 2,
          "action": "Navigate to the template creation form and verify it has appropriate role",
          "expectedResult": "Form is announced as 'form region' or has role='form' with accessible name 'Create Shift Template' or similar"
        },
        {
          "step": 3,
          "action": "Use screen reader heading navigation (H key) to navigate through page headings",
          "expectedResult": "Headings are announced in logical hierarchy: H1 for page title 'Shift Template Management', H2 for sections like 'Create Template', proper nesting without skipped levels"
        },
        {
          "step": 4,
          "action": "Navigate to the templates list and verify it uses semantic list structure",
          "expectedResult": "Screen reader announces 'list with X items' and each template as 'list item' with proper structure"
        },
        {
          "step": 5,
          "action": "Verify buttons use <button> elements and links use <a> elements appropriately",
          "expectedResult": "Screen reader announces 'button' for action elements (Create, Save, Delete) and 'link' only for navigation elements"
        }
      ],
      "postconditions": [
        "Page structure uses semantic HTML5 elements",
        "ARIA landmarks are properly implemented",
        "Heading hierarchy is logical and complete",
        "Screen reader users can efficiently navigate page structure"
      ]
    }
  ],
  "selectedTypes": {
    "functional": true,
    "edgeCases": true,
    "negative": true,
    "accessibility": true
  },
  "userStoryObject": {
    "id": "story-1",
    "title": "As Administrator, I want to perform shift template creation to achieve reusable scheduling.",
    "epicId": "epic-1",
    "persona": "Administrator",
    "priority": "High",
    "subtasks": [
      {
        "category": "Planning",
        "description": "Define the data model for shift templates.",
        "estimatedHours": 4
      },
      {
        "category": "Backend",
        "description": "Implement API endpoint for creating shift templates.",
        "estimatedHours": 6
      },
      {
        "category": "Frontend",
        "description": "Develop the user interface for shift template creation.",
        "estimatedHours": 8
      },
      {
        "category": "Testing",
        "description": "Create unit tests for the shift template creation functionality.",
        "estimatedHours": 4
      },
      {
        "category": "Documentation",
        "description": "Document the API endpoint and usage for shift template creation.",
        "estimatedHours": 3
      }
    ],
    "featureId": "feature-1",
    "testCases": [
      {
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template creation page",
            "result": "Creation form is displayed"
          },
          {
            "step": 2,
            "action": "Enter valid start and end times",
            "result": "No validation errors"
          },
          {
            "step": 3,
            "action": "Submit the form",
            "result": "Template is created successfully with confirmation message"
          }
        ],
        "title": "Validate successful shift template creation"
      },
      {
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template creation page",
            "result": "Creation form is displayed"
          },
          {
            "step": 2,
            "action": "Enter overlapping break times",
            "result": "Validation error is displayed"
          },
          {
            "step": 3,
            "action": "Attempt to submit the form",
            "result": "Submission is blocked with error message"
          }
        ],
        "title": "Ensure validation for overlapping break times"
      }
    ],
    "description": "CONTEXT & BACKGROUND:\nThe ability to create shift templates is essential for streamlining the scheduling process. This feature allows administrators to define shifts that can be reused, reducing the time spent on scheduling.\n\nCURRENT STATE:\nCurrently, scheduling is done manually without templates, leading to inconsistencies and increased workload.\n\nDESIRED STATE:\nAdministrators can create and manage templates, ensuring consistency and efficiency in scheduling.\n\nKEY FUNCTIONALITY:\n‚Ä¢ Create new shift templates with start and end times.\n‚Ä¢ Define break times within templates.\n‚Ä¢ Edit existing templates as needed.\n‚Ä¢ Delete templates that are no longer in use.\n\nUSER INTERACTION FLOW:\n1. Administrator navigates to the shift template management page.\n2. Administrator clicks on 'Create New Template'.\n3. Administrator inputs shift details (start time, end time, breaks).\n4. Administrator saves the template.\n5. System confirms template creation.\n6. Administrator can view the list of created templates.\n\nTECHNICAL CONSIDERATIONS:\n‚Ä¢ Data source: ShiftTemplates table in the database.\n‚Ä¢ Validation rules: Ensure start time is before end time.\n‚Ä¢ API endpoints: POST /api/shift-templates for creation.\n‚Ä¢ Security: Only authorized administrators can create templates.\n‚Ä¢ Performance: System should handle up to 100 templates without performance degradation.\n\nOUT OF SCOPE:\n‚Ä¢ Employee-specific scheduling is not included in this story.\n\nSUCCESS METRICS:\n‚Ä¢ 90% of templates created without errors.",
    "storyPoints": 5,
    "personaSource": "AI Suggested",
    "acceptanceCriteria": [
      "System allows creation of shift templates with valid start and end times.",
      "System validates break times and ensures they do not overlap with shift times.",
      "System displays a confirmation message upon successful template creation.",
      "System lists all created templates for review."
    ]
  }
}