{
  "storyId": "story-1",
  "storyTitle": "As Administrator, I want to perform shift template creation to achieve reusable scheduling.",
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify successful creation of shift template with valid start time, end time, and break times",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in with Administrator role and has permission to create shift templates",
        "User is on the shift template management page at /admin/shift-templates",
        "ShiftTemplates database table is accessible and has less than 100 existing templates",
        "Browser is Chrome/Firefox/Safari latest version"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click on the 'Create New Template' button located in the top-right corner of the page",
          "expectedResult": "Shift template creation form is displayed with fields for Template Name, Start Time, End Time, and Break Times"
        },
        {
          "step": 2,
          "action": "Enter 'Morning Shift' in the Template Name field",
          "expectedResult": "Template Name field displays 'Morning Shift' with no validation errors"
        },
        {
          "step": 3,
          "action": "Select '08:00 AM' in the Start Time dropdown field",
          "expectedResult": "Start Time field displays '08:00 AM' and no validation errors appear"
        },
        {
          "step": 4,
          "action": "Select '05:00 PM' in the End Time dropdown field",
          "expectedResult": "End Time field displays '05:00 PM' and no validation errors appear"
        },
        {
          "step": 5,
          "action": "Click 'Add Break' button and enter break time from '12:00 PM' to '01:00 PM'",
          "expectedResult": "Break time entry is added showing '12:00 PM - 01:00 PM' with no validation errors"
        },
        {
          "step": 6,
          "action": "Click the 'Save Template' button at the bottom of the form",
          "expectedResult": "Green success banner appears at top of page with message 'Shift template created successfully' and form is cleared"
        },
        {
          "step": 7,
          "action": "Verify the newly created template appears in the templates list",
          "expectedResult": "Template 'Morning Shift' is displayed in the list with Start Time '08:00 AM', End Time '05:00 PM', and Break '12:00 PM - 01:00 PM'"
        }
      ],
      "postconditions": [
        "New shift template 'Morning Shift' is saved in ShiftTemplates database table with correct times",
        "Template appears in the list of all shift templates on the management page",
        "User remains on the shift template management page",
        "Template can be selected for future scheduling operations"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Verify creation of shift template with multiple break periods",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator with shift template creation permissions",
        "User is on the shift template management page",
        "System supports multiple break periods per shift template",
        "No network connectivity issues"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Template creation form opens with all required fields visible"
        },
        {
          "step": 2,
          "action": "Enter 'Extended Shift' in Template Name, '07:00 AM' as Start Time, and '11:00 PM' as End Time",
          "expectedResult": "All fields accept the input without validation errors"
        },
        {
          "step": 3,
          "action": "Click 'Add Break' and enter first break from '10:00 AM' to '10:15 AM'",
          "expectedResult": "First break is added and displayed in the breaks section"
        },
        {
          "step": 4,
          "action": "Click 'Add Break' again and enter second break from '02:00 PM' to '02:30 PM'",
          "expectedResult": "Second break is added and both breaks are displayed without overlap errors"
        },
        {
          "step": 5,
          "action": "Click 'Add Break' again and enter third break from '06:00 PM' to '06:15 PM'",
          "expectedResult": "Third break is added and all three breaks are displayed in chronological order"
        },
        {
          "step": 6,
          "action": "Click 'Save Template' button",
          "expectedResult": "Success message 'Shift template created successfully' appears and template is saved"
        }
      ],
      "postconditions": [
        "Template 'Extended Shift' is saved with three separate break periods",
        "All break times are stored correctly in the database",
        "Template is visible in the templates list with all break information",
        "System performance remains stable with multiple breaks configured"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify editing of existing shift template with updated times",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "At least one shift template 'Morning Shift' exists in the system with Start Time '08:00 AM' and End Time '05:00 PM'",
        "User is on the shift template management page viewing the list of templates",
        "Template is not currently assigned to any active schedules"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Morning Shift' template in the list and click the 'Edit' icon button next to it",
          "expectedResult": "Edit template form opens with pre-populated fields showing current values: Start Time '08:00 AM', End Time '05:00 PM'"
        },
        {
          "step": 2,
          "action": "Change the End Time from '05:00 PM' to '06:00 PM'",
          "expectedResult": "End Time field updates to '06:00 PM' without validation errors"
        },
        {
          "step": 3,
          "action": "Modify the break time from '12:00 PM - 01:00 PM' to '12:30 PM - 01:30 PM'",
          "expectedResult": "Break time updates to new values and no overlap validation errors appear"
        },
        {
          "step": 4,
          "action": "Click 'Update Template' button",
          "expectedResult": "Blue success banner displays 'Shift template updated successfully' message"
        },
        {
          "step": 5,
          "action": "Verify the updated template in the templates list",
          "expectedResult": "Template 'Morning Shift' now shows End Time '06:00 PM' and Break '12:30 PM - 01:30 PM'"
        }
      ],
      "postconditions": [
        "Template 'Morning Shift' is updated in the database with new End Time and Break times",
        "Updated template is reflected in the templates list immediately",
        "Audit log records the template modification with timestamp and administrator details",
        "User remains on the shift template management page"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Verify deletion of shift template that is not in use",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator with delete permissions",
        "Shift template 'Test Template' exists and is not assigned to any schedules",
        "User is on the shift template management page",
        "At least 2 templates exist in the system"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Test Template' in the templates list and click the 'Delete' icon button",
          "expectedResult": "Confirmation modal appears with message 'Are you sure you want to delete this template?' and 'Cancel' and 'Confirm Delete' buttons"
        },
        {
          "step": 2,
          "action": "Click 'Confirm Delete' button in the modal",
          "expectedResult": "Modal closes and red success banner appears with message 'Shift template deleted successfully'"
        },
        {
          "step": 3,
          "action": "Verify the templates list no longer contains 'Test Template'",
          "expectedResult": "'Test Template' is removed from the list and is no longer visible"
        },
        {
          "step": 4,
          "action": "Refresh the page by pressing F5",
          "expectedResult": "Page reloads and 'Test Template' remains deleted from the list"
        }
      ],
      "postconditions": [
        "Template 'Test Template' is permanently removed from ShiftTemplates database table",
        "Template count is decremented by 1",
        "Deletion is logged in audit trail with administrator ID and timestamp",
        "Other templates remain unaffected and visible in the list"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Verify viewing list of all created shift templates with correct details",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "At least 5 different shift templates exist in the system with varying times",
        "User navigates to shift template management page at /admin/shift-templates",
        "Database connection is stable"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Observe the templates list section on the page",
          "expectedResult": "All 5 templates are displayed in a table/list format with columns: Template Name, Start Time, End Time, Breaks, Actions"
        },
        {
          "step": 2,
          "action": "Verify each template row displays the correct Template Name",
          "expectedResult": "Each template shows its unique name clearly visible"
        },
        {
          "step": 3,
          "action": "Verify each template row displays Start Time and End Time in correct format",
          "expectedResult": "Times are displayed in 12-hour format (e.g., '08:00 AM', '05:00 PM') and are readable"
        },
        {
          "step": 4,
          "action": "Verify break times are displayed for templates that have breaks configured",
          "expectedResult": "Break times are shown in format '12:00 PM - 01:00 PM' or 'No breaks' if none configured"
        },
        {
          "step": 5,
          "action": "Verify action buttons (Edit, Delete) are present for each template",
          "expectedResult": "Each template row has 'Edit' and 'Delete' icon buttons that are clickable"
        }
      ],
      "postconditions": [
        "All templates remain in their original state without modifications",
        "User can interact with any template for editing or deletion",
        "Page performance is acceptable with all templates loaded",
        "No data is lost or corrupted during viewing"
      ]
    },
    {
      "id": "TC-FUNC-006",
      "title": "Verify cancellation of shift template creation without saving data",
      "category": "Functional",
      "priority": "Low",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template management page",
        "Template count before test is recorded",
        "No unsaved changes exist in the system"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' button",
          "expectedResult": "Template creation form opens with empty fields"
        },
        {
          "step": 2,
          "action": "Enter 'Temporary Template' in Template Name field",
          "expectedResult": "Template Name field shows 'Temporary Template'"
        },
        {
          "step": 3,
          "action": "Enter '09:00 AM' as Start Time and '06:00 PM' as End Time",
          "expectedResult": "Time fields are populated with entered values"
        },
        {
          "step": 4,
          "action": "Click 'Cancel' button at the bottom of the form",
          "expectedResult": "Confirmation modal appears asking 'Discard unsaved changes?' with 'Stay' and 'Discard' buttons"
        },
        {
          "step": 5,
          "action": "Click 'Discard' button in the confirmation modal",
          "expectedResult": "Form closes, user returns to templates list, and no success message appears"
        },
        {
          "step": 6,
          "action": "Verify templates list does not contain 'Temporary Template'",
          "expectedResult": "'Temporary Template' is not present in the list and template count remains unchanged"
        }
      ],
      "postconditions": [
        "No new template is created in the database",
        "Template count remains the same as before the test",
        "User is returned to the shift template management page",
        "No data is persisted from the cancelled operation"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Verify validation error when end time is before or equal to start time",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation form",
        "Form validation is enabled and active",
        "No browser console errors exist"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Invalid Shift' in Template Name field",
          "expectedResult": "Template Name field accepts the input"
        },
        {
          "step": 2,
          "action": "Select '05:00 PM' in the Start Time dropdown",
          "expectedResult": "Start Time field displays '05:00 PM'"
        },
        {
          "step": 3,
          "action": "Select '08:00 AM' in the End Time dropdown (earlier than start time)",
          "expectedResult": "Red validation error message appears below End Time field stating 'End time must be after start time'"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button",
          "expectedResult": "Form submission is blocked, error message persists, and red error banner appears at top stating 'Please fix validation errors before saving'"
        },
        {
          "step": 5,
          "action": "Change End Time to '05:00 PM' (equal to start time)",
          "expectedResult": "Red validation error message appears stating 'End time must be after start time. Shift duration must be at least 1 minute'"
        },
        {
          "step": 6,
          "action": "Attempt to click 'Save Template' button again",
          "expectedResult": "Form submission is still blocked and 'Save Template' button remains disabled or shows error state"
        }
      ],
      "postconditions": [
        "No template is created in the database",
        "User remains on the creation form with validation errors visible",
        "Form fields retain the invalid values entered",
        "System logs validation failure attempt"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify validation error when break times overlap with each other",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation form",
        "Form allows multiple break periods to be added",
        "Validation rules for break overlap are implemented"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Overlapping Breaks Shift' in Template Name, '08:00 AM' as Start Time, and '06:00 PM' as End Time",
          "expectedResult": "All fields accept input without errors"
        },
        {
          "step": 2,
          "action": "Click 'Add Break' and enter first break from '12:00 PM' to '01:00 PM'",
          "expectedResult": "First break is added successfully"
        },
        {
          "step": 3,
          "action": "Click 'Add Break' again and enter second break from '12:30 PM' to '01:30 PM' (overlaps with first break)",
          "expectedResult": "Red validation error appears stating 'Break times cannot overlap with existing breaks' below the second break entry"
        },
        {
          "step": 4,
          "action": "Attempt to click 'Save Template' button",
          "expectedResult": "Form submission is blocked with error banner 'Cannot save template with overlapping break times'"
        }
      ],
      "postconditions": [
        "No template is saved to the database",
        "Validation error remains visible on the form",
        "User can correct the overlapping break times",
        "First break entry remains valid and unchanged"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Verify validation error when break time falls outside shift start and end time",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation form",
        "Break time validation against shift boundaries is enabled",
        "Form is in clean state with no previous errors"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Invalid Break Shift' in Template Name, '09:00 AM' as Start Time, and '05:00 PM' as End Time",
          "expectedResult": "Fields accept input without validation errors"
        },
        {
          "step": 2,
          "action": "Click 'Add Break' and enter break time from '08:00 AM' to '08:30 AM' (before shift start)",
          "expectedResult": "Red validation error appears stating 'Break time must be within shift start and end time'"
        },
        {
          "step": 3,
          "action": "Change break time to '05:30 PM' to '06:00 PM' (after shift end)",
          "expectedResult": "Red validation error appears stating 'Break time must be within shift start and end time'"
        },
        {
          "step": 4,
          "action": "Attempt to save the template by clicking 'Save Template' button",
          "expectedResult": "Form submission is prevented and error message 'Please ensure all break times are within shift hours' is displayed"
        }
      ],
      "postconditions": [
        "Template is not created in the database",
        "Form remains open with validation errors displayed",
        "User can modify break times to valid values",
        "Shift start and end times remain unchanged"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Verify error handling when attempting to create template with empty required fields",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation form",
        "All fields are empty/default state",
        "Required field validation is active"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Leave Template Name field empty",
          "expectedResult": "Field remains empty with no input"
        },
        {
          "step": 2,
          "action": "Leave Start Time field at default/unselected state",
          "expectedResult": "Start Time shows placeholder text 'Select start time'"
        },
        {
          "step": 3,
          "action": "Leave End Time field at default/unselected state",
          "expectedResult": "End Time shows placeholder text 'Select end time'"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button without entering any data",
          "expectedResult": "Multiple red validation errors appear: 'Template Name is required', 'Start Time is required', 'End Time is required'"
        },
        {
          "step": 5,
          "action": "Verify form submission is blocked",
          "expectedResult": "No API call is made to POST /api/shift-templates and user remains on the form"
        }
      ],
      "postconditions": [
        "No template is created in the database",
        "All required field validation errors are visible",
        "Form remains in edit mode with focus on first invalid field",
        "No partial data is saved to the system"
      ]
    },
    {
      "id": "TC-NEGA-005",
      "title": "Verify error when unauthorized user attempts to access shift template creation",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in with non-Administrator role (e.g., Employee or Supervisor)",
        "User does not have shift template creation permissions",
        "Authorization middleware is properly configured",
        "User attempts to navigate directly to /admin/shift-templates"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to shift template management page URL /admin/shift-templates",
          "expectedResult": "Access is denied and user is redirected to unauthorized page or dashboard"
        },
        {
          "step": 2,
          "action": "Observe the error message displayed",
          "expectedResult": "Red error banner displays 'Access Denied: You do not have permission to access this page' or similar message"
        },
        {
          "step": 3,
          "action": "Attempt to access the API endpoint directly by making POST request to /api/shift-templates using browser console",
          "expectedResult": "API returns 403 Forbidden status with error message 'Insufficient permissions'"
        }
      ],
      "postconditions": [
        "User is redirected to appropriate page based on their role",
        "No template creation form is accessible to unauthorized user",
        "Security log records unauthorized access attempt with user ID and timestamp",
        "No data is exposed or modified"
      ]
    },
    {
      "id": "TC-NEGA-006",
      "title": "Verify error handling when attempting to delete a template that is currently in use",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "Shift template 'Active Shift' exists and is assigned to at least one active schedule",
        "User is on the shift template management page viewing the templates list",
        "Template is actively being used in current or future schedules"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate 'Active Shift' template in the list and click the 'Delete' icon button",
          "expectedResult": "Confirmation modal appears with warning message 'This template is currently in use and cannot be deleted'"
        },
        {
          "step": 2,
          "action": "Observe the modal buttons available",
          "expectedResult": "Only 'Close' or 'Cancel' button is available, 'Confirm Delete' button is disabled or not present"
        },
        {
          "step": 3,
          "action": "Click 'Close' button to dismiss the modal",
          "expectedResult": "Modal closes and template 'Active Shift' remains in the list unchanged"
        },
        {
          "step": 4,
          "action": "Verify the template still exists in the database by refreshing the page",
          "expectedResult": "Template 'Active Shift' is still visible in the templates list after page refresh"
        }
      ],
      "postconditions": [
        "Template 'Active Shift' remains in the database unchanged",
        "Associated schedules continue to reference the template without disruption",
        "Error/warning is logged indicating deletion attempt of in-use template",
        "User remains on the shift template management page"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Verify shift template creation with minimum valid duration (1 minute shift)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation form",
        "System allows minimum 1-minute shift duration",
        "Time picker supports minute-level precision"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter 'Minimal Shift' in Template Name field",
          "expectedResult": "Template Name field accepts the input"
        },
        {
          "step": 2,
          "action": "Select '09:00 AM' as Start Time",
          "expectedResult": "Start Time field displays '09:00 AM'"
        },
        {
          "step": 3,
          "action": "Select '09:01 AM' as End Time (1 minute duration)",
          "expectedResult": "End Time field displays '09:01 AM' with no validation errors"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is created successfully with confirmation message 'Shift template created successfully'"
        },
        {
          "step": 5,
          "action": "Verify the template appears in the list with correct 1-minute duration",
          "expectedResult": "Template 'Minimal Shift' is displayed showing Start Time '09:00 AM' and End Time '09:01 AM'"
        }
      ],
      "postconditions": [
        "Template with 1-minute duration is saved in the database",
        "Template can be used for scheduling purposes",
        "System handles edge case duration without errors",
        "Template appears correctly in all views and reports"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Verify shift template creation with maximum duration (24 hours spanning midnight)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation form",
        "System supports shifts spanning midnight",
        "Time handling supports 24-hour shift duration"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter '24 Hour Shift' in Template Name field",
          "expectedResult": "Template Name field accepts the input"
        },
        {
          "step": 2,
          "action": "Select '12:00 AM' (midnight) as Start Time",
          "expectedResult": "Start Time field displays '12:00 AM'"
        },
        {
          "step": 3,
          "action": "Select '11:59 PM' as End Time (23 hours 59 minutes duration)",
          "expectedResult": "End Time field displays '11:59 PM' with no validation errors"
        },
        {
          "step": 4,
          "action": "Add break time from '12:00 PM' to '01:00 PM'",
          "expectedResult": "Break is added successfully within the 24-hour shift"
        },
        {
          "step": 5,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is created successfully with confirmation message"
        },
        {
          "step": 6,
          "action": "Verify template displays correct duration calculation",
          "expectedResult": "Template shows Start '12:00 AM', End '11:59 PM', and duration is calculated as 23 hours 59 minutes"
        }
      ],
      "postconditions": [
        "Template with near-24-hour duration is saved correctly",
        "Time calculations handle midnight boundary properly",
        "Break times are correctly positioned within the extended shift",
        "Template can be applied to schedules without errors"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Verify system behavior when creating the 100th shift template (performance limit)",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "Exactly 99 shift templates already exist in the system",
        "System performance requirement states maximum 100 templates",
        "User is on the shift template creation form"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter '100th Template' in Template Name field",
          "expectedResult": "Template Name field accepts the input"
        },
        {
          "step": 2,
          "action": "Enter valid Start Time '08:00 AM' and End Time '05:00 PM'",
          "expectedResult": "Time fields accept input without errors"
        },
        {
          "step": 3,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is created successfully and confirmation message appears"
        },
        {
          "step": 4,
          "action": "Verify the templates list now shows 100 templates",
          "expectedResult": "Templates list displays all 100 templates with acceptable load time (under 3 seconds)"
        },
        {
          "step": 5,
          "action": "Attempt to click 'Create New Template' button again",
          "expectedResult": "Warning message appears stating 'Maximum template limit (100) reached. Please delete unused templates before creating new ones' or button is disabled"
        },
        {
          "step": 6,
          "action": "Verify page performance and responsiveness with 100 templates loaded",
          "expectedResult": "Page remains responsive, scrolling is smooth, and no performance degradation is observed"
        }
      ],
      "postconditions": [
        "Exactly 100 templates exist in the system",
        "System enforces the 100-template limit",
        "Performance remains within acceptable parameters",
        "User is prevented from creating 101st template"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify template creation with special characters and Unicode in template name",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation form",
        "System supports UTF-8 character encoding",
        "Template Name field accepts text input"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter template name with special characters: 'Morning Shiftâ„¢ (8-5) @Location #1 & Break 50%'",
          "expectedResult": "Template Name field accepts all special characters without errors"
        },
        {
          "step": 2,
          "action": "Enter valid Start Time '08:00 AM' and End Time '05:00 PM'",
          "expectedResult": "Time fields accept input normally"
        },
        {
          "step": 3,
          "action": "Click 'Save Template' button",
          "expectedResult": "Template is created successfully with special characters preserved"
        },
        {
          "step": 4,
          "action": "Verify template appears in list with special characters displayed correctly",
          "expectedResult": "Template name 'Morning Shiftâ„¢ (8-5) @Location #1 & Break 50%' is displayed exactly as entered"
        },
        {
          "step": 5,
          "action": "Create another template with Unicode characters: 'CafÃ© Shift æ—¥æœ¬èªž ðŸŒŸ'",
          "expectedResult": "Template with Unicode and emoji is created and displayed correctly"
        }
      ],
      "postconditions": [
        "Templates with special characters and Unicode are saved correctly in database",
        "Character encoding is preserved throughout the system",
        "Templates display correctly in all views and reports",
        "No character corruption or encoding issues occur"
      ]
    },
    {
      "id": "TC-EDGE-005",
      "title": "Verify rapid consecutive template creation (stress test for concurrent operations)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template management page",
        "System has stable network connection",
        "Less than 90 templates exist in the system"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Create New Template' and quickly enter 'Rapid Test 1', Start Time '08:00 AM', End Time '05:00 PM', then click Save",
          "expectedResult": "First template is created and success message appears"
        },
        {
          "step": 2,
          "action": "Immediately click 'Create New Template' again and enter 'Rapid Test 2' with same times, then click Save within 2 seconds",
          "expectedResult": "Second template is created successfully without conflicts"
        },
        {
          "step": 3,
          "action": "Repeat the process for 'Rapid Test 3', 'Rapid Test 4', and 'Rapid Test 5' in quick succession",
          "expectedResult": "All templates are created successfully with unique IDs and no duplicate entries"
        },
        {
          "step": 4,
          "action": "Verify all 5 templates appear in the templates list",
          "expectedResult": "All 5 templates 'Rapid Test 1' through 'Rapid Test 5' are displayed in the list"
        },
        {
          "step": 5,
          "action": "Check database for any duplicate or corrupted entries",
          "expectedResult": "Database contains exactly 5 new unique template records with no duplicates"
        }
      ],
      "postconditions": [
        "All 5 templates are successfully created with unique identifiers",
        "No race conditions or data corruption occurred",
        "System handled rapid consecutive operations without errors",
        "Database integrity is maintained"
      ]
    },
    {
      "id": "TC-EDGE-006",
      "title": "Verify template creation with extremely long template name (boundary testing)",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template creation form",
        "Template Name field has character limit defined",
        "Form validation is active"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Enter a template name with 255 characters (if that's the limit): 'A' repeated 255 times",
          "expectedResult": "Field accepts exactly 255 characters and displays character count '255/255'"
        },
        {
          "step": 2,
          "action": "Attempt to enter the 256th character",
          "expectedResult": "Field prevents additional input or shows validation error 'Maximum 255 characters allowed'"
        },
        {
          "step": 3,
          "action": "Enter valid Start Time '09:00 AM' and End Time '05:00 PM'",
          "expectedResult": "Time fields accept input normally"
        },
        {
          "step": 4,
          "action": "Click 'Save Template' button with 255-character name",
          "expectedResult": "Template is created successfully or shows appropriate error if name is too long for database"
        },
        {
          "step": 5,
          "action": "Verify template appears in list with full name or truncated with ellipsis",
          "expectedResult": "Template name is displayed appropriately (truncated with tooltip showing full name or scrollable)"
        }
      ],
      "postconditions": [
        "Template with maximum-length name is handled correctly",
        "Database field accommodates the character limit",
        "UI displays long names without breaking layout",
        "Character limit validation works as expected"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify complete keyboard navigation through shift template creation form",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template management page",
        "Screen reader is not active (testing keyboard only)",
        "Browser is set to default accessibility settings"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab key to navigate to 'Create New Template' button and press Enter",
          "expectedResult": "Template creation form opens and focus moves to first form field (Template Name) with visible focus indicator (blue outline)"
        },
        {
          "step": 2,
          "action": "Type 'Keyboard Test Shift' in Template Name field, then press Tab",
          "expectedResult": "Focus moves to Start Time dropdown with visible focus indicator"
        },
        {
          "step": 3,
          "action": "Press Enter or Space to open Start Time dropdown, use Arrow Down key to select '08:00 AM', then press Enter",
          "expectedResult": "Start Time is set to '08:00 AM', dropdown closes, and focus remains on Start Time field"
        },
        {
          "step": 4,
          "action": "Press Tab to move to End Time field, press Enter to open dropdown, use Arrow keys to select '05:00 PM', press Enter",
          "expectedResult": "End Time is set to '05:00 PM' and focus moves to next interactive element"
        },
        {
          "step": 5,
          "action": "Press Tab to navigate to 'Add Break' button and press Enter",
          "expectedResult": "Break time fields appear and focus moves to first break time field"
        },
        {
          "step": 6,
          "action": "Navigate through break time fields using Tab, set break from '12:00 PM' to '01:00 PM' using keyboard only",
          "expectedResult": "Break times are set successfully using only keyboard input"
        },
        {
          "step": 7,
          "action": "Press Tab to navigate to 'Save Template' button and press Enter",
          "expectedResult": "Template is saved successfully and focus moves to success message or back to templates list"
        },
        {
          "step": 8,
          "action": "Press Shift+Tab to navigate backwards through the form",
          "expectedResult": "Focus moves in reverse order through all interactive elements with visible focus indicators"
        }
      ],
      "postconditions": [
        "All form elements are accessible via keyboard navigation",
        "Focus order is logical and follows visual layout",
        "Template is created successfully using only keyboard",
        "No keyboard traps exist in the form"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Verify screen reader announces all form elements and validation errors correctly",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "NVDA or JAWS screen reader is active and running",
        "User is on the shift template management page",
        "Screen reader verbosity is set to medium level"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to 'Create New Template' button using screen reader and activate it",
          "expectedResult": "Screen reader announces 'Create New Template, button' and form opens with announcement 'Shift Template Creation Form, dialog'"
        },
        {
          "step": 2,
          "action": "Navigate to Template Name field",
          "expectedResult": "Screen reader announces 'Template Name, edit text, required, blank' with proper label association"
        },
        {
          "step": 3,
          "action": "Navigate to Start Time field",
          "expectedResult": "Screen reader announces 'Start Time, combo box, required, collapsed' with instructions for interaction"
        },
        {
          "step": 4,
          "action": "Leave all fields empty and navigate to 'Save Template' button and activate",
          "expectedResult": "Screen reader announces 'Error: Template Name is required, Start Time is required, End Time is required' with error count and focus moves to first error"
        },
        {
          "step": 5,
          "action": "Navigate to each field with validation error",
          "expectedResult": "Screen reader announces field label followed by 'invalid' state and specific error message for each field"
        },
        {
          "step": 6,
          "action": "Fill in valid data and save template",
          "expectedResult": "Screen reader announces 'Shift template created successfully, alert' when template is saved"
        },
        {
          "step": 7,
          "action": "Navigate through the templates list",
          "expectedResult": "Screen reader announces each template with format 'Template Name: Morning Shift, Start Time: 8:00 AM, End Time: 5:00 PM, row 1 of 5'"
        }
      ],
      "postconditions": [
        "All form elements have proper ARIA labels and roles",
        "Validation errors are announced immediately and clearly",
        "Success messages are announced via ARIA live regions",
        "Screen reader users can complete all tasks independently"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Verify focus management and focus trap in modal dialogs",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "At least one shift template exists in the system",
        "User is on the shift template management page",
        "Keyboard navigation is being used"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to a template's 'Delete' button using Tab key and press Enter",
          "expectedResult": "Delete confirmation modal opens and focus automatically moves to the modal's first focusable element (typically 'Cancel' or 'Confirm Delete' button)"
        },
        {
          "step": 2,
          "action": "Press Tab key repeatedly to cycle through modal elements",
          "expectedResult": "Focus cycles only within modal elements: 'Cancel' button, 'Confirm Delete' button, and close icon. Focus does not escape to background page"
        },
        {
          "step": 3,
          "action": "Press Shift+Tab to navigate backwards through modal",
          "expectedResult": "Focus cycles backwards through modal elements and wraps from first to last element, remaining trapped in modal"
        },
        {
          "step": 4,
          "action": "Press Escape key while modal is open",
          "expectedResult": "Modal closes and focus returns to the 'Delete' button that originally opened the modal"
        },
        {
          "step": 5,
          "action": "Open modal again and click 'Cancel' button",
          "expectedResult": "Modal closes and focus returns to the 'Delete' button"
        },
        {
          "step": 6,
          "action": "Open 'Create New Template' form and press Escape key",
          "expectedResult": "Form closes (with confirmation if data entered) and focus returns to 'Create New Template' button"
        }
      ],
      "postconditions": [
        "Focus is properly trapped within modal dialogs",
        "Focus returns to triggering element when modal closes",
        "Escape key closes modals and returns focus appropriately",
        "Background content is not accessible while modal is open"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Verify color contrast ratios meet WCAG 2.1 AA standards (4.5:1 for normal text)",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is on the shift template management page",
        "Color contrast analyzer tool is available (e.g., browser extension or WAVE tool)",
        "Page is displayed at 100% zoom",
        "Default theme/color scheme is active"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Use color contrast analyzer to check 'Create New Template' button text against button background",
          "expectedResult": "Contrast ratio is at least 4.5:1 for normal text or 3:1 for large text (18pt+), meeting WCAG AA standards"
        },
        {
          "step": 2,
          "action": "Check contrast of form field labels (Template Name, Start Time, End Time) against page background",
          "expectedResult": "All label text has contrast ratio of at least 4.5:1 against background"
        },
        {
          "step": 3,
          "action": "Check contrast of validation error messages (red text) against background",
          "expectedResult": "Error message text has contrast ratio of at least 4.5:1 and does not rely solely on color to convey error state"
        },
        {
          "step": 4,
          "action": "Check contrast of success message (green banner) text against banner background",
          "expectedResult": "Success message text has contrast ratio of at least 4.5:1"
        },
        {
          "step": 5,
          "action": "Check contrast of template list text (template names, times) against list background",
          "expectedResult": "All text in templates list has sufficient contrast ratio of at least 4.5:1"
        },
        {
          "step": 6,
          "action": "Check focus indicators (blue outline) contrast against various backgrounds",
          "expectedResult": "Focus indicators have contrast ratio of at least 3:1 against adjacent colors"
        }
      ],
      "postconditions": [
        "All text elements meet WCAG 2.1 AA contrast requirements",
        "Error and success states are distinguishable without relying solely on color",
        "Focus indicators are clearly visible on all backgrounds",
        "Page is usable for users with low vision or color blindness"
      ]
    },
    {
      "id": "TC-ACCE-005",
      "title": "Verify page functionality at 200% browser zoom level",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template management page",
        "Browser zoom is set to 100% initially",
        "Page is displayed in standard desktop viewport (1920x1080)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Increase browser zoom to 200% using Ctrl + Plus key or browser zoom controls",
          "expectedResult": "Page scales to 200% and all content remains visible without horizontal scrolling required"
        },
        {
          "step": 2,
          "action": "Verify 'Create New Template' button is fully visible and clickable",
          "expectedResult": "Button is visible, text is not truncated, and button remains functional"
        },
        {
          "step": 3,
          "action": "Click 'Create New Template' and verify form layout at 200% zoom",
          "expectedResult": "Form fields stack vertically if needed, all labels are visible, and no content overlaps"
        },
        {
          "step": 4,
          "action": "Fill in Template Name, Start Time, and End Time fields at 200% zoom",
          "expectedResult": "All fields are accessible, dropdowns open properly, and text input is visible"
        },
        {
          "step": 5,
          "action": "Scroll through the templates list at 200% zoom",
          "expectedResult": "List is scrollable, all template information is readable, and action buttons are accessible"
        },
        {
          "step": 6,
          "action": "Verify validation error messages display correctly at 200% zoom",
          "expectedResult": "Error messages are fully visible, not truncated, and positioned correctly near their fields"
        }
      ],
      "postconditions": [
        "All functionality works correctly at 200% zoom",
        "No horizontal scrolling is required for main content",
        "Text remains readable and not truncated",
        "Interactive elements remain accessible and properly sized"
      ]
    },
    {
      "id": "TC-ACCE-006",
      "title": "Verify proper ARIA roles, labels, and live regions for dynamic content",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as Administrator",
        "User is on the shift template management page",
        "Browser developer tools are open to inspect ARIA attributes",
        "Screen reader is available for testing announcements"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Inspect 'Create New Template' button in developer tools",
          "expectedResult": "Button has role='button' (implicit or explicit) and accessible name via aria-label or text content"
        },
        {
          "step": 2,
          "action": "Inspect form fields (Template Name, Start Time, End Time) for proper labeling",
          "expectedResult": "Each field has associated <label> with for attribute or aria-labelledby connecting label to input"
        },
        {
          "step": 3,
          "action": "Inspect required field indicators",
          "expectedResult": "Required fields have aria-required='true' attribute and visual indicator (asterisk) is included in accessible name"
        },
        {
          "step": 4,
          "action": "Trigger a validation error and inspect error message",
          "expectedResult": "Error message has role='alert' or is in aria-live='polite' region, and field has aria-invalid='true' and aria-describedby pointing to error message"
        },
        {
          "step": 5,
          "action": "Save template successfully and inspect success message",
          "expectedResult": "Success message is in aria-live='polite' region or has role='status' for automatic announcement"
        },
        {
          "step": 6,
          "action": "Inspect templates list structure",
          "expectedResult": "List has role='list' or is semantic <ul>/<ol>, each template has role='listitem', and table structure (if used) has proper <th> headers with scope attributes"
        },
        {
          "step": 7,
          "action": "Inspect modal dialog ARIA attributes",
          "expectedResult": "Modal has role='dialog', aria-modal='true', aria-labelledby pointing to modal title, and aria-describedby pointing to modal description"
        }
      ],
      "postconditions": [
        "All interactive elements have proper ARIA roles and labels",
        "Dynamic content changes are announced to screen readers",
        "Form validation states are properly communicated",
        "Page structure is semantically correct and accessible"
      ]
    }
  ],
  "selectedTypes": {
    "functional": true,
    "edgeCases": true,
    "negative": true,
    "accessibility": true
  },
  "userStoryObject": {
    "id": "story-1",
    "title": "As Administrator, I want to perform shift template creation to achieve reusable scheduling.",
    "epicId": "epic-1",
    "persona": "Administrator",
    "priority": "High",
    "subtasks": [
      {
        "category": "Planning",
        "description": "Define the data model for shift templates.",
        "estimatedHours": 4
      },
      {
        "category": "Backend",
        "description": "Implement API endpoint for creating shift templates.",
        "estimatedHours": 6
      },
      {
        "category": "Frontend",
        "description": "Develop the user interface for shift template creation.",
        "estimatedHours": 8
      },
      {
        "category": "Testing",
        "description": "Create unit tests for the shift template creation functionality.",
        "estimatedHours": 4
      },
      {
        "category": "Documentation",
        "description": "Document the API endpoint and usage for shift template creation.",
        "estimatedHours": 3
      }
    ],
    "featureId": "feature-1",
    "testCases": [
      {
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template creation page",
            "result": "Creation form is displayed"
          },
          {
            "step": 2,
            "action": "Enter valid start and end times",
            "result": "No validation errors"
          },
          {
            "step": 3,
            "action": "Submit the form",
            "result": "Template is created successfully with confirmation message"
          }
        ],
        "title": "Validate successful shift template creation"
      },
      {
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template creation page",
            "result": "Creation form is displayed"
          },
          {
            "step": 2,
            "action": "Enter overlapping break times",
            "result": "Validation error is displayed"
          },
          {
            "step": 3,
            "action": "Attempt to submit the form",
            "result": "Submission is blocked with error message"
          }
        ],
        "title": "Ensure validation for overlapping break times"
      }
    ],
    "description": "CONTEXT & BACKGROUND:\nThe ability to create shift templates is essential for streamlining the scheduling process. This feature allows administrators to define shifts that can be reused, reducing the time spent on scheduling.\n\nCURRENT STATE:\nCurrently, scheduling is done manually without templates, leading to inconsistencies and increased workload.\n\nDESIRED STATE:\nAdministrators can create and manage templates, ensuring consistency and efficiency in scheduling.\n\nKEY FUNCTIONALITY:\nâ€¢ Create new shift templates with start and end times.\nâ€¢ Define break times within templates.\nâ€¢ Edit existing templates as needed.\nâ€¢ Delete templates that are no longer in use.\n\nUSER INTERACTION FLOW:\n1. Administrator navigates to the shift template management page.\n2. Administrator clicks on 'Create New Template'.\n3. Administrator inputs shift details (start time, end time, breaks).\n4. Administrator saves the template.\n5. System confirms template creation.\n6. Administrator can view the list of created templates.\n\nTECHNICAL CONSIDERATIONS:\nâ€¢ Data source: ShiftTemplates table in the database.\nâ€¢ Validation rules: Ensure start time is before end time.\nâ€¢ API endpoints: POST /api/shift-templates for creation.\nâ€¢ Security: Only authorized administrators can create templates.\nâ€¢ Performance: System should handle up to 100 templates without performance degradation.\n\nOUT OF SCOPE:\nâ€¢ Employee-specific scheduling is not included in this story.\n\nSUCCESS METRICS:\nâ€¢ 90% of templates created without errors.",
    "storyPoints": 5,
    "personaSource": "AI Suggested",
    "acceptanceCriteria": [
      "System allows creation of shift templates with valid start and end times.",
      "System validates break times and ensures they do not overlap with shift times.",
      "System displays a confirmation message upon successful template creation.",
      "System lists all created templates for review."
    ]
  }
}