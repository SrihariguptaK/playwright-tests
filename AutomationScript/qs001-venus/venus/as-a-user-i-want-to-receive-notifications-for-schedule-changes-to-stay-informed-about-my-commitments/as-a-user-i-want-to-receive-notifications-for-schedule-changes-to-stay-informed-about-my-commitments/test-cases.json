{
  "storyId": "ado-14152",
  "storyTitle": "As a User, I want to receive notifications for schedule changes to stay informed about my commitments.",
  "testCases": [],
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify user receives email and in-app notification when schedule is updated",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User account is active and authenticated in the system",
        "User has a confirmed schedule entry for a future date/time",
        "User's email address is verified and valid in the system",
        "Notification service is running and operational",
        "User has notification preferences enabled for schedule changes"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Administrator updates the user's scheduled appointment time from 2:00 PM to 3:00 PM in the schedule management system",
          "expectedResult": "System detects the schedule change and triggers notification generation process"
        },
        {
          "step": 2,
          "action": "Wait for 60 seconds and check the user's email inbox",
          "expectedResult": "Email notification is received within 1 minute with subject line 'Schedule Change Alert' containing old time (2:00 PM) and new time (3:00 PM)"
        },
        {
          "step": 3,
          "action": "Login to the application as the user and navigate to the notifications panel in the top-right corner",
          "expectedResult": "In-app notification badge displays '1' unread notification"
        },
        {
          "step": 4,
          "action": "Click on the notifications icon to open the notifications dropdown",
          "expectedResult": "Notification displays with title 'Schedule Updated', timestamp, and details showing 'Your appointment has been changed from 2:00 PM to 3:00 PM on [date]'"
        },
        {
          "step": 5,
          "action": "Click the 'Acknowledge' button on the in-app notification",
          "expectedResult": "Notification is marked as read, badge count decreases to '0', and success message 'Notification acknowledged' appears"
        }
      ],
      "postconditions": [
        "Notification is stored in the user's notification history with 'read' status",
        "Email notification remains in user's inbox for reference",
        "User's schedule displays the updated time of 3:00 PM",
        "Notification acknowledgment is logged in the system audit trail with timestamp"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Verify notification includes complete schedule change details (date, time, location, description)",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged into the system with valid credentials",
        "User has a scheduled appointment with complete details (date, time, location, description)",
        "Schedule database is accessible and contains the user's appointment data",
        "Notification templates are configured with all required fields"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Administrator modifies multiple fields of the user's appointment: changes date from June 15 to June 16, time from 10:00 AM to 11:00 AM, location from 'Room A' to 'Room B', and description from 'Initial Consultation' to 'Follow-up Consultation'",
          "expectedResult": "System captures all changes and generates comprehensive notification"
        },
        {
          "step": 2,
          "action": "Open the email notification received by the user",
          "expectedResult": "Email displays a formatted table showing 'Previous Details' and 'Updated Details' columns with all four changed fields clearly listed"
        },
        {
          "step": 3,
          "action": "Verify the email contains the following sections: Original Date (June 15), New Date (June 16), Original Time (10:00 AM), New Time (11:00 AM), Original Location (Room A), New Location (Room B), Original Description (Initial Consultation), New Description (Follow-up Consultation)",
          "expectedResult": "All eight data points are present and correctly displayed in the email body with clear labels"
        },
        {
          "step": 4,
          "action": "Navigate to the in-app notifications panel and click on the schedule change notification",
          "expectedResult": "Notification detail view opens showing the same comprehensive change information in a user-friendly format with visual indicators (icons) for each field type"
        }
      ],
      "postconditions": [
        "User has complete visibility of all schedule changes made",
        "Both email and in-app notifications contain identical information",
        "Schedule in the system reflects all updated values",
        "Change history is recorded in the schedule audit log"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify user can view past notifications in notification history",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is authenticated and logged into the application",
        "User has received at least 5 schedule change notifications in the past 30 days",
        "Notification history feature is enabled for the user's account",
        "Database contains historical notification records for the user"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click on the notifications icon in the top-right corner of the application header",
          "expectedResult": "Notifications dropdown panel opens showing the 3 most recent notifications"
        },
        {
          "step": 2,
          "action": "Click on the 'View All Notifications' link at the bottom of the dropdown",
          "expectedResult": "User is redirected to the Notification History page displaying a paginated list of all notifications"
        },
        {
          "step": 3,
          "action": "Verify the notification list displays columns: Date/Time, Notification Type, Subject, Status (Read/Unread), and Actions",
          "expectedResult": "All 5 past schedule change notifications are visible with correct timestamps in descending order (newest first)"
        },
        {
          "step": 4,
          "action": "Click on any past notification entry to expand details",
          "expectedResult": "Notification expands to show full details including original schedule, updated schedule, who made the change, and acknowledgment status"
        },
        {
          "step": 5,
          "action": "Use the filter dropdown to select 'Schedule Changes' as notification type",
          "expectedResult": "List filters to show only schedule change notifications, excluding other notification types"
        }
      ],
      "postconditions": [
        "User remains on the Notification History page",
        "All historical notifications are accessible and readable",
        "Filter settings are preserved during the session",
        "No notifications are deleted or modified during viewing"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Verify notification is sent within 1 minute of schedule change detection",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User has an active account with verified email address",
        "User has a confirmed schedule entry in the system",
        "System clock is synchronized with NTP server",
        "Notification service performance monitoring is enabled",
        "Test environment has network connectivity for email delivery"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Record the current system timestamp (T0) before making any changes",
          "expectedResult": "Timestamp T0 is captured and logged for reference"
        },
        {
          "step": 2,
          "action": "Administrator updates the user's schedule appointment time from 1:00 PM to 2:00 PM and saves the change",
          "expectedResult": "System saves the change and displays confirmation message 'Schedule updated successfully' with timestamp T1"
        },
        {
          "step": 3,
          "action": "Monitor the notification service logs and check for notification dispatch entry",
          "expectedResult": "Notification dispatch log entry appears with timestamp T2, where T2 - T1 is less than 5 seconds"
        },
        {
          "step": 4,
          "action": "Check the user's email inbox and note the email received timestamp T3",
          "expectedResult": "Email notification is received with timestamp T3, where T3 - T1 is less than or equal to 60 seconds"
        },
        {
          "step": 5,
          "action": "Login as the user and check the in-app notification timestamp T4",
          "expectedResult": "In-app notification shows timestamp T4, where T4 - T1 is less than or equal to 60 seconds"
        },
        {
          "step": 6,
          "action": "Calculate the total notification delivery time: (T3 - T1) and (T4 - T1)",
          "expectedResult": "Both email and in-app notifications were delivered within the 1-minute SLA requirement (60 seconds)"
        }
      ],
      "postconditions": [
        "Performance metrics are logged showing notification delivery time met SLA",
        "User received both email and in-app notifications within acceptable timeframe",
        "System performance logs confirm no delays in notification processing",
        "Notification delivery timestamps are recorded in the audit trail"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Verify multiple schedule changes generate separate notifications",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is authenticated with an active account",
        "User has three different scheduled appointments on different dates",
        "All appointments are in confirmed status",
        "Notification service is operational and not rate-limited"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Administrator updates the first appointment time from 9:00 AM to 10:00 AM",
          "expectedResult": "System generates and sends first notification for appointment 1 change"
        },
        {
          "step": 2,
          "action": "Wait 30 seconds, then administrator updates the second appointment location from 'Building A' to 'Building B'",
          "expectedResult": "System generates and sends second notification for appointment 2 change"
        },
        {
          "step": 3,
          "action": "Wait 30 seconds, then administrator cancels the third appointment",
          "expectedResult": "System generates and sends third notification for appointment 3 cancellation"
        },
        {
          "step": 4,
          "action": "Check the user's email inbox",
          "expectedResult": "Three separate email notifications are received, each with distinct subject lines and content specific to each appointment change"
        },
        {
          "step": 5,
          "action": "Login as the user and open the notifications panel",
          "expectedResult": "Notification badge shows '3' unread notifications, and dropdown displays all three notifications with different timestamps and details"
        },
        {
          "step": 6,
          "action": "Click on each notification individually to view details",
          "expectedResult": "Each notification opens with correct details corresponding to its specific schedule change (time change, location change, cancellation)"
        }
      ],
      "postconditions": [
        "Three distinct notification records exist in the notification history",
        "Each notification is independently acknowledgeable",
        "User's schedule reflects all three changes accurately",
        "All three notifications are logged separately in the audit trail"
      ]
    },
    {
      "id": "TC-FUNC-006",
      "title": "Verify notification acknowledgment updates notification status and removes from unread count",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged into the application",
        "User has received at least one unread schedule change notification",
        "Notification badge displays count of unread notifications",
        "User has permission to acknowledge notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Note the current unread notification count displayed on the notification badge (e.g., '3')",
          "expectedResult": "Badge displays the correct count of unread notifications"
        },
        {
          "step": 2,
          "action": "Click on the notifications icon to open the notifications dropdown panel",
          "expectedResult": "Dropdown opens showing list of notifications with unread notifications highlighted or marked with a blue dot indicator"
        },
        {
          "step": 3,
          "action": "Locate the schedule change notification and click the 'Acknowledge' button next to it",
          "expectedResult": "Notification status changes from 'Unread' to 'Read', blue dot indicator disappears, and success toast message 'Notification acknowledged successfully' appears in green at top-right"
        },
        {
          "step": 4,
          "action": "Verify the notification badge count has decreased by 1 (e.g., from '3' to '2')",
          "expectedResult": "Badge count updates immediately to reflect the acknowledged notification"
        },
        {
          "step": 5,
          "action": "Navigate to Notification History page and locate the acknowledged notification",
          "expectedResult": "Notification displays with 'Read' status, acknowledgment timestamp, and is visually distinct from unread notifications (grayed out or different styling)"
        },
        {
          "step": 6,
          "action": "Logout and login again, then check the notification badge",
          "expectedResult": "Badge count remains at '2', confirming acknowledgment was persisted in the database"
        }
      ],
      "postconditions": [
        "Acknowledged notification status is permanently updated to 'Read' in the database",
        "Notification no longer appears in the unread notifications list",
        "Acknowledgment action is logged with user ID and timestamp in audit trail",
        "User can still access the acknowledged notification in notification history"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Verify system handles notification failure when user email address is invalid or missing",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User account exists in the system",
        "User has a scheduled appointment",
        "User's email field in the database is set to an invalid format (e.g., 'invalid-email-format')",
        "Notification service is operational"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Administrator updates the user's schedule appointment time from 3:00 PM to 4:00 PM",
          "expectedResult": "System detects the schedule change and attempts to send notification"
        },
        {
          "step": 2,
          "action": "Check the notification service error logs",
          "expectedResult": "Error log entry appears with message 'Email notification failed: Invalid email address format for user ID [user_id]' with severity level 'ERROR'"
        },
        {
          "step": 3,
          "action": "Verify that the in-app notification was still generated despite email failure",
          "expectedResult": "In-app notification is successfully created and visible when user logs in, with notification badge showing '1' unread notification"
        },
        {
          "step": 4,
          "action": "Check the notification status in the database for this notification record",
          "expectedResult": "Notification record shows status 'Partially Delivered' with delivery_channels field indicating 'in-app: success, email: failed'"
        },
        {
          "step": 5,
          "action": "Verify that an alert was sent to system administrators about the email delivery failure",
          "expectedResult": "Admin notification queue contains alert message 'Email delivery failed for user [user_id] - Invalid email address' with timestamp"
        }
      ],
      "postconditions": [
        "User receives in-app notification despite email failure",
        "Error is logged and tracked for administrator review",
        "System continues to function normally for other notification deliveries",
        "Failed email delivery is recorded in notification delivery audit log"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify system behavior when notification service is unavailable or times out",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User has an active account with valid email",
        "User has a confirmed schedule entry",
        "Notification service is temporarily stopped or unreachable",
        "System has retry mechanism configured for failed notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Stop the notification service or simulate network timeout to notification API endpoint",
          "expectedResult": "Notification service becomes unavailable and health check returns status 'DOWN'"
        },
        {
          "step": 2,
          "action": "Administrator updates the user's schedule appointment from 2:00 PM to 3:00 PM",
          "expectedResult": "Schedule update is saved successfully with confirmation message 'Schedule updated successfully'"
        },
        {
          "step": 3,
          "action": "Monitor the application logs for notification dispatch attempts",
          "expectedResult": "System logs show 'Notification service unavailable - adding to retry queue' with timestamp and notification ID"
        },
        {
          "step": 4,
          "action": "Verify the notification is added to the retry queue in the database",
          "expectedResult": "Notification record exists in retry_queue table with status 'PENDING_RETRY', retry_count '0', and next_retry_time set to 5 minutes from now"
        },
        {
          "step": 5,
          "action": "Restart the notification service to make it available again",
          "expectedResult": "Notification service health check returns status 'UP'"
        },
        {
          "step": 6,
          "action": "Wait for the retry mechanism to execute (5 minutes) and check notification delivery",
          "expectedResult": "System automatically retries notification delivery, user receives both email and in-app notification, and retry_queue record is marked as 'COMPLETED'"
        }
      ],
      "postconditions": [
        "Notification is eventually delivered after service recovery",
        "Retry queue is cleared of successfully delivered notifications",
        "System maintains data integrity despite temporary service failure",
        "All retry attempts are logged in the system audit trail"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Verify system prevents notification spam when schedule is rapidly changed multiple times",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "User has an active account with valid email",
        "User has a scheduled appointment",
        "System has rate limiting configured for notifications",
        "Administrator has permission to modify schedules"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Administrator rapidly updates the same appointment time 10 times within 2 minutes (e.g., 1:00 PM to 1:15 PM to 1:30 PM to 1:45 PM, etc.)",
          "expectedResult": "System accepts all schedule updates and saves each change to the database"
        },
        {
          "step": 2,
          "action": "Check the notification service logs for notification generation attempts",
          "expectedResult": "System detects rapid changes and logs message 'Rate limit applied: Multiple schedule changes detected within threshold period for appointment ID [id]'"
        },
        {
          "step": 3,
          "action": "Verify how many notifications were actually sent to the user",
          "expectedResult": "Only 2 notifications are sent: one for the first change and one consolidated notification after the rapid changes stop, with message 'Your appointment has been updated multiple times. Final time: [last_time]'"
        },
        {
          "step": 4,
          "action": "Check the user's email inbox",
          "expectedResult": "User receives maximum of 2 emails instead of 10, preventing inbox spam"
        },
        {
          "step": 5,
          "action": "Login as the user and check in-app notifications",
          "expectedResult": "In-app notification panel shows 2 notifications, with the second one indicating 'Multiple changes detected' and displaying only the final schedule state"
        }
      ],
      "postconditions": [
        "User is not overwhelmed with excessive notifications",
        "Rate limiting mechanism successfully prevented notification spam",
        "All schedule changes are preserved in the database audit log",
        "Final schedule state is accurately reflected in the consolidated notification"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Verify notification behavior when user account is deactivated or deleted after schedule change",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User has an active account with valid email",
        "User has a scheduled appointment",
        "Administrator has permission to deactivate user accounts",
        "Notification service is operational"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Administrator updates the user's schedule appointment time from 10:00 AM to 11:00 AM",
          "expectedResult": "System detects schedule change and initiates notification process"
        },
        {
          "step": 2,
          "action": "Before notification is sent (within 10 seconds), administrator deactivates the user account by setting status to 'INACTIVE'",
          "expectedResult": "User account status changes to 'INACTIVE' and user is logged out if currently logged in"
        },
        {
          "step": 3,
          "action": "Check the notification service logs for notification processing",
          "expectedResult": "System detects inactive account status and logs 'Notification suppressed: User account [user_id] is inactive' with INFO severity level"
        },
        {
          "step": 4,
          "action": "Verify that no email notification was sent to the user's email address",
          "expectedResult": "User's email inbox does not receive any schedule change notification"
        },
        {
          "step": 5,
          "action": "Check the notification database table for the notification record",
          "expectedResult": "Notification record exists with status 'SUPPRESSED' and reason 'User account inactive' in the notes field"
        },
        {
          "step": 6,
          "action": "Attempt to login as the deactivated user",
          "expectedResult": "Login fails with error message 'Your account has been deactivated. Please contact support.' and no in-app notifications are accessible"
        }
      ],
      "postconditions": [
        "No notifications are delivered to deactivated user accounts",
        "System prevents sending notifications to invalid or inactive recipients",
        "Notification suppression is properly logged for audit purposes",
        "User data privacy is maintained by not sending notifications to deactivated accounts"
      ]
    },
    {
      "id": "TC-NEGA-005",
      "title": "Verify system handles database connection failure during notification acknowledgment",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged into the application",
        "User has at least one unread schedule change notification",
        "Database connection is active initially",
        "User has permission to acknowledge notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "User clicks on the notifications icon to open the notifications dropdown",
          "expectedResult": "Dropdown opens successfully showing unread notifications with badge count '1'"
        },
        {
          "step": 2,
          "action": "Simulate database connection failure or timeout (disconnect database or block database port)",
          "expectedResult": "Database becomes unavailable for write operations"
        },
        {
          "step": 3,
          "action": "User clicks the 'Acknowledge' button on the schedule change notification",
          "expectedResult": "System attempts to update notification status but encounters database error"
        },
        {
          "step": 4,
          "action": "Verify the error message displayed to the user",
          "expectedResult": "Error toast message appears in red at top-right: 'Unable to acknowledge notification. Please try again later.' with error icon"
        },
        {
          "step": 5,
          "action": "Check that the notification status remains unchanged in the UI",
          "expectedResult": "Notification remains in 'Unread' state with blue dot indicator still visible, badge count remains at '1'"
        },
        {
          "step": 6,
          "action": "Check application error logs for database connection error",
          "expectedResult": "Error log contains entry 'Database connection failed during notification acknowledgment for user [user_id], notification [notification_id]' with stack trace"
        },
        {
          "step": 7,
          "action": "Restore database connection and click 'Acknowledge' button again",
          "expectedResult": "Acknowledgment succeeds, notification status updates to 'Read', badge count decreases to '0', and success message 'Notification acknowledged successfully' appears"
        }
      ],
      "postconditions": [
        "System gracefully handles database failures without crashing",
        "User receives clear error messaging about the failure",
        "Notification state remains consistent and unchanged after failed acknowledgment",
        "User can successfully retry the operation after database recovery"
      ]
    },
    {
      "id": "TC-NEGA-006",
      "title": "Verify notification is not sent when schedule change is made to a past appointment",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "User has an active account",
        "User has a past appointment (scheduled date/time is before current system time)",
        "Notification service is operational",
        "System has validation rules for past appointment modifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Administrator attempts to update a past appointment (e.g., appointment was on June 1, 2024 at 2:00 PM, current date is June 15, 2024) by changing the time to 3:00 PM",
          "expectedResult": "System allows the update for record-keeping purposes but displays warning message 'Warning: Modifying past appointment. Notification will not be sent.'"
        },
        {
          "step": 2,
          "action": "Check the notification service logs",
          "expectedResult": "Log entry shows 'Notification suppressed: Schedule change is for past appointment [appointment_id] on [past_date]' with INFO severity"
        },
        {
          "step": 3,
          "action": "Wait for 2 minutes and check the user's email inbox",
          "expectedResult": "No email notification is received for the past appointment change"
        },
        {
          "step": 4,
          "action": "Login as the user and check the in-app notifications panel",
          "expectedResult": "No new notification appears for the past appointment change, notification badge count remains unchanged"
        },
        {
          "step": 5,
          "action": "Verify the notification database table",
          "expectedResult": "No notification record is created for this past appointment change, or if created, status is 'SUPPRESSED' with reason 'Past appointment modification'"
        }
      ],
      "postconditions": [
        "No notifications are sent for past appointment modifications",
        "System prevents unnecessary notifications for historical data changes",
        "Schedule change is still recorded in the appointment audit log",
        "User is not confused by notifications about past events"
      ]
    },
    {
      "id": "TC-NEGA-007",
      "title": "Verify system handles unauthorized access attempt to acknowledge another user's notification",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "Two user accounts exist: User A and User B, both authenticated",
        "User A has an unread schedule change notification with notification ID 'NOTIF-12345'",
        "User B is logged into the application",
        "API endpoint /api/notifications/acknowledge requires authentication and authorization"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Login as User B and navigate to the notifications panel",
          "expectedResult": "User B sees their own notifications (if any), but not User A's notifications"
        },
        {
          "step": 2,
          "action": "User B attempts to acknowledge User A's notification by directly calling the API endpoint: POST /api/notifications/acknowledge with body {\"notificationId\": \"NOTIF-12345\"} using User B's authentication token",
          "expectedResult": "API returns HTTP 403 Forbidden status code with error response body: {\"error\": \"Unauthorized\", \"message\": \"You do not have permission to acknowledge this notification\"}"
        },
        {
          "step": 3,
          "action": "Check the application security logs",
          "expectedResult": "Security log contains entry 'Unauthorized notification acknowledgment attempt: User [User_B_ID] attempted to acknowledge notification [NOTIF-12345] belonging to User [User_A_ID]' with WARNING severity"
        },
        {
          "step": 4,
          "action": "Login as User A and check the notification status",
          "expectedResult": "User A's notification remains in 'Unread' status, unchanged by User B's unauthorized attempt"
        },
        {
          "step": 5,
          "action": "Verify the notification database record for NOTIF-12345",
          "expectedResult": "Notification status is still 'Unread', acknowledged_by field is NULL, and acknowledged_at timestamp is NULL"
        }
      ],
      "postconditions": [
        "User A's notification remains secure and unmodified",
        "Unauthorized access attempt is blocked and logged",
        "System maintains proper authorization controls for notification operations",
        "Security team can review unauthorized access attempts in audit logs"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Verify notification delivery when multiple schedule changes occur within 1 second",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged into the system with valid credentials",
        "User has at least 5 scheduled appointments in the schedule database",
        "Email service and in-app notification service are operational",
        "User has notification preferences enabled for schedule changes"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the schedule management page as an administrator",
          "expectedResult": "Schedule management page loads successfully showing all user appointments"
        },
        {
          "step": 2,
          "action": "Rapidly modify 5 different appointments for the same user within 1 second (change times, dates, or locations)",
          "expectedResult": "All 5 schedule changes are saved successfully in the database"
        },
        {
          "step": 3,
          "action": "Check the user's email inbox within 2 minutes",
          "expectedResult": "User receives 5 separate email notifications, each containing details of individual schedule changes, all delivered within 1 minute of the changes"
        },
        {
          "step": 4,
          "action": "Log in as the affected user and check in-app notifications panel",
          "expectedResult": "In-app notification panel displays 5 separate notifications with correct timestamps and schedule change details in chronological order"
        },
        {
          "step": 5,
          "action": "Verify notification queue processing logs in the system",
          "expectedResult": "System logs show all 5 notifications were queued, processed, and delivered without errors or dropped notifications"
        }
      ],
      "postconditions": [
        "All 5 notifications are successfully delivered via both email and in-app channels",
        "No notifications are lost or merged during rapid processing",
        "System performance remains stable with no degradation",
        "Notification delivery times are logged and meet the 1-minute SLA"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Verify notification behavior when user's email address contains special characters and Unicode",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User account exists with email address containing special characters: test+user.name@sub-domain.co.uk",
        "Another user account exists with Unicode email: tÃ«st.Ã¼ser@dÃ¶main.com",
        "Both users have active schedules with upcoming appointments",
        "Email notification service supports international email addresses"
      ],
      "steps": [
        {
          "step": 1,
          "action": "As administrator, modify a schedule appointment for user with email test+user.name@sub-domain.co.uk",
          "expectedResult": "Schedule change is saved successfully in the database"
        },
        {
          "step": 2,
          "action": "Wait 1 minute and check if email notification was delivered to test+user.name@sub-domain.co.uk",
          "expectedResult": "Email notification is successfully delivered to the special character email address with correct schedule change details"
        },
        {
          "step": 3,
          "action": "Modify a schedule appointment for user with Unicode email tÃ«st.Ã¼ser@dÃ¶main.com",
          "expectedResult": "Schedule change is saved successfully in the database"
        },
        {
          "step": 4,
          "action": "Wait 1 minute and check if email notification was delivered to tÃ«st.Ã¼ser@dÃ¶main.com",
          "expectedResult": "Email notification is successfully delivered to the Unicode email address with properly encoded characters"
        },
        {
          "step": 5,
          "action": "Log in as both users and verify in-app notifications were also received",
          "expectedResult": "Both users see in-app notifications with correct schedule change information"
        }
      ],
      "postconditions": [
        "Email notifications are successfully delivered to addresses with special characters and Unicode",
        "No email encoding errors or delivery failures occur",
        "In-app notifications are delivered regardless of email address format",
        "System logs show successful notification delivery for both edge case email formats"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Verify notification delivery when schedule change details contain maximum character limits and special formatting",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged into the system with active schedule",
        "Schedule appointment exists with standard details",
        "System allows schedule notes/descriptions up to 5000 characters",
        "Email and in-app notification templates support variable content lengths"
      ],
      "steps": [
        {
          "step": 1,
          "action": "As administrator, modify an appointment and add a description containing exactly 5000 characters including special characters: line breaks (\\n), quotes (\"), apostrophes ('), ampersands (&), and emojis (ðŸ””ðŸ“…âœ…)",
          "expectedResult": "Schedule change with 5000-character description is saved successfully"
        },
        {
          "step": 2,
          "action": "Check user's email notification within 1 minute",
          "expectedResult": "Email notification is delivered with complete 5000-character description, all special characters properly escaped and rendered, emojis displayed correctly"
        },
        {
          "step": 3,
          "action": "Log in as the user and open in-app notification",
          "expectedResult": "In-app notification displays the full 5000-character description with proper formatting, line breaks preserved, and all special characters rendered correctly"
        },
        {
          "step": 4,
          "action": "Modify another appointment with description containing only special HTML characters: <script>alert('test')</script> and SQL injection attempt: '; DROP TABLE schedules;--",
          "expectedResult": "Schedule change is saved with proper sanitization applied"
        },
        {
          "step": 5,
          "action": "Verify both email and in-app notifications for the second change",
          "expectedResult": "Notifications display the malicious content as plain text (properly escaped), no script execution occurs, no SQL injection vulnerability exposed"
        }
      ],
      "postconditions": [
        "Notifications handle maximum character limits without truncation or errors",
        "Special characters and emojis are properly escaped and displayed in both email and in-app notifications",
        "System sanitizes potentially malicious content preventing XSS and SQL injection",
        "Notification templates maintain readability with large content blocks"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify notification behavior when user has no email address or invalid email format",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User account exists with email field set to NULL in database",
        "Another user account exists with invalid email format: 'not-an-email'",
        "Third user account exists with empty string as email: ''",
        "All three users have active schedules and in-app notification capability"
      ],
      "steps": [
        {
          "step": 1,
          "action": "As administrator, modify schedule for user with NULL email address",
          "expectedResult": "Schedule change is saved successfully"
        },
        {
          "step": 2,
          "action": "Wait 1 minute and check system notification logs",
          "expectedResult": "System logs show email notification was skipped due to NULL email, but in-app notification was queued and delivered successfully"
        },
        {
          "step": 3,
          "action": "Log in as the user with NULL email and check in-app notifications",
          "expectedResult": "In-app notification is displayed with complete schedule change details"
        },
        {
          "step": 4,
          "action": "Modify schedule for user with invalid email format 'not-an-email'",
          "expectedResult": "Schedule change is saved successfully"
        },
        {
          "step": 5,
          "action": "Check notification logs and verify email delivery status",
          "expectedResult": "System logs show email validation failed, email notification was not sent, but in-app notification was delivered successfully without errors"
        },
        {
          "step": 6,
          "action": "Modify schedule for user with empty string email and verify both notification channels",
          "expectedResult": "In-app notification is delivered successfully, email notification is skipped gracefully, no system errors or exceptions thrown"
        }
      ],
      "postconditions": [
        "System gracefully handles missing or invalid email addresses without crashing",
        "In-app notifications are always delivered regardless of email validity",
        "Error logs capture email delivery failures with appropriate error codes",
        "Users without valid emails still receive notifications through available channels"
      ]
    },
    {
      "id": "TC-EDGE-005",
      "title": "Verify notification system behavior during email service outage or API timeout",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged into the system with valid email address",
        "User has active schedule with upcoming appointments",
        "Email service API endpoint /api/notifications/send is accessible",
        "System has retry mechanism configured for failed notification deliveries"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Simulate email service outage by blocking access to email API endpoint",
          "expectedResult": "Email service becomes unavailable, returns 503 Service Unavailable error"
        },
        {
          "step": 2,
          "action": "As administrator, modify user's schedule appointment during the outage",
          "expectedResult": "Schedule change is saved successfully in the database"
        },
        {
          "step": 3,
          "action": "Check notification queue and system logs immediately after change",
          "expectedResult": "Email notification is queued but marked as failed delivery, in-app notification is delivered successfully, error logged with timestamp"
        },
        {
          "step": 4,
          "action": "Restore email service availability after 5 minutes",
          "expectedResult": "Email service API returns to operational status"
        },
        {
          "step": 5,
          "action": "Wait for system retry mechanism to process failed notifications",
          "expectedResult": "System automatically retries failed email notification, email is successfully delivered to user's inbox with original schedule change details"
        },
        {
          "step": 6,
          "action": "Verify user received both in-app notification (immediate) and email notification (delayed after retry)",
          "expectedResult": "User has both notifications with consistent schedule change information, email includes note about delayed delivery if applicable"
        }
      ],
      "postconditions": [
        "System maintains notification queue during service outages",
        "Failed email notifications are automatically retried when service recovers",
        "In-app notifications are delivered immediately regardless of email service status",
        "All notification attempts and retries are logged with timestamps and status codes"
      ]
    },
    {
      "id": "TC-EDGE-006",
      "title": "Verify notification delivery when user is logged in on multiple devices simultaneously",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User account exists with valid credentials",
        "User is logged in on desktop browser (Chrome)",
        "User is simultaneously logged in on mobile browser (Safari iOS)",
        "User is also logged in on tablet device (Android)",
        "All devices have active WebSocket connections for real-time in-app notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Verify all three devices show active sessions in user's account settings",
          "expectedResult": "Account settings display 3 active sessions with device information and login timestamps"
        },
        {
          "step": 2,
          "action": "As administrator, modify the user's schedule appointment",
          "expectedResult": "Schedule change is saved successfully in the database"
        },
        {
          "step": 3,
          "action": "Within 1 minute, check in-app notifications on all three devices simultaneously",
          "expectedResult": "All three devices receive in-app notification simultaneously via WebSocket, notification appears in notification panel on desktop, mobile, and tablet"
        },
        {
          "step": 4,
          "action": "On desktop device, click the notification to acknowledge it",
          "expectedResult": "Notification is marked as read on desktop, acknowledgment is saved to database"
        },
        {
          "step": 5,
          "action": "Check notification status on mobile and tablet devices",
          "expectedResult": "Notification status syncs across all devices, showing as acknowledged/read on mobile and tablet as well"
        },
        {
          "step": 6,
          "action": "Verify user's email inbox",
          "expectedResult": "User receives exactly one email notification (not duplicated per device) with complete schedule change details"
        }
      ],
      "postconditions": [
        "In-app notifications are delivered to all active user sessions simultaneously",
        "Email notification is sent only once regardless of number of active sessions",
        "Notification acknowledgment syncs across all devices in real-time",
        "No duplicate notifications are created for multi-device scenarios"
      ]
    },
    {
      "id": "TC-EDGE-007",
      "title": "Verify notification behavior when schedule change is made and immediately reverted within notification delivery window",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged into the system with active schedule",
        "User has an appointment scheduled for tomorrow at 2:00 PM",
        "Notification system has 1-minute delivery SLA",
        "System tracks schedule change history and versions"
      ],
      "steps": [
        {
          "step": 1,
          "action": "As administrator, change the appointment time from 2:00 PM to 3:00 PM",
          "expectedResult": "Schedule change is saved, notification is queued for delivery"
        },
        {
          "step": 2,
          "action": "Within 10 seconds, revert the appointment time back to original 2:00 PM",
          "expectedResult": "Schedule is reverted to original time, second notification is queued"
        },
        {
          "step": 3,
          "action": "Wait 2 minutes and check user's email inbox",
          "expectedResult": "User receives two separate email notifications: first showing change to 3:00 PM, second showing reversion to 2:00 PM, both with timestamps"
        },
        {
          "step": 4,
          "action": "Log in as user and check in-app notification panel",
          "expectedResult": "In-app panel shows both notifications in chronological order with clear indication of the change sequence"
        },
        {
          "step": 5,
          "action": "Click on both notifications to view full details",
          "expectedResult": "Each notification displays complete change details including previous value, new value, and timestamp, allowing user to understand the change history"
        }
      ],
      "postconditions": [
        "System sends notifications for each schedule change independently",
        "Users receive complete change history even for rapid changes and reversions",
        "Notification timestamps accurately reflect when each change occurred",
        "No notifications are cancelled or merged when changes occur in rapid succession"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify complete keyboard navigation for in-app notification panel and acknowledgment workflow",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged into the system using keyboard only (no mouse)",
        "User has received 3 unread schedule change notifications in the notification panel",
        "Browser is set to display focus indicators clearly",
        "Notification panel is accessible from main navigation"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab key repeatedly from page load until focus reaches the notification bell icon in the header",
          "expectedResult": "Focus indicator (visible outline) moves through page elements in logical order and reaches notification bell icon, bell icon shows badge with number '3' indicating unread notifications"
        },
        {
          "step": 2,
          "action": "Press Enter key or Space bar to open the notification panel",
          "expectedResult": "Notification panel opens as dropdown or modal, focus automatically moves to first notification in the list, panel contains all 3 notifications with schedule change details"
        },
        {
          "step": 3,
          "action": "Press Tab key to navigate through notifications",
          "expectedResult": "Focus moves sequentially through each notification item, each notification is fully accessible and displays visible focus indicator"
        },
        {
          "step": 4,
          "action": "Press Enter key on the first notification to view details or acknowledge",
          "expectedResult": "Notification expands to show full schedule change details, or acknowledgment action is triggered, focus remains on the notification or moves to acknowledgment button"
        },
        {
          "step": 5,
          "action": "Press Tab to reach 'Acknowledge' or 'Mark as Read' button, then press Enter",
          "expectedResult": "Notification is marked as acknowledged, visual indicator changes (e.g., background color fades, checkmark appears), notification count badge decrements to '2'"
        },
        {
          "step": 6,
          "action": "Press Escape key to close the notification panel",
          "expectedResult": "Notification panel closes, focus returns to notification bell icon in header, keyboard focus is not lost or trapped"
        },
        {
          "step": 7,
          "action": "Press Tab + Shift keys together to navigate backwards through the interface",
          "expectedResult": "Reverse tab order works correctly, focus moves backwards through all interactive elements in reverse logical order"
        }
      ],
      "postconditions": [
        "All notification panel functionality is fully accessible via keyboard without requiring mouse",
        "Focus indicators are visible at all times during keyboard navigation",
        "Focus management follows logical order and returns appropriately when closing panels",
        "No keyboard traps exist where users cannot escape using standard keys"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Verify screen reader announcements for notification receipt and schedule change details",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged into the system with screen reader enabled (NVDA, JAWS, or VoiceOver)",
        "User is on the dashboard page",
        "Screen reader is set to announce ARIA live regions",
        "System is configured to send real-time notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "As administrator, trigger a schedule change for the logged-in user",
          "expectedResult": "Schedule change is saved and notification is generated"
        },
        {
          "step": 2,
          "action": "Listen for screen reader announcement when in-app notification arrives (within 1 minute)",
          "expectedResult": "Screen reader announces: 'New notification: Your appointment on [date] has been changed from [old time] to [new time]' or similar descriptive message, announcement uses ARIA live region with appropriate politeness level (assertive or polite)"
        },
        {
          "step": 3,
          "action": "Navigate to notification bell icon using screen reader navigation commands",
          "expectedResult": "Screen reader announces: 'Notifications button, 1 unread notification' with proper role and state information"
        },
        {
          "step": 4,
          "action": "Activate the notification bell icon to open notification panel",
          "expectedResult": "Screen reader announces: 'Notification panel opened, list with 1 item' and provides context about the panel contents"
        },
        {
          "step": 5,
          "action": "Navigate to the notification item using arrow keys or Tab",
          "expectedResult": "Screen reader reads complete notification content: 'Schedule change notification, [date], [time], your appointment has been changed from [old details] to [new details], unread, button acknowledge'"
        },
        {
          "step": 6,
          "action": "Activate the acknowledge button using Enter key",
          "expectedResult": "Screen reader announces: 'Notification acknowledged' or 'Marked as read', state change is clearly communicated"
        },
        {
          "step": 7,
          "action": "Navigate to view past notifications link and activate it",
          "expectedResult": "Screen reader announces page change or section change: 'Notification history, list with X items', all past notifications are accessible with proper semantic structure"
        }
      ],
      "postconditions": [
        "All notification events trigger appropriate screen reader announcements",
        "ARIA live regions are properly implemented for real-time notification alerts",
        "All interactive elements have descriptive labels and roles announced by screen reader",
        "Notification content is fully accessible and understandable through audio alone"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Verify ARIA labels, roles, and landmarks for notification components",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged into the system",
        "User has received multiple schedule change notifications",
        "Browser developer tools or accessibility inspector is available",
        "Page includes notification bell icon, notification panel, and notification list"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Inspect the notification bell icon element using accessibility inspector",
          "expectedResult": "Element has role='button', aria-label='Notifications' or 'View notifications', aria-haspopup='true', aria-expanded='false' when closed, aria-describedby pointing to badge count if present"
        },
        {
          "step": 2,
          "action": "Open notification panel and inspect the panel container element",
          "expectedResult": "Panel has role='region' or 'dialog', aria-label='Notification panel' or 'Notifications', aria-expanded='true' on trigger button, proper ARIA landmark structure"
        },
        {
          "step": 3,
          "action": "Inspect the notification list container",
          "expectedResult": "List has role='list' or uses semantic <ul> element, aria-label='Schedule change notifications' or descriptive label, aria-live='polite' or 'assertive' for dynamic updates"
        },
        {
          "step": 4,
          "action": "Inspect individual notification items in the list",
          "expectedResult": "Each item has role='listitem' or uses semantic <li>, contains proper heading structure (<h3> or <h4>) for notification title, aria-label includes full context: 'Schedule change notification, [date], [status]'"
        },
        {
          "step": 5,
          "action": "Inspect the acknowledge/mark as read button within notification",
          "expectedResult": "Button has role='button', aria-label='Acknowledge notification' or 'Mark as read', aria-pressed state if toggle button, clear association with parent notification via aria-describedby or aria-labelledby"
        },
        {
          "step": 6,
          "action": "Trigger a new notification and inspect the live region announcement element",
          "expectedResult": "Live region has aria-live='assertive' or 'polite', aria-atomic='true' for complete message announcement, contains descriptive notification text that screen readers will announce"
        },
        {
          "step": 7,
          "action": "Inspect notification badge showing unread count",
          "expectedResult": "Badge has aria-label='X unread notifications' where X is the count, or is properly associated with notification button via aria-describedby, not just visual decoration"
        }
      ],
      "postconditions": [
        "All notification components have proper ARIA roles, labels, and properties",
        "Semantic HTML structure is used where appropriate (lists, headings, buttons)",
        "Dynamic content updates use ARIA live regions for screen reader announcements",
        "All interactive elements are properly labeled and their purpose is clear to assistive technologies"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Verify color contrast and visual indicators for notification states meet WCAG 2.1 AA standards",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged into the system",
        "User has notifications in multiple states: unread, read, acknowledged",
        "Color contrast analyzer tool is available (e.g., browser extension or WAVE tool)",
        "Page displays notification bell icon with badge and notification panel"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Use color contrast analyzer to check notification bell icon against its background",
          "expectedResult": "Icon color has minimum contrast ratio of 3:1 against background (for graphical objects per WCAG 2.1), icon is clearly visible and distinguishable"
        },
        {
          "step": 2,
          "action": "Check contrast ratio of unread notification badge (typically red or colored circle with number)",
          "expectedResult": "Badge background and text have minimum 4.5:1 contrast ratio for normal text or 3:1 for large text (18pt+), badge is visible without relying solely on color"
        },
        {
          "step": 3,
          "action": "Open notification panel and check contrast of unread notification items",
          "expectedResult": "Unread notification background, text, and borders have minimum 4.5:1 contrast ratio, unread state is indicated by both color AND another visual indicator (bold text, icon, border)"
        },
        {
          "step": 4,
          "action": "Check contrast of read/acknowledged notification items",
          "expectedResult": "Read notifications maintain minimum 4.5:1 contrast ratio for text, state change is indicated by multiple visual cues not just color (e.g., lighter background PLUS checkmark icon PLUS different font weight)"
        },
        {
          "step": 5,
          "action": "Check focus indicators on all interactive notification elements",
          "expectedResult": "Focus indicators have minimum 3:1 contrast ratio against background, focus outline is at least 2px thick or uses sufficient visual distinction"
        },
        {
          "step": 6,
          "action": "Enable browser's high contrast mode or Windows High Contrast mode",
          "expectedResult": "All notification elements remain visible and functional, state indicators work without color, borders and text are clearly visible"
        },
        {
          "step": 7,
          "action": "Test notification panel with color blindness simulation (protanopia, deuteranopia, tritanopia)",
          "expectedResult": "Notification states and important information are distinguishable in all color blindness simulations, no information is conveyed by color alone"
        }
      ],
      "postconditions": [
        "All text and interactive elements meet WCAG 2.1 AA contrast requirements (4.5:1 for normal text, 3:1 for large text and UI components)",
        "Notification states are indicated by multiple visual cues, not color alone",
        "Focus indicators are clearly visible with sufficient contrast",
        "Interface remains functional and understandable in high contrast mode and for color blind users"
      ]
    },
    {
      "id": "TC-ACCE-005",
      "title": "Verify notification interface functionality at 200% browser zoom and text scaling",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged into the system in a desktop browser (Chrome, Firefox, or Edge)",
        "User has multiple schedule change notifications (at least 5)",
        "Browser zoom is initially set to 100%",
        "Notification panel contains various notification lengths (short and long descriptions)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Set browser zoom to 200% using Ctrl/Cmd + Plus key or browser settings",
          "expectedResult": "Page zooms to 200%, all content scales proportionally, no horizontal scrolling required for main content"
        },
        {
          "step": 2,
          "action": "Navigate to notification bell icon and verify visibility",
          "expectedResult": "Notification bell icon is fully visible, not cut off or overlapping other elements, badge with unread count is readable and properly positioned"
        },
        {
          "step": 3,
          "action": "Click or activate notification bell to open notification panel",
          "expectedResult": "Notification panel opens and is fully visible within viewport, panel does not extend beyond screen boundaries, scrolling within panel works if needed for long lists"
        },
        {
          "step": 4,
          "action": "Read notification content at 200% zoom",
          "expectedResult": "All notification text is readable without horizontal scrolling, text wraps appropriately, no text is truncated or hidden, line spacing remains comfortable for reading"
        },
        {
          "step": 5,
          "action": "Interact with acknowledge buttons and links within notifications",
          "expectedResult": "All interactive elements are large enough to click easily (minimum 44x44 CSS pixels per WCAG 2.1), buttons are not overlapping, all functionality works correctly at 200% zoom"
        },
        {
          "step": 6,
          "action": "Additionally, set browser text-only zoom to 200% (Firefox) or increase text size in browser settings",
          "expectedResult": "Text scales to 200% while layout adapts, no text overflow or cut-off occurs, containers expand to accommodate larger text, all content remains accessible"
        },
        {
          "step": 7,
          "action": "Test responsive behavior by resizing browser window at 200% zoom",
          "expectedResult": "Notification interface adapts responsively, mobile/tablet breakpoints trigger appropriately, no loss of functionality or content at any viewport size"
        }
      ],
      "postconditions": [
        "All notification interface elements are fully functional at 200% zoom level",
        "No content is cut off, hidden, or requires horizontal scrolling at 200% zoom",
        "Text remains readable and properly formatted when scaled",
        "Interactive elements meet minimum touch target size requirements (44x44px) when zoomed"
      ]
    },
    {
      "id": "TC-ACCE-006",
      "title": "Verify mobile accessibility including touch targets and gesture support for notifications",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged into the system on a mobile device (iOS or Android) or mobile browser emulator",
        "User has received multiple schedule change notifications",
        "Mobile device has screen reader enabled (VoiceOver for iOS or TalkBack for Android)",
        "Touch screen is functional"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Measure or inspect the notification bell icon touch target size",
          "expectedResult": "Touch target is minimum 44x44 CSS pixels (iOS) or 48x48dp (Android) per platform guidelines, adequate spacing exists between notification icon and adjacent interactive elements (minimum 8px)"
        },
        {
          "step": 2,
          "action": "Tap the notification bell icon to open notification panel",
          "expectedResult": "Panel opens reliably with single tap, no accidental activation of adjacent elements, panel is appropriately sized for mobile viewport"
        },
        {
          "step": 3,
          "action": "Scroll through notification list using touch gestures",
          "expectedResult": "Scrolling is smooth and responsive, momentum scrolling works naturally, no conflicts with page-level scrolling, scroll indicators are visible"
        },
        {
          "step": 4,
          "action": "Tap on individual notification items to expand or view details",
          "expectedResult": "Each notification item has adequate touch target size (minimum 44x44px), taps register accurately, visual feedback (highlight/ripple) confirms touch interaction"
        },
        {
          "step": 5,
          "action": "Tap acknowledge or mark as read buttons within notifications",
          "expectedResult": "Buttons have minimum 44x44px touch targets, adequate spacing between buttons prevents mis-taps, button activation provides clear visual and haptic feedback"
        },
        {
          "step": 6,
          "action": "Enable mobile screen reader (VoiceOver/TalkBack) and navigate notifications using swipe gestures",
          "expectedResult": "Swipe right/left navigates through notification elements sequentially, double-tap activates focused element, screen reader announces all content clearly, rotor/reading controls work properly"
        },
        {
          "step": 7,
          "action": "Test notification panel dismissal using swipe-to-close gesture or close button",
          "expectedResult": "Panel can be dismissed using standard mobile patterns (swipe down, tap outside, or close button), close button has adequate touch target, dismissal is smooth and predictable"
        },
        {
          "step": 8,
          "action": "Rotate device from portrait to landscape orientation",
          "expectedResult": "Notification interface adapts to orientation change, all content remains accessible, touch targets maintain minimum size requirements, no functionality is lost"
        }
      ],
      "postconditions": [
        "All interactive notification elements meet minimum mobile touch target sizes (44x44px minimum)",
        "Touch gestures work reliably without conflicts or accidental activations",
        "Mobile screen readers can fully navigate and interact with notification interface",
        "Interface adapts properly to different mobile orientations and screen sizes"
      ]
    },
    {
      "id": "TC-ACCE-007",
      "title": "Verify focus management and focus trap prevention in notification modal/panel",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged into the system using keyboard navigation only",
        "User has multiple unread schedule change notifications",
        "Notification panel opens as modal dialog or overlay panel",
        "Browser is configured to show focus indicators clearly"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to notification bell icon using Tab key and press Enter to open notification panel",
          "expectedResult": "Notification panel opens, focus automatically moves to first focusable element inside panel (close button, first notification, or panel heading), focus does not remain on trigger button"
        },
        {
          "step": 2,
          "action": "Press Tab key repeatedly to navigate through all focusable elements within notification panel",
          "expectedResult": "Focus moves sequentially through: close button, each notification item, acknowledge buttons, view all notifications link, focus stays within panel (focus trap is active), focus order is logical and predictable"
        },
        {
          "step": 3,
          "action": "Continue pressing Tab after reaching the last focusable element in panel",
          "expectedResult": "Focus cycles back to first focusable element in panel (close button or first notification), focus does not escape to background page content, focus trap is properly implemented"
        },
        {
          "step": 4,
          "action": "Press Shift+Tab to navigate backwards through panel elements",
          "expectedResult": "Reverse tab order works correctly within panel, focus cycles from first element back to last element when continuing backwards, focus remains trapped in panel"
        },
        {
          "step": 5,
          "action": "Press Escape key while focus is anywhere within notification panel",
          "expectedResult": "Notification panel closes immediately, focus returns to notification bell icon (the trigger element), focus is not lost to document body or top of page"
        },
        {
          "step": 6,
          "action": "Reopen notification panel, navigate to acknowledge button on a notification, and press Enter",
          "expectedResult": "Notification is acknowledged, if notification is removed from list, focus moves to next notification or previous notification (not lost), if panel becomes empty, focus moves to close button or appropriate element"
        },
        {
          "step": 7,
          "action": "Open notification panel, then click outside the panel on background content (if allowed)",
          "expectedResult": "Panel closes (if click-outside-to-close is enabled), focus returns to notification bell icon, OR panel remains open with focus trapped if click-outside is disabled for accessibility"
        }
      ],
      "postconditions": [
        "Focus is properly managed when opening and closing notification panel",
        "Focus trap is implemented correctly, preventing focus from escaping to background content",
        "Focus returns to appropriate element (trigger button) when panel is closed",
        "Focus is never lost or moved to unexpected locations during notification interactions"
      ]
    }
  ],
  "performance": [
    {
      "id": "PERF-LOAD-001",
      "title": "Validate notification delivery performance under peak concurrent schedule changes",
      "category": "performance",
      "subCategory": "Load Testing",
      "priority": "Critical",
      "description": "Test the notification system's ability to detect schedule changes and deliver notifications within 1 minute SLA when processing 10,000 concurrent schedule updates representing peak business hours load. Validate response times, throughput, and resource utilization under sustained load.",
      "preconditions": [
        "Notification service is deployed and operational",
        "Schedule database contains 100,000 active user schedules",
        "Email and in-app notification channels are configured",
        "Performance monitoring tools are configured (APM, metrics collection)",
        "Test user accounts with valid notification preferences are created"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Configure load test to simulate 10,000 concurrent schedule changes over 15-minute duration using JMeter/K6",
          "expectedResult": "Load test configuration is validated and ready to execute"
        },
        {
          "step": 2,
          "action": "Execute load test triggering schedule updates via API endpoint with realistic change patterns (time changes, cancellations, additions)",
          "expectedResult": "All 10,000 schedule change requests are successfully submitted to the system"
        },
        {
          "step": 3,
          "action": "Monitor notification generation and dispatch through /api/notifications/send endpoint",
          "expectedResult": "System processes all schedule changes and triggers notification generation"
        },
        {
          "step": 4,
          "action": "Measure end-to-end notification delivery time from schedule change detection to user receipt",
          "expectedResult": "P95 notification delivery time â‰¤ 60 seconds, P99 â‰¤ 90 seconds, P50 â‰¤ 30 seconds"
        },
        {
          "step": 5,
          "action": "Analyze throughput metrics for notification processing",
          "expectedResult": "System maintains minimum 167 TPS (10,000 notifications/60 seconds) with <1% error rate"
        },
        {
          "step": 6,
          "action": "Monitor CPU and memory utilization on notification service instances",
          "expectedResult": "CPU utilization <70%, Memory utilization <80%, no memory leaks detected"
        }
      ],
      "postconditions": [
        "All test notifications are delivered successfully",
        "System returns to idle state within 5 minutes",
        "No database connection pool exhaustion",
        "Performance metrics are captured and stored for analysis"
      ],
      "testData": "10,000 schedule change events with varied types: 40% time modifications, 30% cancellations, 20% new appointments, 10% location changes. User IDs: TEST-USER-0001 to TEST-USER-10000",
      "toolsRequired": [
        "Apache JMeter or K6 for load generation",
        "Application Performance Monitoring (New Relic/Datadog/AppDynamics)",
        "Database monitoring tools",
        "Email delivery monitoring service",
        "Grafana/Prometheus for metrics visualization"
      ],
      "estimatedTime": "90 minutes",
      "automationFeasibility": "High",
      "riskScore": null,
      "complianceTag": "SLA-Performance"
    },
    {
      "id": "PERF-STRESS-001",
      "title": "Determine notification system breaking point and validate graceful degradation",
      "category": "performance",
      "subCategory": "Stress Testing",
      "priority": "High",
      "description": "Progressively increase load beyond normal capacity to identify the breaking point of the notification system. Start at 10,000 concurrent changes and increase by 5,000 every 5 minutes until system failure or degradation occurs. Validate that the system degrades gracefully with proper error handling and queue management, and recovers successfully when load returns to normal.",
      "preconditions": [
        "Notification system is in healthy state with all services running",
        "Message queue system (Kafka/RabbitMQ) is configured with monitoring",
        "Circuit breakers and rate limiters are configured",
        "Auto-scaling policies are disabled for baseline stress test",
        "Alerting thresholds are configured for critical metrics"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Start stress test at baseline load of 10,000 concurrent schedule changes per minute",
          "expectedResult": "System handles baseline load successfully with <1% error rate"
        },
        {
          "step": 2,
          "action": "Increase load by 5,000 concurrent changes every 5 minutes (15K, 20K, 25K, 30K...)",
          "expectedResult": "Load incrementally increases and system continues processing notifications"
        },
        {
          "step": 3,
          "action": "Monitor response times, error rates, and queue depths at each load increment",
          "expectedResult": "Identify load level where P95 response time exceeds 120 seconds or error rate exceeds 5%"
        },
        {
          "step": 4,
          "action": "Continue increasing load until system breaking point is reached (error rate >25% or service unavailability)",
          "expectedResult": "Breaking point is identified and documented with specific metrics (expected: 35K-50K concurrent changes)"
        },
        {
          "step": 5,
          "action": "Validate graceful degradation: verify circuit breakers activate, error messages are meaningful, no data loss occurs",
          "expectedResult": "System returns HTTP 503 with retry-after headers, notifications queue for later delivery, no crashes occur"
        },
        {
          "step": 6,
          "action": "Reduce load back to baseline (10,000 concurrent changes) and monitor recovery",
          "expectedResult": "System recovers within 10 minutes, queued notifications are processed, performance returns to normal SLA"
        }
      ],
      "postconditions": [
        "System is fully recovered and operational",
        "All queued notifications are eventually delivered",
        "Breaking point threshold is documented",
        "No permanent data corruption or loss",
        "System logs contain detailed error information for analysis"
      ],
      "testData": "Progressive load from 10K to 50K+ schedule changes with realistic distribution. Synthetic user pool: TEST-STRESS-0001 to TEST-STRESS-50000",
      "toolsRequired": [
        "K6 or Gatling for progressive load generation",
        "Message queue monitoring (Kafka Manager/RabbitMQ Management)",
        "APM tools for service health monitoring",
        "Log aggregation platform (ELK/Splunk)",
        "Infrastructure monitoring (CloudWatch/Prometheus)"
      ],
      "estimatedTime": "120 minutes",
      "automationFeasibility": "High",
      "riskScore": null,
      "complianceTag": "Reliability-Stress"
    },
    {
      "id": "PERF-SOAK-001",
      "title": "Validate notification system stability and resource management over 24-hour sustained load",
      "category": "performance",
      "subCategory": "Endurance/Soak Testing",
      "priority": "High",
      "description": "Execute a 24-hour endurance test with sustained load of 5,000 concurrent schedule changes per hour (representing typical daily operations) to identify memory leaks, resource exhaustion, database connection issues, and performance degradation over time. Validate that the system maintains consistent performance throughout the entire duration.",
      "preconditions": [
        "Notification system is deployed in production-like environment",
        "Sufficient test data exists for 24-hour continuous operation",
        "Database has adequate storage and connection pool configuration",
        "Memory profiling tools are attached to application instances",
        "Baseline performance metrics are captured before test start"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Configure soak test to generate steady load of 5,000 schedule changes per hour (83 changes/minute) for 24 hours",
          "expectedResult": "Soak test configuration is validated with total expected load of 120,000 notifications over 24 hours"
        },
        {
          "step": 2,
          "action": "Start endurance test and establish baseline metrics in first hour (response times, memory, CPU, database connections)",
          "expectedResult": "Baseline established: P95 response time ~45 seconds, Memory ~2GB, CPU ~40%, DB connections ~50"
        },
        {
          "step": 3,
          "action": "Monitor memory utilization every hour for memory leak detection using heap dumps and GC analysis",
          "expectedResult": "Memory utilization remains stable (Â±10% variance), no continuous upward trend, GC cycles remain consistent"
        },
        {
          "step": 4,
          "action": "Track response time degradation by comparing P50/P95/P99 metrics at hours 1, 6, 12, 18, and 24",
          "expectedResult": "Response times remain within 15% of baseline throughout 24 hours (P95 â‰¤52 seconds at hour 24)"
        },
        {
          "step": 5,
          "action": "Monitor database connection pool, file handles, thread pools, and other resource utilization",
          "expectedResult": "No resource exhaustion: DB connections stable, no file handle leaks, thread pool healthy, disk I/O consistent"
        },
        {
          "step": 6,
          "action": "Analyze error rates and notification delivery success rate across the entire 24-hour period",
          "expectedResult": "Error rate remains <1% throughout test, 99%+ of notifications delivered within SLA, no cascading failures"
        },
        {
          "step": 7,
          "action": "Review application logs for exceptions, warnings, and performance anomalies",
          "expectedResult": "No critical errors, no increasing warning trends, no timeout exceptions or deadlocks detected"
        }
      ],
      "postconditions": [
        "System continues operating normally after test completion",
        "All 120,000 test notifications are accounted for (delivered or logged)",
        "Memory is released properly after test conclusion",
        "Database connections are returned to pool",
        "Comprehensive performance report is generated with trend analysis"
      ],
      "testData": "120,000 schedule change events distributed evenly over 24 hours with realistic patterns (higher activity during business hours 8AM-6PM). User pool: TEST-SOAK-0001 to TEST-SOAK-5000",
      "toolsRequired": [
        "K6 or JMeter for sustained load generation",
        "Memory profiler (JProfiler/YourKit/VisualVM)",
        "APM with memory leak detection capabilities",
        "Database performance monitoring",
        "Time-series database for metrics storage (InfluxDB/Prometheus)",
        "Grafana for 24-hour trend visualization"
      ],
      "estimatedTime": "26 hours (24-hour test + 2 hours setup/analysis)",
      "automationFeasibility": "High",
      "riskScore": null,
      "complianceTag": "Reliability-Endurance"
    },
    {
      "id": "PERF-SPIKE-001",
      "title": "Validate notification system response to sudden traffic spike and auto-scaling effectiveness",
      "category": "performance",
      "subCategory": "Spike Testing",
      "priority": "Critical",
      "description": "Test the system's ability to handle sudden traffic spikes simulating scenarios like mass schedule cancellations (e.g., weather event, facility closure). Rapidly increase load from 1,000 to 25,000 concurrent schedule changes within 2 minutes, maintain for 10 minutes, then drop back to baseline. Validate auto-scaling triggers, queue management, and that 95% of notifications are still delivered within SLA.",
      "preconditions": [
        "Auto-scaling policies are enabled and configured (scale-out threshold: CPU >60% or queue depth >1000)",
        "Notification service has minimum 3 instances running",
        "Message queue has sufficient capacity for burst traffic",
        "Load balancer is configured for dynamic instance registration",
        "Cloud infrastructure has capacity for scaling to 15+ instances"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Establish baseline load of 1,000 schedule changes per minute for 5 minutes",
          "expectedResult": "System operates normally with 3 instances, P95 response time ~30 seconds, queue depth <100"
        },
        {
          "step": 2,
          "action": "Trigger sudden spike: increase load from 1,000 to 25,000 concurrent schedule changes within 2 minutes",
          "expectedResult": "Load spike is generated successfully, simulating mass cancellation event"
        },
        {
          "step": 3,
          "action": "Monitor auto-scaling trigger and instance provisioning during spike",
          "expectedResult": "Auto-scaling triggers within 60 seconds, new instances provision and register within 3-5 minutes, scaling to 10-12 instances"
        },
        {
          "step": 4,
          "action": "Measure notification queue depth and processing rate during spike",
          "expectedResult": "Queue depth increases to 5,000-8,000 messages, then decreases as new instances come online, no queue overflow"
        },
        {
          "step": 5,
          "action": "Track notification delivery times during and after spike",
          "expectedResult": "During spike: P95 â‰¤180 seconds (acceptable degradation), After scaling: P95 returns to â‰¤90 seconds within 5 minutes, 95%+ notifications delivered within 3 minutes"
        },
        {
          "step": 6,
          "action": "Rapidly decrease load back to baseline (1,000 changes/minute) within 2 minutes",
          "expectedResult": "System handles rapid load decrease, queue drains completely within 10 minutes"
        },
        {
          "step": 7,
          "action": "Monitor auto-scaling scale-in behavior after load returns to baseline",
          "expectedResult": "Scale-in triggers after 10-15 minutes of low utilization, instances terminate gracefully, system returns to 3-4 instances"
        }
      ],
      "postconditions": [
        "System returns to baseline performance and instance count",
        "All notifications from spike period are delivered",
        "No notifications are lost or duplicated",
        "Auto-scaling metrics and logs are captured for analysis",
        "No orphaned instances remain after scale-in"
      ],
      "testData": "Spike scenario: 25,000 schedule cancellations simulating facility closure event. User pool: TEST-SPIKE-0001 to TEST-SPIKE-25000 with varied notification preferences",
      "toolsRequired": [
        "K6 or Gatling for rapid load ramping",
        "Cloud provider monitoring (AWS CloudWatch/Azure Monitor/GCP Monitoring)",
        "Auto-scaling group metrics and logs",
        "Message queue monitoring dashboard",
        "APM for distributed tracing during spike",
        "Real-time alerting system"
      ],
      "estimatedTime": "60 minutes",
      "automationFeasibility": "High",
      "riskScore": null,
      "complianceTag": "Scalability-Spike"
    }
  ],
  "security": [
    {
      "id": "SEC-SPOOF-001",
      "title": "Verify notification system prevents unauthorized access to other users' schedule change notifications",
      "category": "security",
      "subCategory": "STRIDE-Spoofing",
      "priority": "Critical",
      "description": "Test that an attacker cannot spoof another user's identity to access their schedule change notifications through API manipulation or session token forgery. This validates authentication controls on the /api/notifications/send endpoint and notification retrieval mechanisms.",
      "preconditions": [
        "Two user accounts exist: UserA and UserB",
        "UserB has schedule change notifications available",
        "UserA is authenticated in the system",
        "API endpoint /api/notifications/send is accessible"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Authenticate as UserA and capture the authentication token/session ID",
          "expectedResult": "UserA successfully authenticated with valid session token"
        },
        {
          "step": 2,
          "action": "Attempt to access UserB's notifications by modifying the user ID parameter in the API request while using UserA's authentication token",
          "expectedResult": "System returns 403 Forbidden error and denies access to UserB's notifications"
        },
        {
          "step": 3,
          "action": "Attempt to forge a notification request by manipulating the sender identity in the /api/notifications/send endpoint payload",
          "expectedResult": "System validates sender identity against authenticated session and rejects forged requests with appropriate error message"
        },
        {
          "step": 4,
          "action": "Try to replay a captured notification token or session ID from UserB to access their notifications",
          "expectedResult": "System detects token/session mismatch and denies access with authentication failure"
        }
      ],
      "postconditions": [
        "All unauthorized access attempts are logged in security audit trail",
        "No notifications from UserB are exposed to UserA",
        "UserA's session remains valid and unaffected"
      ],
      "testData": "UserA ID: user_001, UserB ID: user_002, Sample notification IDs: notif_12345, notif_67890",
      "toolsRequired": [
        "Burp Suite",
        "Postman",
        "OWASP ZAP"
      ],
      "estimatedTime": "45 minutes",
      "automationFeasibility": "High",
      "riskScore": 8.6,
      "complianceTag": "OWASP-A01, STRIDE-Spoofing"
    },
    {
      "id": "SEC-INJ-001",
      "title": "Validate notification system is protected against XSS injection in schedule change messages",
      "category": "security",
      "subCategory": "Injection-XSS",
      "priority": "Critical",
      "description": "Test that malicious JavaScript code injected into schedule change data (meeting titles, descriptions, locations) cannot be executed when notifications are rendered in email or in-app alerts. This prevents stored XSS attacks that could compromise user sessions or steal sensitive data.",
      "preconditions": [
        "User account with schedule modification privileges exists",
        "Notification system is active and configured for email and in-app delivery",
        "Test environment allows schedule creation/modification"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Create a schedule entry with XSS payload in the title field: '<script>alert(document.cookie)</script>Meeting'",
          "expectedResult": "Schedule entry is created and stored in database"
        },
        {
          "step": 2,
          "action": "Modify the schedule to trigger a notification with XSS payload in description: '<img src=x onerror=alert(\"XSS\")>Updated location'",
          "expectedResult": "Schedule change is detected and notification generation is triggered"
        },
        {
          "step": 3,
          "action": "Check the in-app notification display for the schedule change",
          "expectedResult": "Malicious script is properly encoded/sanitized and displayed as plain text. No JavaScript execution occurs. Output shows: '&lt;script&gt;alert(document.cookie)&lt;/script&gt;Meeting'"
        },
        {
          "step": 4,
          "action": "Inspect the email notification HTML source and rendered content",
          "expectedResult": "Email content properly escapes HTML entities. No active script tags present. Content Security Policy headers prevent inline script execution"
        },
        {
          "step": 5,
          "action": "Test with various XSS vectors including event handlers, SVG payloads, and encoded scripts",
          "expectedResult": "All XSS attempts are neutralized through proper input validation and output encoding"
        }
      ],
      "postconditions": [
        "No JavaScript code executes in browser or email client",
        "All malicious payloads are logged for security monitoring",
        "User data and session remain secure"
      ],
      "testData": "XSS payloads: '<script>alert(1)</script>', '<img src=x onerror=alert(1)>', '<svg onload=alert(1)>', 'javascript:alert(1)', '<iframe src=javascript:alert(1)>'",
      "toolsRequired": [
        "Burp Suite",
        "XSS Hunter",
        "Browser Developer Tools"
      ],
      "estimatedTime": "60 minutes",
      "automationFeasibility": "High",
      "riskScore": 8.2,
      "complianceTag": "OWASP-A03, CWE-79"
    },
    {
      "id": "SEC-INFO-001",
      "title": "Verify notification system prevents information disclosure of sensitive schedule data to unauthorized users",
      "category": "security",
      "subCategory": "STRIDE-Information Disclosure",
      "priority": "Critical",
      "description": "Test that schedule change notifications do not leak sensitive information through insecure channels, verbose error messages, or inadequate access controls. Validates encryption in transit, proper data filtering, and that notification history viewing requires proper authentication and authorization.",
      "preconditions": [
        "Multiple users with different access levels exist in the system",
        "Schedule data contains sensitive information (personal meetings, confidential appointments)",
        "Notification history feature is enabled",
        "Network traffic monitoring tools are configured"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Intercept notification transmission using network proxy to verify encryption in transit",
          "expectedResult": "All notification data transmitted over HTTPS/TLS 1.2+ with strong cipher suites. No sensitive data visible in plaintext"
        },
        {
          "step": 2,
          "action": "Attempt to access notification history endpoint without authentication credentials",
          "expectedResult": "System returns 401 Unauthorized error without revealing any notification data or system information"
        },
        {
          "step": 3,
          "action": "Test for Insecure Direct Object Reference (IDOR) by manipulating notification IDs in URL parameters to access other users' notifications",
          "expectedResult": "System validates ownership and returns 403 Forbidden for unauthorized notification access attempts"
        },
        {
          "step": 4,
          "action": "Trigger error conditions (invalid notification ID, malformed requests) and analyze error messages",
          "expectedResult": "Error messages are generic and do not expose database structure, user IDs, internal paths, or sensitive system information"
        },
        {
          "step": 5,
          "action": "Check if notification emails contain full schedule details or only necessary information for users with limited access",
          "expectedResult": "Notifications follow principle of least privilege, exposing only information the recipient is authorized to view"
        }
      ],
      "postconditions": [
        "No sensitive data exposed through any channel",
        "All unauthorized access attempts are logged",
        "Encryption standards maintained throughout notification lifecycle"
      ],
      "testData": "Valid notification IDs: notif_001, notif_002; Invalid IDs: notif_999, ../../../etc/passwd, ' OR '1'='1",
      "toolsRequired": [
        "Wireshark",
        "Burp Suite",
        "OWASP ZAP",
        "SSL Labs"
      ],
      "estimatedTime": "50 minutes",
      "automationFeasibility": "Medium",
      "riskScore": 7.8,
      "complianceTag": "OWASP-A01, OWASP-A02, STRIDE-Information Disclosure"
    },
    {
      "id": "SEC-DOS-001",
      "title": "Validate notification system resilience against denial of service through notification flooding",
      "category": "security",
      "subCategory": "STRIDE-Denial of Service",
      "priority": "High",
      "description": "Test that the notification system implements rate limiting and resource controls to prevent attackers from overwhelming the system by triggering excessive schedule changes or notification requests. Ensures system availability and performance under attack conditions.",
      "preconditions": [
        "Notification system is operational with defined performance SLA (notifications within 1 minute)",
        "Rate limiting mechanisms are configured",
        "System monitoring and alerting are active",
        "Test user account with schedule modification privileges exists"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Rapidly create and modify 1000+ schedule entries within 1 minute to trigger mass notification generation",
          "expectedResult": "System implements rate limiting after threshold (e.g., 50 changes per minute) and queues additional requests without crashing"
        },
        {
          "step": 2,
          "action": "Send concurrent API requests to /api/notifications/send endpoint from multiple threads (100+ simultaneous requests)",
          "expectedResult": "System handles concurrent load gracefully with appropriate HTTP 429 (Too Many Requests) responses after rate limit exceeded"
        },
        {
          "step": 3,
          "action": "Attempt to exhaust system resources by submitting notifications with extremely large payloads (multi-MB schedule descriptions)",
          "expectedResult": "System enforces payload size limits and rejects oversized requests with 413 Payload Too Large error"
        },
        {
          "step": 4,
          "action": "Monitor system performance metrics (CPU, memory, response time) during attack simulation",
          "expectedResult": "System maintains acceptable performance levels. Legitimate user notifications still processed within 1-2 minute SLA. No service degradation for other users"
        },
        {
          "step": 5,
          "action": "Verify notification queue management and backpressure handling mechanisms",
          "expectedResult": "System implements queue limits, prioritizes critical notifications, and gracefully degrades under extreme load without data loss"
        }
      ],
      "postconditions": [
        "System remains available and responsive",
        "Attack attempts are logged and alerts triggered",
        "Rate limiting rules are enforced",
        "No legitimate notifications are lost"
      ],
      "testData": "Bulk schedule changes: 1000 entries, Concurrent requests: 100 threads, Large payload: 10MB text data",
      "toolsRequired": [
        "JMeter",
        "Apache Bench",
        "Locust",
        "System monitoring tools"
      ],
      "estimatedTime": "90 minutes",
      "automationFeasibility": "High",
      "riskScore": 7.4,
      "complianceTag": "STRIDE-Denial of Service, OWASP-A04"
    }
  ],
  "usability": [
    {
      "id": "UX-H01-001",
      "title": "Verify real-time notification delivery status visibility for schedule changes",
      "category": "usability",
      "subCategory": "Nielsen-H01-Visibility of System Status",
      "priority": "Critical",
      "description": "Test whether users receive clear, immediate feedback when a schedule change occurs and a notification is triggered. Users should be able to see notification delivery status, read/unread state, and timestamp to understand system activity.",
      "preconditions": [
        "User is logged into the system",
        "User has at least one scheduled appointment",
        "Notification preferences are enabled for schedule changes",
        "System has permission to send email and in-app notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Trigger a schedule change by modifying an existing appointment time",
          "expectedResult": "System immediately displays a visual indicator (loading spinner, progress bar) showing notification is being processed"
        },
        {
          "step": 2,
          "action": "Observe the in-app notification area within 1 minute of the change",
          "expectedResult": "In-app notification appears with clear timestamp, unread badge/indicator, and brief summary of the schedule change"
        },
        {
          "step": 3,
          "action": "Check email inbox for notification",
          "expectedResult": "Email notification received within 1 minute with clear subject line indicating schedule change and timestamp"
        },
        {
          "step": 4,
          "action": "Click on the in-app notification to view details",
          "expectedResult": "Notification status changes from 'unread' to 'read' with visual confirmation (color change, badge removal)"
        },
        {
          "step": 5,
          "action": "Navigate to notification history/past notifications section",
          "expectedResult": "All notifications are listed chronologically with clear timestamps, read/unread status, and change details visible without requiring clicks"
        }
      ],
      "postconditions": [
        "User clearly understands a schedule change occurred",
        "User knows when the notification was sent",
        "User can distinguish between read and unread notifications",
        "Recommendation: Add delivery confirmation indicator showing 'Notification sent successfully' with checkmark icon",
        "Recommendation: Display notification queue status if multiple changes occur simultaneously"
      ],
      "testData": "Original appointment: Meeting with John, 2:00 PM; Modified appointment: Meeting with John, 3:30 PM",
      "toolsRequired": [
        "Email client access",
        "Browser developer tools for timestamp verification",
        "Screen recording tool for documentation"
      ],
      "estimatedTime": "20 minutes",
      "automationFeasibility": "Medium",
      "complianceTag": "Nielsen-H01"
    },
    {
      "id": "UX-H04-002",
      "title": "Validate consistency of notification format across email and in-app channels",
      "category": "usability",
      "subCategory": "Nielsen-H04-Consistency and Standards",
      "priority": "High",
      "description": "Test whether schedule change notifications maintain consistent terminology, formatting, structure, and information hierarchy across both email and in-app delivery channels. Inconsistencies can confuse users and reduce trust in the system.",
      "preconditions": [
        "User account is configured to receive both email and in-app notifications",
        "At least one scheduled appointment exists in the system",
        "User has access to both email client and application interface"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Create a schedule change by rescheduling an appointment to a different date and time",
          "expectedResult": "System triggers notification generation for both channels"
        },
        {
          "step": 2,
          "action": "Compare the notification title/subject line in email vs in-app notification",
          "expectedResult": "Both use identical or semantically equivalent terminology (e.g., 'Schedule Change Alert' in both channels, not 'Schedule Updated' in one and 'Appointment Modified' in another)"
        },
        {
          "step": 3,
          "action": "Review the information structure in both notifications (what changed, old time, new time, date, location if applicable)",
          "expectedResult": "Information is presented in the same order with consistent labels: 'Previous Time:', 'New Time:', 'Date:', etc. in both channels"
        },
        {
          "step": 4,
          "action": "Check date and time formatting in both notifications",
          "expectedResult": "Date and time use consistent format (e.g., both use '03/15/2024 2:30 PM' or both use '15 Mar 2024, 14:30', not mixed formats)"
        },
        {
          "step": 5,
          "action": "Verify action buttons/links terminology (e.g., 'View Schedule', 'Dismiss', 'Mark as Read')",
          "expectedResult": "Action buttons use identical wording and are positioned consistently across both channels"
        }
      ],
      "postconditions": [
        "User experiences consistent notification format regardless of channel",
        "Terminology and data presentation follow established platform conventions",
        "Recommendation: Create a notification design system document specifying exact templates for all channels",
        "Recommendation: Implement automated consistency checks in notification generation pipeline"
      ],
      "testData": "Test appointment: 'Quarterly Review Meeting', Original: Monday 10:00 AM, Modified: Tuesday 2:00 PM",
      "toolsRequired": [
        "Email client",
        "Mobile device for in-app testing",
        "Screenshot comparison tool"
      ],
      "estimatedTime": "25 minutes",
      "automationFeasibility": "High",
      "complianceTag": "Nielsen-H04"
    },
    {
      "id": "UX-H06-003",
      "title": "Assess recognition vs recall for notification details and schedule context",
      "category": "usability",
      "subCategory": "Nielsen-H06-Recognition Rather Than Recall",
      "priority": "High",
      "description": "Test whether users can understand schedule change notifications without needing to remember previous appointment details or navigate away to find context. All relevant information should be visible within the notification itself.",
      "preconditions": [
        "User has multiple scheduled appointments in the system",
        "User receives a schedule change notification",
        "User has not memorized all appointment details"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Trigger a schedule change for an appointment scheduled 2 weeks in the future",
          "expectedResult": "Notification is generated and delivered to user"
        },
        {
          "step": 2,
          "action": "Review the notification content without navigating to the full schedule",
          "expectedResult": "Notification displays complete context: appointment title, participant names, previous date/time, new date/time, location (if applicable), and reason for change (if provided)"
        },
        {
          "step": 3,
          "action": "Attempt to understand what changed based solely on notification content",
          "expectedResult": "User can clearly identify: (1) Which appointment changed, (2) What specifically changed (time/date/location), (3) Old vs new values presented side-by-side or with clear before/after labeling"
        },
        {
          "step": 4,
          "action": "Check if notification includes visual differentiation (highlighting, color coding) for changed elements",
          "expectedResult": "Changed fields are visually emphasized (e.g., new time shown in bold or different color) making differences immediately recognizable"
        },
        {
          "step": 5,
          "action": "Access past notifications list and review a 3-day-old notification",
          "expectedResult": "Historical notification still displays full context without requiring user to recall or look up original appointment details"
        }
      ],
      "postconditions": [
        "User can make informed decisions about schedule adjustments without additional research",
        "All critical information is visible within notification interface",
        "Recommendation: Use side-by-side comparison format showing 'Before' and 'After' columns for changed fields",
        "Recommendation: Include appointment description/notes snippet in notification for additional context",
        "Recommendation: Add visual icons (calendar, clock, location pin) to help users quickly scan information types"
      ],
      "testData": "Appointment: 'Client Presentation - Acme Corp', Original: March 20, 10:00 AM, Conference Room A; Modified: March 20, 2:00 PM, Conference Room B",
      "toolsRequired": [
        "Multiple test appointments",
        "Eye-tracking software (optional for advanced analysis)"
      ],
      "estimatedTime": "30 minutes",
      "automationFeasibility": "Low",
      "complianceTag": "Nielsen-H06"
    },
    {
      "id": "UX-H08-004",
      "title": "Evaluate minimalist design and information prioritization in notifications",
      "category": "usability",
      "subCategory": "Nielsen-H08-Aesthetic and Minimalist Design",
      "priority": "Medium",
      "description": "Test whether schedule change notifications present only essential information without clutter, using clear visual hierarchy to help users quickly identify critical details. Irrelevant or secondary information should not compete with primary change details.",
      "preconditions": [
        "User receives schedule change notification",
        "Notification system is configured with default settings",
        "User has normal visual acuity"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Receive a schedule change notification and perform a 5-second glance test",
          "expectedResult": "Within 5 seconds, user can identify: (1) That a schedule change occurred, (2) Which appointment changed, (3) The new time/date"
        },
        {
          "step": 2,
          "action": "Analyze the notification for unnecessary information (system IDs, technical details, redundant text, excessive branding)",
          "expectedResult": "Notification contains only user-relevant information: appointment name, old/new times, date, location, and action buttons. No system metadata, debug info, or marketing content visible"
        },
        {
          "step": 3,
          "action": "Evaluate visual hierarchy by identifying what draws attention first",
          "expectedResult": "Most important information (appointment name and new time) uses larger font size or bold weight. Secondary details (notification timestamp, sender) are visually de-emphasized with smaller font or muted colors"
        },
        {
          "step": 4,
          "action": "Count the number of action buttons/links in the notification",
          "expectedResult": "Maximum 2-3 primary actions (e.g., 'View Full Schedule', 'Acknowledge') with clear visual distinction between primary and secondary actions"
        },
        {
          "step": 5,
          "action": "Review notification on mobile device with limited screen space",
          "expectedResult": "Notification remains scannable and readable without horizontal scrolling. Information is appropriately truncated with expand option if needed, prioritizing changed details"
        }
      ],
      "postconditions": [
        "User can quickly process notification without cognitive overload",
        "Visual design supports rapid comprehension of schedule changes",
        "Recommendation: Remove any legal disclaimers or footer text from notification body; move to settings/help section",
        "Recommendation: Use progressive disclosure - show summary in notification, full details on click",
        "Recommendation: Limit notification to 3-4 lines of text with clear typography hierarchy"
      ],
      "testData": "Simple schedule change: 'Team Standup' moved from 9:00 AM to 9:30 AM on same day",
      "toolsRequired": [
        "Mobile device for responsive testing",
        "Timer for 5-second glance test",
        "Heatmap analysis tool (optional)"
      ],
      "estimatedTime": "20 minutes",
      "automationFeasibility": "Low",
      "complianceTag": "Nielsen-H08"
    }
  ],
  "reliability": [
    {
      "id": "REL-FAIL-001",
      "title": "Notification Service Resilience During Database Connection Failure",
      "category": "reliability",
      "subCategory": "Failure Injection Testing",
      "priority": "Critical",
      "description": "Validate that the notification system maintains resilience when the schedule database becomes unavailable, ensuring notifications are queued and delivered once connectivity is restored without data loss. Tests RTO/RPO compliance and message persistence.",
      "preconditions": [
        "Notification service is running in production-like environment",
        "Schedule database is operational with active connections",
        "Message queue (e.g., RabbitMQ/Kafka) is configured for notification buffering",
        "Monitoring tools are active to track MTTR metrics",
        "At least 10 schedule changes are prepared for injection"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Establish baseline: Create 5 schedule changes and verify notifications are delivered within 1 minute with 100% success rate",
          "expectedResult": "All 5 notifications delivered successfully within SLA (1 minute). Steady state confirmed."
        },
        {
          "step": 2,
          "action": "Inject failure: Terminate all database connections using chaos tool (e.g., Gremlin, Chaos Monkey) to simulate complete database unavailability",
          "expectedResult": "Database connection pool shows 0 active connections. Service logs indicate connection failure detection."
        },
        {
          "step": 3,
          "action": "Create 10 schedule changes while database is unavailable",
          "expectedResult": "Notification service queues messages to persistent message queue. No notifications lost. Circuit breaker opens to database. Error rate logged but service remains operational."
        },
        {
          "step": 4,
          "action": "Monitor system behavior for 5 minutes during outage. Check CPU, memory usage, and queue depth",
          "expectedResult": "Service does not crash. Memory usage remains stable (<80% threshold). Queue depth increases linearly. No cascading failures to other services."
        },
        {
          "step": 5,
          "action": "Restore database connectivity and monitor recovery process",
          "expectedResult": "Circuit breaker transitions to half-open state within 30 seconds. Service automatically reconnects to database. MTTR < 2 minutes from restoration."
        },
        {
          "step": 6,
          "action": "Verify all 10 queued notifications are processed and delivered in order",
          "expectedResult": "All 10 notifications delivered successfully within 3 minutes of database restoration. Zero data loss (RPO = 0). No duplicate notifications sent."
        },
        {
          "step": 7,
          "action": "Validate notification delivery logs and audit trail for completeness",
          "expectedResult": "All schedule changes have corresponding notification records. Delivery timestamps show proper sequencing. SLO maintained: 95% delivered within extended window."
        }
      ],
      "postconditions": [
        "All services restored to normal operation",
        "Message queue is cleared of pending notifications",
        "Database connection pool restored to normal capacity",
        "Incident metrics logged: MTTR, MTBF, availability percentage"
      ],
      "testData": "Schedule changes: 10 appointments with varying types (new, updated, cancelled) across 5 different users. User IDs: U001-U005. Appointment times: distributed across next 7 days.",
      "toolsRequired": [
        "Chaos Engineering tool (Gremlin, Chaos Monkey, or Litmus)",
        "Database connection killer script",
        "APM tool (New Relic, Datadog, or Prometheus)",
        "Message queue monitoring dashboard",
        "Log aggregation tool (ELK Stack or Splunk)"
      ],
      "estimatedTime": "45 minutes",
      "automationFeasibility": "High",
      "riskScore": 9,
      "complianceTag": "SLO-MTTR-002, RPO-ZERO"
    },
    {
      "id": "REL-CHAOS-001",
      "title": "Chaos Experiment: Email Service Provider Latency Injection with Fallback Validation",
      "category": "reliability",
      "subCategory": "Chaos Engineering - Dependency Resilience",
      "priority": "Critical",
      "description": "Hypothesis-driven chaos experiment to validate that when the external email service provider (e.g., SendGrid, AWS SES) experiences high latency (>5 seconds), the system gracefully degrades by prioritizing in-app notifications while retrying email delivery with exponential backoff, maintaining overall notification SLA.",
      "preconditions": [
        "Email service provider integration is active and healthy",
        "In-app notification service is operational",
        "Retry policy configured with exponential backoff (initial: 2s, max: 60s, max attempts: 5)",
        "Circuit breaker configured for email service (threshold: 50% error rate over 10 requests)",
        "Baseline steady state: 99% notification success rate, <1 minute delivery time"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Define hypothesis: 'When email service latency exceeds 5 seconds, in-app notifications will still be delivered within 1 minute to 95% of users, and email notifications will be delivered within 5 minutes via retry mechanism'",
          "expectedResult": "Hypothesis documented with measurable success criteria and blast radius limited to notification subsystem only."
        },
        {
          "step": 2,
          "action": "Establish steady state metrics: Monitor notification delivery rate, latency (p50, p95, p99), and error rates for 5 minutes",
          "expectedResult": "Baseline captured: 99.5% success rate, p95 latency <30 seconds, 0.1% error rate."
        },
        {
          "step": 3,
          "action": "Inject latency: Use chaos tool to add 8-second delay to all email service API calls for 50% of requests",
          "expectedResult": "Email service response time increases to 8+ seconds for affected requests. Latency injection confirmed in network traces."
        },
        {
          "step": 4,
          "action": "Trigger 20 schedule changes across different users during chaos experiment",
          "expectedResult": "In-app notifications delivered immediately (within 5 seconds) for all 20 changes. Email notifications queued for retry due to timeout."
        },
        {
          "step": 5,
          "action": "Monitor circuit breaker behavior and retry attempts over 10 minutes",
          "expectedResult": "Circuit breaker remains closed (error rate <50% threshold). Retry logic executes with exponential backoff: 2s, 4s, 8s, 16s, 32s intervals. Email service eventually responds successfully on retry attempts."
        },
        {
          "step": 6,
          "action": "Verify notification delivery completeness: Check both in-app and email delivery status",
          "expectedResult": "100% in-app notifications delivered within 1 minute. 95% email notifications delivered within 5 minutes via retry mechanism. 5% may require manual intervention or final retry."
        },
        {
          "step": 7,
          "action": "Stop chaos injection and validate system recovery to steady state",
          "expectedResult": "Email service latency returns to normal (<500ms). All pending retries complete successfully. System returns to baseline metrics within 2 minutes."
        },
        {
          "step": 8,
          "action": "Analyze blast radius: Verify no impact to other system components (authentication, scheduling, user management)",
          "expectedResult": "Blast radius contained to notification subsystem only. No cascading failures. Other services maintain 99.9% availability."
        }
      ],
      "postconditions": [
        "Chaos injection stopped and network conditions normalized",
        "All notifications successfully delivered via primary or fallback channels",
        "Circuit breaker reset to closed state",
        "Experiment results documented with hypothesis validation outcome",
        "Availability SLO maintained: >99.5% for notification subsystem"
      ],
      "testData": "20 schedule changes: 8 new appointments, 7 updates, 5 cancellations. User distribution: 15 unique users with varying notification preferences. Time range: immediate to 48 hours in future.",
      "toolsRequired": [
        "Chaos Engineering platform (Gremlin, Chaos Toolkit)",
        "Network latency injection tool (Toxiproxy, Pumba)",
        "Email service monitoring dashboard",
        "Distributed tracing tool (Jaeger, Zipkin)",
        "Metrics visualization (Grafana)",
        "Circuit breaker monitoring console"
      ],
      "estimatedTime": "60 minutes",
      "automationFeasibility": "Medium",
      "riskScore": 8,
      "complianceTag": "SLO-AVAILABILITY-99.5, MTTR-TARGET-2MIN"
    },
    {
      "id": "REL-CB-001",
      "title": "Circuit Breaker State Transition Validation During Message Queue Saturation",
      "category": "reliability",
      "subCategory": "Circuit Breaker & Retry Logic",
      "priority": "High",
      "description": "Validate circuit breaker correctly transitions through closed -> open -> half-open states when message queue (notification dispatch queue) becomes saturated, preventing resource exhaustion while allowing recovery testing. Ensures retry policy with exponential backoff functions correctly.",
      "preconditions": [
        "Message queue (RabbitMQ/Kafka) operational with defined capacity limits",
        "Circuit breaker configured: failure threshold 60%, timeout 30 seconds, half-open max requests 3",
        "Retry policy: exponential backoff starting 1s, multiplier 2x, max delay 32s, max attempts 6",
        "Monitoring dashboard showing circuit breaker states in real-time",
        "Queue capacity set to 1000 messages for testing"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Verify circuit breaker initial state is CLOSED and queue is empty",
          "expectedResult": "Circuit breaker state = CLOSED. Queue depth = 0. All health checks passing."
        },
        {
          "step": 2,
          "action": "Inject load: Generate 1500 schedule changes rapidly (within 30 seconds) to saturate the message queue beyond capacity",
          "expectedResult": "Queue depth reaches maximum capacity (1000 messages). Additional messages start failing with queue full errors. Error rate increases to >60%."
        },
        {
          "step": 3,
          "action": "Monitor circuit breaker state transition to OPEN",
          "expectedResult": "Circuit breaker detects failure threshold exceeded (>60% errors) and transitions to OPEN state within 5 seconds. Fast-fail responses returned immediately without attempting queue operations. Logs show 'Circuit breaker opened due to queue saturation'."
        },
        {
          "step": 4,
          "action": "Verify system behavior while circuit breaker is OPEN for 30 seconds",
          "expectedResult": "New notification requests fail immediately with 503 Service Unavailable. No additional load on message queue. Queue consumers process existing messages, reducing queue depth. System resources (CPU, memory) stabilize."
        },
        {
          "step": 5,
          "action": "Wait for circuit breaker timeout period (30 seconds) and observe transition to HALF-OPEN state",
          "expectedResult": "After 30 seconds, circuit breaker automatically transitions to HALF-OPEN state. Logs indicate 'Circuit breaker entering half-open state for recovery testing'."
        },
        {
          "step": 6,
          "action": "Send 3 test notification requests (half-open max requests limit) to validate queue recovery",
          "expectedResult": "Circuit breaker allows exactly 3 requests through to test queue availability. All 3 requests succeed as queue depth has decreased below threshold. Success rate = 100% for test requests."
        },
        {
          "step": 7,
          "action": "Verify circuit breaker transitions back to CLOSED state after successful half-open tests",
          "expectedResult": "Circuit breaker transitions to CLOSED state within 2 seconds. Normal operation resumed. All subsequent notification requests processed successfully. Logs show 'Circuit breaker closed - service recovered'."
        },
        {
          "step": 8,
          "action": "Validate retry logic: Check that failed notifications during OPEN state are retried with exponential backoff",
          "expectedResult": "Failed notifications queued for retry. Retry attempts logged with delays: 1s, 2s, 4s, 8s, 16s, 32s. 90% of failed notifications successfully delivered within 2 minutes after circuit closes."
        },
        {
          "step": 9,
          "action": "Verify no duplicate notifications sent during circuit breaker state transitions",
          "expectedResult": "Idempotency maintained. Each schedule change results in exactly one notification delivered. Duplicate detection logs show 0 duplicates."
        }
      ],
      "postconditions": [
        "Circuit breaker returned to CLOSED state",
        "Message queue depth normalized to <10% capacity",
        "All valid notifications delivered (may include retry delays)",
        "System performance metrics returned to baseline",
        "Circuit breaker state transition metrics logged for analysis"
      ],
      "testData": "1500 schedule changes: distributed across 100 users. Change types: 50% updates, 30% new appointments, 20% cancellations. Timestamps: randomized within next 14 days.",
      "toolsRequired": [
        "Load generation tool (JMeter, Gatling, or K6)",
        "Message queue monitoring (RabbitMQ Management UI or Kafka Manager)",
        "Circuit breaker dashboard (Hystrix Dashboard, Resilience4j Metrics)",
        "APM tool for state transition tracking",
        "Log analysis tool for retry pattern validation"
      ],
      "estimatedTime": "40 minutes",
      "automationFeasibility": "High",
      "riskScore": 7,
      "complianceTag": "SLO-RECOVERY-TIME-2MIN, PATTERN-CIRCUIT-BREAKER"
    },
    {
      "id": "REL-HA-001",
      "title": "High Availability Failover Validation with Zero Notification Loss During Primary Service Instance Crash",
      "category": "reliability",
      "subCategory": "Failover & High Availability",
      "priority": "Critical",
      "description": "Validate automatic failover mechanism when primary notification service instance crashes unexpectedly. Ensure load balancer redirects traffic to healthy instances, in-flight notifications are not lost, and RTO/RPO objectives are met (RTO <30 seconds, RPO = 0).",
      "preconditions": [
        "Notification service deployed with minimum 3 instances behind load balancer",
        "Load balancer configured with health checks (interval: 5s, timeout: 3s, unhealthy threshold: 2)",
        "Session persistence disabled or properly handled for stateless failover",
        "Database replication active with synchronous commit for notification state",
        "Monitoring configured to track instance health and failover events",
        "Active traffic: 10 notifications per minute baseline load"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Establish baseline: Verify all 3 service instances are healthy and load is distributed evenly",
          "expectedResult": "Load balancer shows 3/3 instances healthy. Traffic distributed approximately 33% to each instance. All health checks passing."
        },
        {
          "step": 2,
          "action": "Initiate continuous notification load: Generate 30 schedule changes over 3 minutes (10 per minute)",
          "expectedResult": "Notifications flowing through all instances. Delivery success rate = 100%. Average delivery time <30 seconds."
        },
        {
          "step": 3,
          "action": "At 90 seconds mark, forcefully terminate primary instance (kill -9 process) handling approximately 33% of traffic",
          "expectedResult": "Primary instance process terminated immediately. Instance stops responding to health checks within 3 seconds."
        },
        {
          "step": 4,
          "action": "Monitor load balancer health check detection and instance removal",
          "expectedResult": "Load balancer detects unhealthy instance after 2 failed health checks (10 seconds maximum). Instance marked as DOWN and removed from rotation. Load balancer shows 2/3 instances healthy."
        },
        {
          "step": 5,
          "action": "Verify automatic traffic redistribution to remaining 2 healthy instances",
          "expectedResult": "Traffic automatically redistributed to 2 healthy instances (50% each). No manual intervention required. Failover completed within 15 seconds of instance crash."
        },
        {
          "step": 6,
          "action": "Validate zero notification loss: Check that all 30 schedule changes resulted in delivered notifications",
          "expectedResult": "All 30 notifications accounted for in delivery logs. In-flight notifications at time of crash were either completed by crashed instance before termination or automatically retried by load balancer to healthy instances. Zero data loss confirmed (RPO = 0)."
        },
        {
          "step": 7,
          "action": "Measure Recovery Time Objective (RTO): Calculate time from instance crash to full service restoration",
          "expectedResult": "RTO measured at <30 seconds (target met). Breakdown: 10s health check detection + 5s traffic redistribution + 5s stabilization = 20s total."
        },
        {
          "step": 8,
          "action": "Verify no duplicate notifications sent during failover process",
          "expectedResult": "Idempotency keys validated. Each schedule change has exactly one delivered notification. No duplicates detected."
        },
        {
          "step": 9,
          "action": "Check database consistency: Verify notification state is correctly persisted across failover",
          "expectedResult": "Database shows consistent state for all notifications. No orphaned records. Synchronous replication ensured no data loss during instance crash."
        },
        {
          "step": 10,
          "action": "Simulate instance recovery: Restart crashed instance and verify automatic rejoin to cluster",
          "expectedResult": "Restarted instance passes health checks within 30 seconds. Load balancer automatically adds instance back to rotation. Traffic redistributed to 3/3 instances (33% each). System fully recovered."
        }
      ],
      "postconditions": [
        "All 3 service instances operational and healthy",
        "Load balancer showing 3/3 instances in rotation",
        "All 30 test notifications successfully delivered with zero loss",
        "Failover metrics logged: RTO = <30s, RPO = 0, Availability maintained at 99.9%",
        "No residual errors or inconsistent state in system"
      ],
      "testData": "30 schedule changes: 12 new appointments, 10 updates, 8 cancellations. User distribution: 20 unique users. Timing: distributed evenly over 3-minute test window to ensure in-flight transactions during failover.",
      "toolsRequired": [
        "Load balancer monitoring console (AWS ELB, NGINX Plus, HAProxy stats)",
        "Instance termination script or chaos tool",
        "Database replication monitoring tool",
        "Distributed tracing for request flow tracking",
        "APM tool for RTO/RPO measurement",
        "Log aggregation for notification delivery audit"
      ],
      "estimatedTime": "50 minutes",
      "automationFeasibility": "Medium",
      "riskScore": 9,
      "complianceTag": "SLO-RTO-30SEC, SLO-RPO-ZERO, HA-AVAILABILITY-99.9"
    }
  ],
  "selectedTypes": {
    "functional": true,
    "edgeCases": true,
    "negative": true,
    "accessibility": true,
    "performance": true,
    "security": true,
    "usability": true,
    "reliability": true
  },
  "userStoryObject": {
    "id": "ado-14152",
    "title": "As a User, I want to receive notifications for schedule changes to stay informed about my commitments.",
    "description": "<div>CONTEXT &amp; BACKGROUND:\nThis story exists to ensure users are promptly informed of any changes to their schedules, reducing the risk of missed appointments.\n\nCURRENT STATE:\nCurrently, users rely on manual updates, leading to confusion and missed commitments.\n\nDESIRED STATE:\nUsers receive immediate notifications about schedule changes, allowing them to adjust their plans accordingly.\n\nKEY FUNCTIONALITY:\nâ€¢ Automatic detection of schedule changes\nâ€¢ Immediate notification dispatch via email and in-app alerts\nâ€¢ User-friendly notification format\nâ€¢ Ability to view past notifications\n\nUSER INTERACTION FLOW:\n1. User's schedule is updated in the system.\n2. System detects the change.\n3. Notification is generated and sent to the user.\n4. User receives the notification via email and in-app alert.\n5. User views the notification and adjusts their schedule if necessary.\n\nTECHNICAL CONSIDERATIONS:\nâ€¢ Data source: Schedule database\nâ€¢ Validation rules: Ensure notifications are sent only for confirmed schedule changes\nâ€¢ API endpoints: /api/notifications/send\nâ€¢ Security: User authentication required for notification access\nâ€¢ Performance: Notifications sent within 1 minute of schedule change detection.\n\nOUT OF SCOPE:\nâ€¢ Manual notification processes\n\nSUCCESS METRICS:\nâ€¢ 95% of users report receiving notifications within 1 minute of schedule changes. </div><br><div><strong>Persona:</strong> User (User) </div>",
    "acceptanceCriteria": "<div><strong>Criteria 1:</strong> System sends notifications to users immediately upon schedule changes. </div><br><div><strong>Criteria 2:</strong> Users receive notifications via both email and in-app alerts. </div><br><div><strong>Criteria 3:</strong> Notifications include details of the schedule change. </div><br><div><strong>Criteria 4:</strong> Users can acknowledge receipt of the notification. </div><br>",
    "adoWorkItemId": 14152,
    "state": "New",
    "assignedTo": "Unassigned",
    "createdDate": "2026-01-29T09:29:21.75Z",
    "priority": 1,
    "storyPoints": 5,
    "tags": "DevX-Automation; TestCases-Generated",
    "epicId": "epic-13802",
    "featureId": "feature-13827",
    "source": "ado",
    "adoUrl": "https://dev.azure.com/QS001/Venus/_workitems/edit/14152"
  }
}