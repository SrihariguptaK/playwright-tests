{
  "storyId": "ado-14152",
  "storyTitle": "As a User, I want to receive notifications for schedule changes to stay informed about my commitments.",
  "testCases": [],
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify user receives email and in-app notification when schedule is updated",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is registered and logged into the system with valid credentials",
        "User has at least one scheduled appointment in the schedule database",
        "User's email address is verified and active in the system",
        "Notification service is running and operational",
        "User has notification preferences enabled for schedule changes"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the user's schedule management page and select an existing appointment scheduled for tomorrow at 2:00 PM",
          "expectedResult": "Appointment details are displayed showing current time as 2:00 PM"
        },
        {
          "step": 2,
          "action": "Click the 'Edit Appointment' button and change the appointment time from 2:00 PM to 3:30 PM",
          "expectedResult": "Time picker displays the new time 3:30 PM and 'Save Changes' button becomes active"
        },
        {
          "step": 3,
          "action": "Click the 'Save Changes' button to confirm the schedule modification",
          "expectedResult": "Success message 'Schedule updated successfully' appears in green banner at top of page, appointment now shows 3:30 PM"
        },
        {
          "step": 4,
          "action": "Check the in-app notification bell icon in the top-right corner of the page within 1 minute",
          "expectedResult": "Red notification badge appears on bell icon with count '1', clicking it shows notification: 'Your appointment on [date] has been changed from 2:00 PM to 3:30 PM'"
        },
        {
          "step": 5,
          "action": "Open the user's registered email inbox and check for new emails within 1 minute of the schedule change",
          "expectedResult": "Email notification received with subject 'Schedule Change Alert' containing details: original time (2:00 PM), new time (3:30 PM), appointment date, and appointment description"
        }
      ],
      "postconditions": [
        "Appointment is updated in the schedule database with new time 3:30 PM",
        "Notification record is created in notifications table with timestamp, user ID, and delivery status 'sent'",
        "User remains logged in and on the schedule page",
        "Email delivery log shows successful send status for the notification email"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Verify notification includes all required schedule change details",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is authenticated and has an active session",
        "User has a scheduled appointment for next week",
        "Notification system is configured to include full change details",
        "User has access to both email and in-app notification channels"
      ],
      "steps": [
        {
          "step": 1,
          "action": "As an administrator, access the schedule management system and locate the user's appointment scheduled for next Monday at 10:00 AM with Dr. Smith in Room 101",
          "expectedResult": "Appointment details display showing: Date: Next Monday, Time: 10:00 AM, Provider: Dr. Smith, Location: Room 101"
        },
        {
          "step": 2,
          "action": "Modify multiple fields: change time to 11:30 AM, change provider to Dr. Johnson, and change location to Room 205, then click 'Update Schedule'",
          "expectedResult": "Confirmation dialog appears asking 'Confirm schedule changes? User will be notified.' with 'Confirm' and 'Cancel' buttons"
        },
        {
          "step": 3,
          "action": "Click 'Confirm' button to save all changes",
          "expectedResult": "System displays 'Schedule updated and notification sent' message, appointment now reflects all new values"
        },
        {
          "step": 4,
          "action": "Log in as the affected user and click the notification bell icon to view the in-app notification",
          "expectedResult": "Notification displays with title 'Schedule Change Alert' and includes: Original Date/Time: Next Monday 10:00 AM, New Date/Time: Next Monday 11:30 AM, Original Provider: Dr. Smith, New Provider: Dr. Johnson, Original Location: Room 101, New Location: Room 205"
        },
        {
          "step": 5,
          "action": "Check the email notification received by the user",
          "expectedResult": "Email contains identical information as in-app notification with clear formatting showing 'What Changed' section listing all modified fields with before/after values"
        }
      ],
      "postconditions": [
        "All schedule changes are persisted in the database with audit trail showing who made changes and when",
        "Notification record contains complete change details in structured format",
        "User can view notification history showing this notification with full details",
        "Email and in-app notification content match exactly"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify user can acknowledge receipt of schedule change notification",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged into the system with valid credentials",
        "User has received at least one unacknowledged schedule change notification",
        "Notification appears in the in-app notification center with unread status",
        "User has permission to acknowledge notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click the notification bell icon in the top-right corner of the application header",
          "expectedResult": "Notification dropdown panel opens showing list of notifications, unacknowledged notification appears with blue highlight and 'Acknowledge' button"
        },
        {
          "step": 2,
          "action": "Read the notification details showing schedule change from 2:00 PM to 4:00 PM for tomorrow's appointment",
          "expectedResult": "Full notification content is displayed with timestamp, change details, and 'Acknowledge' button is visible and enabled"
        },
        {
          "step": 3,
          "action": "Click the 'Acknowledge' button next to the notification",
          "expectedResult": "Button changes to 'Acknowledged' with checkmark icon, blue highlight is removed, notification moves to 'Read' section, success toast message appears: 'Notification acknowledged'"
        },
        {
          "step": 4,
          "action": "Close the notification panel and reopen it by clicking the bell icon again",
          "expectedResult": "Previously acknowledged notification now appears in 'Read Notifications' section with gray text and 'Acknowledged on [timestamp]' label, notification badge count decreases by 1"
        },
        {
          "step": 5,
          "action": "Navigate to 'Notification History' page from the user profile menu",
          "expectedResult": "Notification history page displays the acknowledged notification with status 'Acknowledged', acknowledgment timestamp, and user who acknowledged it"
        }
      ],
      "postconditions": [
        "Notification status is updated to 'acknowledged' in the database with acknowledgment timestamp",
        "Notification no longer appears in unread count on bell icon",
        "Acknowledgment is logged in user activity audit trail",
        "User remains on the same page after acknowledging notification"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Verify notifications are sent within 1 minute of schedule change detection",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User has an active account with verified email address",
        "User has a scheduled appointment in the system",
        "System clock is synchronized and accurate",
        "Notification service performance monitoring is enabled",
        "Test environment has network connectivity for email delivery"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Note the current system time (e.g., 10:15:30 AM) before making any changes",
          "expectedResult": "Current timestamp is recorded for comparison: 10:15:30 AM"
        },
        {
          "step": 2,
          "action": "Immediately update the user's appointment scheduled for next week from 9:00 AM to 10:00 AM and click 'Save Changes'",
          "expectedResult": "System displays 'Schedule updated successfully' message, change is saved with timestamp 10:15:32 AM (2 seconds after start)"
        },
        {
          "step": 3,
          "action": "Monitor the in-app notification bell icon continuously for the next 60 seconds",
          "expectedResult": "Notification badge appears on bell icon within 60 seconds, clicking it shows the schedule change notification with timestamp indicating it was generated within 1 minute of the change"
        },
        {
          "step": 4,
          "action": "Check email inbox and note the 'Received' timestamp on the schedule change notification email",
          "expectedResult": "Email is received with timestamp showing delivery within 60 seconds of the schedule change (between 10:15:32 AM and 10:16:32 AM)"
        },
        {
          "step": 5,
          "action": "Access the notification service logs and verify the notification processing time for this specific notification",
          "expectedResult": "Logs show: Schedule change detected at 10:15:32 AM, notification generated at 10:15:35 AM, email queued at 10:15:36 AM, in-app notification delivered at 10:15:37 AM - all within 1 minute SLA"
        }
      ],
      "postconditions": [
        "Notification delivery time is logged and meets the 1-minute performance requirement",
        "Performance metrics are updated showing successful on-time delivery",
        "User has received both email and in-app notifications within acceptable timeframe",
        "System maintains performance SLA of 95% notifications delivered within 1 minute"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Verify user can view past schedule change notifications in notification history",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged into the system with valid authentication",
        "User has received at least 5 schedule change notifications over the past 30 days",
        "Notification history feature is enabled for the user's account",
        "User has permission to access notification history page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click on the user profile icon in the top-right corner and select 'Notification History' from the dropdown menu",
          "expectedResult": "Notification History page loads displaying a list of all past notifications with columns: Date, Time, Type, Details, Status, and Actions"
        },
        {
          "step": 2,
          "action": "Verify the list shows all schedule change notifications sorted by date (most recent first)",
          "expectedResult": "Page displays at least 5 notifications, each showing: notification date/time, 'Schedule Change' type, brief description of change, status (Acknowledged/Unacknowledged), and 'View Details' link"
        },
        {
          "step": 3,
          "action": "Click 'View Details' link on the most recent schedule change notification",
          "expectedResult": "Modal or expanded view opens showing complete notification details: original schedule, new schedule, all changed fields, timestamp of change, who made the change, acknowledgment status, and acknowledgment timestamp if applicable"
        },
        {
          "step": 4,
          "action": "Use the date filter to show only notifications from the last 7 days and click 'Apply Filter'",
          "expectedResult": "List refreshes to display only schedule change notifications from the past 7 days, older notifications are hidden, filter indicator shows 'Last 7 Days' is active"
        },
        {
          "step": 5,
          "action": "Click the 'Export' button to download notification history",
          "expectedResult": "CSV file downloads with filename 'notification_history_[date].csv' containing all filtered notifications with complete details in structured format"
        }
      ],
      "postconditions": [
        "User remains on the Notification History page after viewing details",
        "All notification records remain unchanged in the database",
        "Filter preferences are saved for the user's session",
        "Export file is generated and available in user's downloads folder"
      ]
    },
    {
      "id": "TC-FUNC-006",
      "title": "Verify notification is sent only for confirmed schedule changes, not draft changes",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged into the system as an administrator with schedule modification rights",
        "User has an existing confirmed appointment scheduled for next week",
        "System supports draft mode for schedule changes before confirmation",
        "Notification service is configured to send only for confirmed changes"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the schedule management page and select the user's appointment scheduled for next Wednesday at 1:00 PM",
          "expectedResult": "Appointment details page opens showing current status as 'Confirmed' with time 1:00 PM"
        },
        {
          "step": 2,
          "action": "Click 'Edit Appointment' button, change the time to 2:00 PM, but click 'Save as Draft' instead of 'Confirm Changes'",
          "expectedResult": "System displays message 'Changes saved as draft', appointment shows status 'Draft Changes Pending', original time 1:00 PM still displays to user with draft indicator"
        },
        {
          "step": 3,
          "action": "Wait 2 minutes and check the user's in-app notifications and email inbox",
          "expectedResult": "No notification is sent to the user, notification bell icon shows no new notifications, email inbox has no schedule change notification"
        },
        {
          "step": 4,
          "action": "Return to the draft appointment and click 'Review Draft Changes' button, then click 'Confirm Changes' button",
          "expectedResult": "Confirmation dialog appears: 'Confirm schedule change? User will be notified.' with 'Confirm' and 'Cancel' buttons"
        },
        {
          "step": 5,
          "action": "Click 'Confirm' button to finalize the schedule change",
          "expectedResult": "System displays 'Schedule updated and notification sent', appointment status changes to 'Confirmed', time now shows 2:00 PM"
        },
        {
          "step": 6,
          "action": "Check user's in-app notifications and email inbox within 1 minute",
          "expectedResult": "User receives both in-app notification and email notification about the schedule change from 1:00 PM to 2:00 PM, notification includes confirmed change details"
        }
      ],
      "postconditions": [
        "Only one notification is sent for the confirmed change, not for the draft",
        "Schedule change is persisted with status 'Confirmed' in the database",
        "Notification log shows single notification sent only after confirmation",
        "Draft changes are removed from the system after confirmation"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Verify system handles notification failure when user email address is invalid or undeliverable",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User account exists in the system with an invalid email address format (e.g., 'invalid-email@')",
        "User has a scheduled appointment that will be modified",
        "Email notification service is active and configured",
        "System has error handling and logging enabled for failed notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to user profile settings and verify the email address is set to an invalid format 'testuser@invalid@domain.com'",
          "expectedResult": "User profile displays the invalid email address in the email field"
        },
        {
          "step": 2,
          "action": "As an administrator, modify the user's schedule appointment from 3:00 PM to 4:00 PM and click 'Save Changes'",
          "expectedResult": "Schedule change is saved successfully, system displays 'Schedule updated' message"
        },
        {
          "step": 3,
          "action": "Check the notification service logs within 1 minute of the schedule change",
          "expectedResult": "Logs show email notification attempt failed with error 'Invalid email address format', error is logged with timestamp, user ID, and notification ID"
        },
        {
          "step": 4,
          "action": "Log in as the affected user and check the in-app notification bell icon",
          "expectedResult": "In-app notification is still delivered successfully showing the schedule change from 3:00 PM to 4:00 PM, notification includes warning banner: 'Email notification could not be delivered. Please update your email address.'"
        },
        {
          "step": 5,
          "action": "Check the user's notification history page for delivery status",
          "expectedResult": "Notification history shows the notification with status 'Partially Delivered - In-app: Success, Email: Failed (Invalid Address)', retry option is available"
        }
      ],
      "postconditions": [
        "Schedule change is saved in database despite email delivery failure",
        "Failed email notification is logged in error tracking system with details",
        "In-app notification is delivered successfully as fallback",
        "System administrator receives alert about failed email delivery for investigation"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify system behavior when user attempts to acknowledge notification without authentication",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User has received a schedule change notification while logged in",
        "Notification is visible in the notification center with 'Acknowledge' button",
        "User's session is about to expire or can be manually invalidated",
        "System has session timeout configured at 30 minutes"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Log in as a user and navigate to the notification center showing an unacknowledged schedule change notification",
          "expectedResult": "Notification center displays the notification with 'Acknowledge' button enabled"
        },
        {
          "step": 2,
          "action": "Open browser developer tools and manually delete the authentication session token from cookies or local storage",
          "expectedResult": "Session token is removed from browser storage, but UI still displays as if user is logged in"
        },
        {
          "step": 3,
          "action": "Click the 'Acknowledge' button on the notification without refreshing the page",
          "expectedResult": "System detects invalid/missing authentication, displays error message 'Session expired. Please log in again to acknowledge notification.', user is redirected to login page"
        },
        {
          "step": 4,
          "action": "Log in again with valid credentials and navigate back to the notification center",
          "expectedResult": "User successfully logs in, notification center loads, the same notification still appears as 'Unacknowledged' since previous attempt failed"
        },
        {
          "step": 5,
          "action": "Click 'Acknowledge' button again with valid authentication",
          "expectedResult": "Notification is successfully acknowledged, status changes to 'Acknowledged', confirmation message appears: 'Notification acknowledged successfully'"
        }
      ],
      "postconditions": [
        "Notification acknowledgment is not saved when authentication is invalid",
        "Failed acknowledgment attempt is logged in security audit trail",
        "User is required to re-authenticate before performing any action",
        "Notification remains in unacknowledged state until properly acknowledged with valid session"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Verify system handles notification service downtime or unavailability during schedule change",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User has a scheduled appointment in the system",
        "Notification service can be stopped or made unavailable for testing",
        "System has retry mechanism and error handling configured",
        "Database and schedule management service are operational"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Stop the notification service or simulate service unavailability by blocking network access to notification API endpoint",
          "expectedResult": "Notification service status changes to 'Unavailable' in system health dashboard"
        },
        {
          "step": 2,
          "action": "Modify a user's schedule appointment from 10:00 AM to 11:00 AM and click 'Save Changes'",
          "expectedResult": "Schedule change is saved successfully in database, system displays 'Schedule updated' message but may show warning 'Notification service temporarily unavailable'"
        },
        {
          "step": 3,
          "action": "Check the notification queue or retry mechanism logs immediately after the change",
          "expectedResult": "System logs show notification was queued for retry with status 'Pending - Service Unavailable', retry attempts are scheduled, error is logged with timestamp and details"
        },
        {
          "step": 4,
          "action": "Verify that user does not receive email or in-app notification within 1 minute",
          "expectedResult": "No notification is delivered to user, notification bell icon shows no new notifications, email inbox has no new messages"
        },
        {
          "step": 5,
          "action": "Restart the notification service and wait for the retry mechanism to process queued notifications",
          "expectedResult": "Notification service status changes to 'Available', queued notification is processed and delivered to user within 2-3 minutes of service restoration"
        },
        {
          "step": 6,
          "action": "Check user's in-app notifications and email inbox after service restoration",
          "expectedResult": "User receives both email and in-app notification about the schedule change, notification includes note 'Delayed delivery due to system maintenance', notification history shows delivery timestamp and delay reason"
        }
      ],
      "postconditions": [
        "Schedule change is persisted in database regardless of notification service status",
        "Failed notification attempts are logged and queued for retry",
        "Notification is eventually delivered once service is restored",
        "System administrators receive alert about notification service downtime"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Verify system prevents notification spam when multiple rapid schedule changes occur",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "User has a scheduled appointment in the system",
        "System has rate limiting or notification batching configured",
        "Administrator has permission to make multiple rapid schedule changes",
        "Notification service is operational"
      ],
      "steps": [
        {
          "step": 1,
          "action": "As an administrator, access the user's appointment scheduled for next Monday at 9:00 AM",
          "expectedResult": "Appointment details page displays showing current time as 9:00 AM"
        },
        {
          "step": 2,
          "action": "Rapidly change the appointment time 5 times in succession within 30 seconds: 9:00 AM → 9:30 AM → 10:00 AM → 10:30 AM → 11:00 AM → 11:30 AM, saving each change",
          "expectedResult": "All 5 schedule changes are saved successfully, final appointment time shows 11:30 AM"
        },
        {
          "step": 3,
          "action": "Check the user's email inbox within 2 minutes of the last change",
          "expectedResult": "User receives only ONE consolidated email notification stating 'Your appointment has been changed multiple times. Final time: 11:30 AM (originally 9:00 AM)' instead of 5 separate emails"
        },
        {
          "step": 4,
          "action": "Check the in-app notification center",
          "expectedResult": "In-app notification shows single notification with message 'Schedule updated multiple times. Latest change: 11:30 AM' with expandable section showing change history if needed"
        },
        {
          "step": 5,
          "action": "Review notification service logs for rate limiting or batching behavior",
          "expectedResult": "Logs show system detected multiple rapid changes, applied batching logic, and sent consolidated notification instead of 5 individual notifications, log entry shows 'Rate limit applied: 5 changes batched into 1 notification'"
        }
      ],
      "postconditions": [
        "User receives only one notification for multiple rapid changes, preventing inbox spam",
        "All schedule changes are recorded in audit trail with individual timestamps",
        "Final schedule state (11:30 AM) is correctly reflected in the system",
        "Notification batching behavior is logged for monitoring and analysis"
      ]
    },
    {
      "id": "TC-NEGA-005",
      "title": "Verify system handles notification when user account is disabled or deleted after schedule change",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User account exists with active status and scheduled appointments",
        "Administrator has permission to disable or delete user accounts",
        "Schedule change is initiated but notification is queued or delayed",
        "System has proper error handling for notifications to inactive users"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Modify a user's schedule appointment from 2:00 PM to 3:00 PM and save the change",
          "expectedResult": "Schedule change is saved, notification is queued for delivery"
        },
        {
          "step": 2,
          "action": "Before the notification is delivered (within the 1-minute window), disable the user account by setting status to 'Disabled' in user management",
          "expectedResult": "User account status changes to 'Disabled', user is logged out if currently active, account is no longer accessible"
        },
        {
          "step": 3,
          "action": "Wait for the notification service to attempt delivery of the queued notification",
          "expectedResult": "Notification service detects user account is disabled, logs error 'Cannot deliver notification - User account disabled', notification is marked as 'Undeliverable' in the system"
        },
        {
          "step": 4,
          "action": "Check the notification logs and error tracking system",
          "expectedResult": "Error log shows entry: 'Notification ID [xxx] failed delivery - Target user account [user_id] is disabled', notification status is 'Failed - Account Disabled', no email is sent"
        },
        {
          "step": 5,
          "action": "Re-enable the user account and check if notification is automatically retried",
          "expectedResult": "User account status changes to 'Active', system does NOT automatically retry old failed notifications, notification remains in 'Failed' state with reason logged"
        }
      ],
      "postconditions": [
        "No notification is delivered to disabled user account",
        "Schedule change remains saved in database for record-keeping",
        "Failed notification attempt is logged with clear reason",
        "System does not crash or throw unhandled exceptions when attempting to notify disabled users"
      ]
    },
    {
      "id": "TC-NEGA-006",
      "title": "Verify system handles malformed or corrupted schedule change data in notification payload",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "System has notification generation logic that can be tested with corrupted data",
        "Test environment allows injection of malformed data for testing",
        "Error handling and validation are implemented in notification service",
        "System has fallback mechanisms for notification generation failures"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Using API testing tool or database manipulation, create a schedule change record with null or missing required fields (e.g., original_time is null, new_time is null)",
          "expectedResult": "Schedule change record is created in database with incomplete data"
        },
        {
          "step": 2,
          "action": "Trigger the notification generation process for this malformed schedule change",
          "expectedResult": "Notification service detects missing required fields, logs validation error 'Cannot generate notification - Missing required fields: original_time, new_time'"
        },
        {
          "step": 3,
          "action": "Check if any notification is sent to the user",
          "expectedResult": "No notification is sent to user, system prevents sending incomplete or misleading information, error is logged in notification service logs"
        },
        {
          "step": 4,
          "action": "Inject a schedule change with special characters or SQL injection attempt in the appointment description field (e.g., '<script>alert(\"XSS\")</script>' or 'DROP TABLE users;--')",
          "expectedResult": "Notification service sanitizes and escapes special characters, notification is generated with sanitized content, no script execution or SQL injection occurs"
        },
        {
          "step": 5,
          "action": "Verify the delivered notification content for proper encoding and security",
          "expectedResult": "Email and in-app notification display the malicious content as plain text (e.g., '&lt;script&gt;alert(\"XSS\")&lt;/script&gt;'), no code execution occurs, content is safely rendered"
        }
      ],
      "postconditions": [
        "System does not send notifications with incomplete or invalid data",
        "All user input is properly sanitized and escaped in notifications",
        "Security vulnerabilities (XSS, SQL injection) are prevented in notification content",
        "Validation errors are logged for administrator review and data correction"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Verify notification delivery when multiple rapid schedule changes occur within seconds",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged into the system with valid credentials",
        "User has at least one scheduled appointment in the system",
        "Email service and in-app notification service are operational",
        "User has notification preferences enabled for schedule changes"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the user's schedule and modify an appointment time (e.g., change from 2:00 PM to 3:00 PM)",
          "expectedResult": "First notification is queued for delivery"
        },
        {
          "step": 2,
          "action": "Within 5 seconds, modify the same appointment again (e.g., change from 3:00 PM to 4:00 PM)",
          "expectedResult": "Second notification is queued for delivery"
        },
        {
          "step": 3,
          "action": "Within another 5 seconds, modify the same appointment a third time (e.g., change from 4:00 PM to 5:00 PM)",
          "expectedResult": "Third notification is queued for delivery"
        },
        {
          "step": 4,
          "action": "Check the user's email inbox and in-app notification center",
          "expectedResult": "All three notifications are delivered within 1 minute, each containing accurate schedule change details without duplication or missing information"
        },
        {
          "step": 5,
          "action": "Verify the notification timestamps and content accuracy",
          "expectedResult": "Each notification shows the correct timestamp and reflects the specific change made (original time → new time)"
        }
      ],
      "postconditions": [
        "All three notifications are successfully delivered to both email and in-app channels",
        "User's schedule reflects the final appointment time of 5:00 PM",
        "Notification history shows all three changes in chronological order",
        "No duplicate or merged notifications are present"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Verify notification handling when schedule change occurs exactly at midnight (00:00:00)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged into the system",
        "System time is set to 11:59:50 PM",
        "User has a scheduled appointment for the next day",
        "Notification services are running and operational"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Wait until system time reaches 11:59:55 PM",
          "expectedResult": "System clock displays 11:59:55 PM"
        },
        {
          "step": 2,
          "action": "Modify the user's appointment scheduled for tomorrow (change location or time)",
          "expectedResult": "Schedule change is saved in the database"
        },
        {
          "step": 3,
          "action": "Allow the system clock to transition from 11:59:59 PM to 12:00:00 AM (midnight)",
          "expectedResult": "System successfully transitions to the new day"
        },
        {
          "step": 4,
          "action": "Check the notification delivery timestamp in both email and in-app notification",
          "expectedResult": "Notification is delivered within 1 minute with correct date and time stamp, properly handling the day transition"
        },
        {
          "step": 5,
          "action": "Verify the notification content displays the correct date for the modified appointment",
          "expectedResult": "Notification shows the correct date (today's date after midnight) and all schedule change details are accurate"
        }
      ],
      "postconditions": [
        "Notification is successfully delivered despite midnight boundary",
        "Date and time information in notification is accurate and properly formatted",
        "No timezone-related errors or date calculation issues occur",
        "Notification log records the correct timestamp"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Verify notification delivery when user has 100+ pending unread notifications",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User account exists with valid credentials",
        "User has exactly 100 unread notifications in their notification center",
        "User has not acknowledged any of the existing notifications",
        "Email inbox has storage capacity available"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Log into the system as the user and navigate to the notification center",
          "expectedResult": "Notification center displays showing 100 unread notifications"
        },
        {
          "step": 2,
          "action": "Create a new schedule change by modifying an existing appointment",
          "expectedResult": "Schedule change is saved successfully in the system"
        },
        {
          "step": 3,
          "action": "Wait for up to 1 minute and refresh the notification center",
          "expectedResult": "New notification appears in the notification center, bringing total to 101 unread notifications"
        },
        {
          "step": 4,
          "action": "Check the user's email inbox for the notification email",
          "expectedResult": "Email notification is delivered successfully despite high volume of existing notifications"
        },
        {
          "step": 5,
          "action": "Verify the new notification is displayed at the top of the notification list",
          "expectedResult": "Most recent notification appears first in chronological order with correct schedule change details"
        },
        {
          "step": 6,
          "action": "Check system performance and notification center load time",
          "expectedResult": "Notification center loads within 3 seconds without performance degradation"
        }
      ],
      "postconditions": [
        "New notification is successfully added to the notification center (101 total)",
        "Email notification is delivered without being blocked or delayed",
        "System performance remains stable with high notification volume",
        "Notification ordering and display remain correct"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify notification content when schedule change includes special characters and Unicode in appointment details",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged into the system",
        "User has an appointment with title containing special characters: \"Meeting @ O'Brien's Café ☕ - Q&A Session (R&D)\"",
        "Notification services support UTF-8 encoding",
        "Email client supports HTML and Unicode characters"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the appointment with special characters in the title",
          "expectedResult": "Appointment displays correctly with all special characters: @ ' é ☕ & ( )"
        },
        {
          "step": 2,
          "action": "Modify the appointment time from 2:00 PM to 3:30 PM",
          "expectedResult": "Schedule change is saved successfully"
        },
        {
          "step": 3,
          "action": "Wait up to 1 minute and check the in-app notification",
          "expectedResult": "In-app notification is received and displays the appointment title with all special characters correctly rendered: \"Meeting @ O'Brien's Café ☕ - Q&A Session (R&D)\""
        },
        {
          "step": 4,
          "action": "Open the email notification in the user's inbox",
          "expectedResult": "Email notification displays the appointment title with all special characters properly encoded and rendered without corruption or escape sequences"
        },
        {
          "step": 5,
          "action": "Verify the notification includes the time change details: \"Changed from 2:00 PM to 3:30 PM\"",
          "expectedResult": "Time change information is clearly displayed and formatted correctly"
        }
      ],
      "postconditions": [
        "Both email and in-app notifications display special characters correctly without encoding errors",
        "No HTML injection or XSS vulnerabilities are present",
        "Notification content is readable and properly formatted",
        "Unicode emoji and accented characters render correctly across all notification channels"
      ]
    },
    {
      "id": "TC-EDGE-005",
      "title": "Verify notification behavior when user's email address becomes invalid after schedule change but before notification delivery",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is logged into the system with email address user@example.com",
        "User has a scheduled appointment in the system",
        "Email service is operational",
        "User has both email and in-app notifications enabled"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Modify the user's scheduled appointment (change time from 10:00 AM to 11:00 AM)",
          "expectedResult": "Schedule change is saved and notification generation is triggered"
        },
        {
          "step": 2,
          "action": "Within 10 seconds of the schedule change, update the user's email address to an invalid format: \"invalid-email-format\" (simulate email service failure or account deletion)",
          "expectedResult": "User's email address is updated in the system"
        },
        {
          "step": 3,
          "action": "Wait for 1 minute and check the notification delivery status",
          "expectedResult": "Email notification fails to deliver due to invalid email address, but system logs the failure"
        },
        {
          "step": 4,
          "action": "Check the user's in-app notification center",
          "expectedResult": "In-app notification is successfully delivered with complete schedule change details despite email delivery failure"
        },
        {
          "step": 5,
          "action": "Review system logs or admin notification dashboard for delivery status",
          "expectedResult": "System logs show email delivery failure with appropriate error message, but in-app notification shows successful delivery"
        },
        {
          "step": 6,
          "action": "Correct the user's email address to a valid format and trigger another schedule change",
          "expectedResult": "Subsequent notifications are delivered successfully to both email and in-app channels"
        }
      ],
      "postconditions": [
        "In-app notification is delivered successfully regardless of email delivery failure",
        "System maintains notification delivery status records",
        "Email delivery failure is logged with appropriate error details",
        "User can still access notification information through in-app channel",
        "System does not crash or hang due to email delivery failure"
      ]
    },
    {
      "id": "TC-EDGE-006",
      "title": "Verify notification delivery when system experiences exactly 1000 simultaneous schedule changes across different users",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "System has 1000 active user accounts with scheduled appointments",
        "All users have notification preferences enabled",
        "Email and in-app notification services are operational",
        "System load testing environment is configured",
        "Database connection pool has sufficient capacity"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Prepare automated script to modify schedules for 1000 different users simultaneously",
          "expectedResult": "Script is ready to execute with unique schedule changes for each user"
        },
        {
          "step": 2,
          "action": "Execute the script to trigger 1000 schedule changes at exactly the same timestamp",
          "expectedResult": "All 1000 schedule changes are saved to the database successfully"
        },
        {
          "step": 3,
          "action": "Monitor the notification queue and delivery system for 2 minutes",
          "expectedResult": "Notification system processes all 1000 notifications without crashing or hanging"
        },
        {
          "step": 4,
          "action": "Check a random sample of 50 users' in-app notification centers",
          "expectedResult": "At least 95% (48 out of 50) of sampled users received their notifications within 1 minute"
        },
        {
          "step": 5,
          "action": "Check email delivery status for the same 50 user sample",
          "expectedResult": "At least 95% (48 out of 50) of sampled users received email notifications within 2 minutes"
        },
        {
          "step": 6,
          "action": "Review system performance metrics: CPU usage, memory consumption, database query times",
          "expectedResult": "System remains stable with CPU usage below 80%, memory usage within acceptable limits, and no database deadlocks"
        },
        {
          "step": 7,
          "action": "Verify notification content accuracy for 10 randomly selected users",
          "expectedResult": "All 10 notifications contain correct schedule change details specific to each user"
        }
      ],
      "postconditions": [
        "95% or more of all 1000 notifications are delivered within 1 minute",
        "System performance remains stable without crashes or significant degradation",
        "All notifications contain accurate and user-specific schedule change information",
        "No notifications are lost or duplicated during high-load scenario",
        "Database integrity is maintained with no data corruption"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify complete keyboard navigation through notification center and notification acknowledgment workflow",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged into the system",
        "User has at least 3 unread schedule change notifications in the notification center",
        "Keyboard is the only input device being used (mouse disconnected or not used)",
        "Browser supports standard keyboard navigation"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab key repeatedly from the main page header until focus reaches the notification icon/bell in the navigation bar",
          "expectedResult": "Notification icon receives visible focus indicator (outline or highlight) and screen reader announces \"Notifications, 3 unread, button\""
        },
        {
          "step": 2,
          "action": "Press Enter key or Space bar to open the notification center dropdown/panel",
          "expectedResult": "Notification center opens and focus automatically moves to the first notification in the list"
        },
        {
          "step": 3,
          "action": "Press Tab key to navigate through each notification item",
          "expectedResult": "Focus moves sequentially through each notification with visible focus indicator, and screen reader announces notification content including appointment details and time change"
        },
        {
          "step": 4,
          "action": "Press Enter key on the first notification to view full details",
          "expectedResult": "Notification expands or opens detail view, focus remains on the notification or moves to the detail content"
        },
        {
          "step": 5,
          "action": "Press Tab key to navigate to the 'Acknowledge' or 'Mark as Read' button",
          "expectedResult": "Focus moves to the acknowledge button with visible focus indicator, screen reader announces \"Acknowledge notification, button\""
        },
        {
          "step": 6,
          "action": "Press Enter key or Space bar to acknowledge the notification",
          "expectedResult": "Notification is marked as read, visual indicator changes (e.g., background color or icon), screen reader announces \"Notification acknowledged\" or similar confirmation"
        },
        {
          "step": 7,
          "action": "Press Escape key to close the notification center",
          "expectedResult": "Notification center closes and focus returns to the notification icon in the navigation bar"
        },
        {
          "step": 8,
          "action": "Press Tab key to continue navigation to the next interactive element on the page",
          "expectedResult": "Focus moves logically to the next focusable element without focus traps"
        }
      ],
      "postconditions": [
        "All interactive elements in notification center are keyboard accessible",
        "Focus order is logical and follows visual layout",
        "No keyboard focus traps exist in the notification workflow",
        "Notification is successfully acknowledged using only keyboard",
        "Unread notification count updates from 3 to 2"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Verify screen reader announces schedule change notifications with complete and accurate information",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "Screen reader software is installed and running (NVDA, JAWS, or VoiceOver)",
        "User is logged into the system",
        "User has notification preferences enabled",
        "System has one scheduled appointment ready to be modified"
      ],
      "steps": [
        {
          "step": 1,
          "action": "With screen reader active, navigate to the user's schedule and modify an appointment (change time from 2:00 PM to 3:30 PM)",
          "expectedResult": "Schedule change is saved successfully"
        },
        {
          "step": 2,
          "action": "Wait up to 1 minute for the notification to arrive, then navigate to the notification icon using Tab key",
          "expectedResult": "Screen reader announces \"Notifications, 1 unread, button\" or similar, indicating new notification presence"
        },
        {
          "step": 3,
          "action": "Press Enter to open the notification center",
          "expectedResult": "Screen reader announces \"Notification center opened\" and reads the first notification heading or summary"
        },
        {
          "step": 4,
          "action": "Navigate to the new notification using arrow keys or Tab key",
          "expectedResult": "Screen reader announces complete notification content: \"Schedule change notification. Your appointment [appointment name] has been changed from 2:00 PM to 3:30 PM on [date]. Unread.\""
        },
        {
          "step": 5,
          "action": "Navigate to the notification timestamp",
          "expectedResult": "Screen reader announces the time the notification was received: \"Received 1 minute ago\" or specific timestamp"
        },
        {
          "step": 6,
          "action": "Navigate to the acknowledge button",
          "expectedResult": "Screen reader announces \"Acknowledge notification, button\" with clear indication of the button's purpose"
        },
        {
          "step": 7,
          "action": "Activate the acknowledge button using Enter key",
          "expectedResult": "Screen reader announces confirmation: \"Notification acknowledged\" or \"Marked as read\", and notification status changes"
        }
      ],
      "postconditions": [
        "All notification content is accessible to screen reader users",
        "Screen reader announcements are clear, complete, and in logical order",
        "Notification status (read/unread) is announced correctly",
        "ARIA labels and live regions are properly implemented for dynamic content",
        "User can fully understand and interact with notifications using screen reader alone"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Verify ARIA live region announces new notifications in real-time without requiring page refresh",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "Screen reader software is active (NVDA, JAWS, or VoiceOver)",
        "User is logged into the system and on the dashboard page",
        "User has notification preferences enabled",
        "No unread notifications currently exist",
        "ARIA live region is implemented for notification announcements"
      ],
      "steps": [
        {
          "step": 1,
          "action": "With screen reader active, remain on the dashboard page without interacting with any elements",
          "expectedResult": "User is idle on the dashboard, screen reader is in browse mode"
        },
        {
          "step": 2,
          "action": "Have another administrator or automated process modify the user's schedule (change appointment time)",
          "expectedResult": "Schedule change is saved in the system and notification is generated"
        },
        {
          "step": 3,
          "action": "Wait up to 1 minute without refreshing the page or navigating away",
          "expectedResult": "Screen reader automatically announces the new notification via ARIA live region: \"New notification: Your appointment [name] has been changed from [old time] to [new time]\" without user interaction"
        },
        {
          "step": 4,
          "action": "Observe the notification icon in the navigation bar",
          "expectedResult": "Notification badge updates to show \"1\" unread notification, and this change is announced by screen reader: \"Notifications, 1 unread\""
        },
        {
          "step": 5,
          "action": "Navigate to the notification icon using Tab key",
          "expectedResult": "Screen reader announces current state: \"Notifications, 1 unread, button\""
        },
        {
          "step": 6,
          "action": "Open notification center and verify the new notification is present",
          "expectedResult": "Notification center opens with the new schedule change notification visible and accessible"
        }
      ],
      "postconditions": [
        "ARIA live region successfully announces new notifications in real-time",
        "Screen reader users are immediately informed of schedule changes without manual checking",
        "Live region uses appropriate politeness level (aria-live=\"polite\" or \"assertive\")",
        "Notification badge count updates dynamically and is announced",
        "No page refresh is required for notification awareness"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Verify notification center and email notifications meet WCAG 2.1 color contrast requirements",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged into the system",
        "User has at least one unread schedule change notification",
        "Color contrast analyzer tool is available (e.g., browser extension or standalone tool)",
        "Email notification has been received in user's inbox"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Open the notification center and locate an unread notification",
          "expectedResult": "Unread notification is displayed with distinct visual styling"
        },
        {
          "step": 2,
          "action": "Use color contrast analyzer to measure the contrast ratio between notification text and background",
          "expectedResult": "Contrast ratio is at least 4.5:1 for normal text (14pt or smaller) or 3:1 for large text (18pt or larger), meeting WCAG 2.1 AA standards"
        },
        {
          "step": 3,
          "action": "Measure the contrast ratio between the unread notification indicator (badge, dot, or highlight) and its background",
          "expectedResult": "Contrast ratio is at least 3:1 for non-text UI components, meeting WCAG 2.1 AA standards"
        },
        {
          "step": 4,
          "action": "Check the notification timestamp text contrast against its background",
          "expectedResult": "Timestamp text has contrast ratio of at least 4.5:1, ensuring readability"
        },
        {
          "step": 5,
          "action": "Open the email notification in the inbox and measure text contrast",
          "expectedResult": "Email notification body text has contrast ratio of at least 4.5:1 against background"
        },
        {
          "step": 6,
          "action": "Verify that schedule change details (old time vs. new time) are not conveyed by color alone",
          "expectedResult": "Changes are indicated by text labels, icons, or formatting in addition to any color coding (e.g., \"Changed from\" and \"Changed to\" labels)"
        },
        {
          "step": 7,
          "action": "Test notification center in high contrast mode (Windows High Contrast or browser extension)",
          "expectedResult": "All notification content remains visible and readable in high contrast mode"
        }
      ],
      "postconditions": [
        "All text in notification center meets WCAG 2.1 AA contrast requirements (4.5:1 minimum)",
        "Non-text UI components meet 3:1 contrast requirement",
        "Information is not conveyed by color alone",
        "Notifications remain accessible in high contrast mode",
        "Email notifications meet the same contrast standards"
      ]
    },
    {
      "id": "TC-ACCE-005",
      "title": "Verify notification center remains fully functional and readable at 200% browser zoom level",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged into the system using a desktop browser (Chrome, Firefox, or Edge)",
        "Browser zoom level is set to 100% (default)",
        "User has at least 5 unread schedule change notifications",
        "Screen resolution is set to 1920x1080 or higher"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Open the notification center at 100% zoom and verify all content is visible",
          "expectedResult": "Notification center displays correctly with all 5 notifications visible and readable"
        },
        {
          "step": 2,
          "action": "Increase browser zoom to 200% using Ctrl + Plus (Windows/Linux) or Cmd + Plus (Mac)",
          "expectedResult": "Browser zoom increases to 200%, page content scales proportionally"
        },
        {
          "step": 3,
          "action": "Click the notification icon to open the notification center",
          "expectedResult": "Notification center opens and is fully visible without horizontal scrolling required for the main content"
        },
        {
          "step": 4,
          "action": "Verify all notification text is readable and not truncated or overlapping",
          "expectedResult": "All notification titles, timestamps, and schedule change details are fully readable without text cutoff or overlap"
        },
        {
          "step": 5,
          "action": "Scroll through the notification list using mouse wheel or keyboard",
          "expectedResult": "Vertical scrolling works smoothly, all notifications are accessible, and no content is hidden or inaccessible"
        },
        {
          "step": 6,
          "action": "Click on a notification to view full details",
          "expectedResult": "Notification detail view opens and displays all content without requiring horizontal scrolling"
        },
        {
          "step": 7,
          "action": "Navigate to and click the 'Acknowledge' button",
          "expectedResult": "Button is fully visible, clickable, and functions correctly at 200% zoom"
        },
        {
          "step": 8,
          "action": "Test at 150% and 175% zoom levels as well",
          "expectedResult": "Notification center remains fully functional and readable at all zoom levels between 100% and 200%"
        }
      ],
      "postconditions": [
        "Notification center is fully functional at 200% zoom without loss of functionality",
        "No horizontal scrolling is required to view notification content",
        "All text remains readable and properly sized",
        "Interactive elements (buttons, links) remain accessible and clickable",
        "Layout adapts responsively to increased zoom levels"
      ]
    },
    {
      "id": "TC-ACCE-006",
      "title": "Verify focus management and focus trap prevention when notification modal or panel opens",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged into the system",
        "User has at least one unread schedule change notification",
        "Keyboard is the primary input device",
        "Notification center opens as a modal dialog or overlay panel"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the notification icon using Tab key from the page header",
          "expectedResult": "Notification icon receives visible focus indicator"
        },
        {
          "step": 2,
          "action": "Press Enter key to open the notification center modal/panel",
          "expectedResult": "Notification center opens and focus automatically moves to the first focusable element inside (close button, first notification, or modal heading)"
        },
        {
          "step": 3,
          "action": "Press Tab key repeatedly to navigate through all focusable elements within the notification center",
          "expectedResult": "Focus moves sequentially through: close button, notification items, acknowledge buttons, and any other interactive elements within the modal"
        },
        {
          "step": 4,
          "action": "Continue pressing Tab after reaching the last focusable element in the notification center",
          "expectedResult": "Focus cycles back to the first focusable element within the modal (focus is trapped within the modal while it's open)"
        },
        {
          "step": 5,
          "action": "Press Shift + Tab to navigate backwards through focusable elements",
          "expectedResult": "Focus moves in reverse order through all interactive elements, and when reaching the first element, cycles to the last element (reverse focus trap)"
        },
        {
          "step": 6,
          "action": "Press Escape key to close the notification center",
          "expectedResult": "Notification center closes and focus returns to the notification icon that originally opened it"
        },
        {
          "step": 7,
          "action": "Reopen the notification center, navigate to the close button using Tab, and press Enter",
          "expectedResult": "Notification center closes and focus returns to the notification icon"
        },
        {
          "step": 8,
          "action": "Verify that focus never moves to elements behind the modal while it's open",
          "expectedResult": "Background page elements are not focusable while modal is open (inert or aria-hidden applied to background)"
        }
      ],
      "postconditions": [
        "Focus is properly trapped within the notification modal when open",
        "Focus returns to the triggering element (notification icon) when modal closes",
        "Background content is not accessible via keyboard while modal is open",
        "Escape key successfully closes the modal and restores focus",
        "Focus management follows WCAG 2.1 and ARIA Authoring Practices guidelines"
      ]
    }
  ],
  "performance": [
    {
      "id": "PERF-LOAD-001",
      "title": "Validate notification delivery performance under peak concurrent schedule changes",
      "category": "performance",
      "subCategory": "Load Testing",
      "priority": "Critical",
      "description": "Test the notification system's ability to detect schedule changes and deliver notifications within the 1-minute SLA when 10,000 concurrent users experience schedule modifications simultaneously. Validate response times, throughput, and resource utilization under peak load conditions.",
      "preconditions": [
        "Notification service is deployed and operational",
        "10,000 test user accounts are provisioned with active schedules",
        "Email and in-app notification channels are configured",
        "Performance monitoring tools are configured (APM, database monitoring)",
        "Baseline metrics are established for normal load"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Configure load testing tool (JMeter/K6) to simulate 10,000 concurrent schedule changes via API endpoint /api/schedules/update",
          "expectedResult": "Load test configuration is validated and ready to execute"
        },
        {
          "step": 2,
          "action": "Execute load test with ramp-up period of 5 minutes to reach 10,000 concurrent users, sustain load for 30 minutes",
          "expectedResult": "All 10,000 schedule changes are successfully processed without errors"
        },
        {
          "step": 3,
          "action": "Monitor notification dispatch latency from schedule change detection to notification sent event",
          "expectedResult": "P95 notification delivery time ≤ 60 seconds, P99 ≤ 90 seconds, P50 ≤ 30 seconds"
        },
        {
          "step": 4,
          "action": "Measure API endpoint /api/notifications/send throughput and response times",
          "expectedResult": "Throughput ≥ 500 TPS, API response time P95 ≤ 200ms, error rate < 0.1%"
        },
        {
          "step": 5,
          "action": "Monitor system resource utilization (CPU, memory, database connections, message queue depth)",
          "expectedResult": "CPU utilization < 70%, memory utilization < 80%, database connection pool < 85% capacity, message queue lag < 10 seconds"
        },
        {
          "step": 6,
          "action": "Verify 95% of test users received notifications within 1 minute by querying notification delivery logs",
          "expectedResult": "≥ 95% of notifications delivered within 60 seconds, meeting success criteria"
        }
      ],
      "postconditions": [
        "All test notifications are delivered successfully",
        "System returns to normal resource utilization within 5 minutes",
        "No memory leaks or resource exhaustion detected",
        "Performance metrics are captured and logged for analysis"
      ],
      "testData": "10,000 user profiles with unique schedule IDs, varied schedule change types (time modification, cancellation, rescheduling), distributed across different time zones",
      "toolsRequired": [
        "Apache JMeter or K6",
        "Application Performance Monitoring (New Relic/Datadog)",
        "Database monitoring tool",
        "Message queue monitoring (RabbitMQ/Kafka dashboard)",
        "Log aggregation tool (ELK/Splunk)"
      ],
      "estimatedTime": "90 minutes",
      "automationFeasibility": "High",
      "riskScore": null,
      "complianceTag": null
    },
    {
      "id": "PERF-SPIKE-001",
      "title": "Validate notification system resilience during sudden traffic spike from mass schedule update",
      "category": "performance",
      "subCategory": "Spike Testing",
      "priority": "Critical",
      "description": "Test the system's ability to handle a sudden spike from 100 to 15,000 concurrent schedule changes within 30 seconds (simulating a mass schedule update event like weather cancellation). Validate auto-scaling capabilities, queue management, and graceful handling without service degradation.",
      "preconditions": [
        "Auto-scaling policies are configured for notification service (horizontal pod autoscaling)",
        "Message queue system is configured with appropriate capacity",
        "15,000 test user accounts are ready",
        "Monitoring and alerting systems are active",
        "Circuit breaker patterns are implemented"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Establish baseline load with 100 concurrent users making schedule changes",
          "expectedResult": "System operates normally with P95 notification delivery < 30 seconds"
        },
        {
          "step": 2,
          "action": "Trigger sudden spike to 15,000 concurrent schedule changes within 30 seconds using load testing tool",
          "expectedResult": "All 15,000 schedule change requests are accepted by the system (HTTP 200/202 responses)"
        },
        {
          "step": 3,
          "action": "Monitor auto-scaling behavior and instance count during spike",
          "expectedResult": "Auto-scaling triggers within 60 seconds, additional instances provisioned to handle load, target instance count reached within 3 minutes"
        },
        {
          "step": 4,
          "action": "Track message queue depth and processing rate during spike period",
          "expectedResult": "Message queue depth increases but remains manageable (< 50,000 messages), no message loss, processing rate increases proportionally with scaling"
        },
        {
          "step": 5,
          "action": "Measure notification delivery times during and after spike",
          "expectedResult": "During spike: P95 ≤ 5 minutes, P99 ≤ 8 minutes; After stabilization (10 min): P95 returns to ≤ 60 seconds, error rate < 1%"
        },
        {
          "step": 6,
          "action": "Verify system recovery by reducing load back to 100 users and monitoring scale-down behavior",
          "expectedResult": "System scales down gracefully within 10 minutes, all queued notifications are processed, no notifications lost"
        }
      ],
      "postconditions": [
        "All 15,000 notifications are eventually delivered",
        "System successfully scales back to baseline capacity",
        "No service crashes or unhandled exceptions",
        "Message queue is cleared within 15 minutes of spike end"
      ],
      "testData": "15,000 user profiles, mass schedule update scenario (e.g., facility closure affecting multiple users), timestamp data for delivery tracking",
      "toolsRequired": [
        "K6 or Gatling for spike simulation",
        "Kubernetes metrics server (for auto-scaling validation)",
        "Message queue monitoring dashboard",
        "APM tool with real-time alerting",
        "Cloud provider monitoring (AWS CloudWatch/Azure Monitor)"
      ],
      "estimatedTime": "60 minutes",
      "automationFeasibility": "High",
      "riskScore": null,
      "complianceTag": null
    },
    {
      "id": "PERF-SOAK-001",
      "title": "Validate notification system stability and resource management over 24-hour continuous operation",
      "category": "performance",
      "subCategory": "Endurance Testing",
      "priority": "High",
      "description": "Execute a 24-hour endurance test with sustained load of 5,000 concurrent users experiencing periodic schedule changes to identify memory leaks, resource exhaustion, database connection issues, and degradation in notification delivery performance over extended operation.",
      "preconditions": [
        "Notification system is deployed in production-like environment",
        "5,000 test user accounts are provisioned",
        "Sufficient infrastructure resources allocated for 24-hour test",
        "Monitoring dashboards configured for long-term metric collection",
        "Database maintenance windows are not scheduled during test period"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Configure endurance test with 5,000 concurrent users, each experiencing 2-3 schedule changes per hour randomly distributed over 24 hours",
          "expectedResult": "Test configuration generates approximately 240,000-360,000 total schedule changes over 24 hours"
        },
        {
          "step": 2,
          "action": "Start endurance test and monitor notification delivery performance metrics every hour",
          "expectedResult": "Initial baseline: P95 delivery time ≤ 60 seconds, throughput stable at ~350 TPS, error rate < 0.1%"
        },
        {
          "step": 3,
          "action": "Monitor memory utilization trends across all notification service instances hourly",
          "expectedResult": "Memory utilization remains stable (< 80%), no continuous upward trend indicating memory leaks, garbage collection frequency remains consistent"
        },
        {
          "step": 4,
          "action": "Track database connection pool usage and query performance degradation over 24 hours",
          "expectedResult": "Database connections remain within pool limits, no connection leaks, query response times remain consistent (variance < 15% from baseline)"
        },
        {
          "step": 5,
          "action": "Monitor message queue performance and dead letter queue accumulation",
          "expectedResult": "Message processing rate remains consistent, dead letter queue accumulation < 0.5% of total messages, no queue overflow events"
        },
        {
          "step": 6,
          "action": "Compare performance metrics at hour 1, 8, 16, and 24 for degradation analysis",
          "expectedResult": "P95 notification delivery time degradation < 10% from baseline, throughput variance < 5%, no service restarts required, 95% SLA maintained throughout 24-hour period"
        },
        {
          "step": 7,
          "action": "Analyze logs for errors, exceptions, and warning patterns over the test duration",
          "expectedResult": "No critical errors, exception rate remains stable, no cascading failures or timeout patterns emerging"
        }
      ],
      "postconditions": [
        "System remains operational after 24-hour test",
        "All notifications are successfully delivered",
        "No manual intervention required during test period",
        "Performance metrics return to baseline after test completion",
        "Detailed endurance test report generated with trend analysis"
      ],
      "testData": "5,000 user profiles with varied schedule patterns, randomized schedule change events (time shifts, cancellations, additions), distributed across multiple time zones to simulate realistic 24-hour usage",
      "toolsRequired": [
        "JMeter or K6 with endurance test configuration",
        "APM tool with 24-hour data retention",
        "Memory profiling tool (Java Flight Recorder/dotMemory)",
        "Database performance monitoring",
        "Log aggregation with anomaly detection",
        "Custom scripts for hourly metric snapshots"
      ],
      "estimatedTime": "26 hours (24-hour test + 2 hours setup/analysis)",
      "automationFeasibility": "High",
      "riskScore": null,
      "complianceTag": null
    }
  ],
  "security": [
    {
      "id": "SEC-INFO-001",
      "title": "Verify notification content does not expose sensitive information of other users through IDOR vulnerability",
      "category": "security",
      "subCategory": "STRIDE-Information Disclosure",
      "priority": "Critical",
      "description": "Test for Insecure Direct Object Reference (IDOR) vulnerability where an authenticated user can manipulate notification IDs or parameters to access schedule change notifications belonging to other users, potentially exposing sensitive appointment details, personal schedules, and confidential meeting information.",
      "preconditions": [
        "Two user accounts exist in the system (User A and User B)",
        "Both users have active schedules with recent changes",
        "Both users are authenticated and have received notifications",
        "Notification IDs or access tokens are observable in API requests or URLs"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Log in as User A and trigger a schedule change to generate a notification",
          "expectedResult": "User A receives notification with unique notification ID (e.g., notif_12345)"
        },
        {
          "step": 2,
          "action": "Capture the API request to /api/notifications/send or notification retrieval endpoint and note the notification ID structure",
          "expectedResult": "API request structure is documented, showing notification ID parameter"
        },
        {
          "step": 3,
          "action": "Log in as User B and trigger a separate schedule change to generate a different notification",
          "expectedResult": "User B receives notification with different notification ID (e.g., notif_12346)"
        },
        {
          "step": 4,
          "action": "While authenticated as User B, attempt to access User A's notification by manipulating the notification ID parameter (e.g., changing notif_12346 to notif_12345 in API request)",
          "expectedResult": "System returns 403 Forbidden or 404 Not Found error, preventing unauthorized access to User A's notification"
        },
        {
          "step": 5,
          "action": "Attempt sequential notification ID enumeration (notif_12344, notif_12343, etc.) to access multiple users' notifications",
          "expectedResult": "All unauthorized access attempts are blocked with proper error codes and logged as security events"
        },
        {
          "step": 6,
          "action": "Verify that notification content in email and in-app alerts does not contain other users' schedule details or PII",
          "expectedResult": "Each notification contains only the authenticated user's own schedule information with no data leakage"
        }
      ],
      "postconditions": [
        "All unauthorized access attempts are logged in security audit trail",
        "No sensitive information from other users is exposed",
        "User sessions remain valid and unaffected"
      ],
      "testData": "User A: userA@test.com, schedule change at 2024-01-15 10:00 AM; User B: userB@test.com, schedule change at 2024-01-15 10:05 AM; Notification IDs: sequential or UUID-based identifiers",
      "toolsRequired": [
        "Burp Suite or OWASP ZAP for request interception",
        "Postman or cURL for API testing",
        "Browser developer tools for network inspection"
      ],
      "estimatedTime": "45 minutes",
      "automationFeasibility": "High",
      "riskScore": 8.4,
      "complianceTag": "OWASP-A01, STRIDE-Information-Disclosure"
    },
    {
      "id": "SEC-AUTH-002",
      "title": "Verify notification API endpoint enforces proper authentication and prevents unauthorized access to notification system",
      "category": "security",
      "subCategory": "STRIDE-Spoofing",
      "priority": "Critical",
      "description": "Test authentication mechanisms on the /api/notifications/send endpoint to ensure that unauthenticated users cannot access, trigger, or view notifications. Validate that authentication tokens are properly validated, cannot be bypassed, and that session management is secure against spoofing attacks.",
      "preconditions": [
        "Notification API endpoint /api/notifications/send is accessible",
        "Valid user account exists with active schedule",
        "Authentication mechanism (JWT, OAuth, session tokens) is implemented",
        "Test environment allows API testing tools"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Attempt to access /api/notifications/send endpoint without any authentication credentials or tokens",
          "expectedResult": "System returns 401 Unauthorized error and denies access to the endpoint"
        },
        {
          "step": 2,
          "action": "Attempt to access the endpoint with an expired authentication token",
          "expectedResult": "System returns 401 Unauthorized error with message indicating token expiration"
        },
        {
          "step": 3,
          "action": "Attempt to access the endpoint with a malformed or tampered authentication token (modify signature, payload, or header)",
          "expectedResult": "System returns 401 Unauthorized error and logs the invalid token attempt as a security event"
        },
        {
          "step": 4,
          "action": "Attempt to replay a valid authentication token from a previous session after user logout",
          "expectedResult": "System rejects the token and returns 401 Unauthorized, confirming token invalidation on logout"
        },
        {
          "step": 5,
          "action": "Test for authentication bypass by manipulating request headers (removing auth headers, using empty tokens, or using 'null' values)",
          "expectedResult": "All bypass attempts fail with 401 Unauthorized responses"
        },
        {
          "step": 6,
          "action": "Verify that notification viewing endpoints require authentication and validate user identity matches notification recipient",
          "expectedResult": "Only authenticated users can view their own notifications; cross-user access is prevented"
        }
      ],
      "postconditions": [
        "All unauthorized access attempts are logged with timestamps and source IPs",
        "No notifications are sent or accessed without valid authentication",
        "System security posture remains intact"
      ],
      "testData": "Valid JWT token, expired token (timestamp > expiry), tampered token (modified signature), null/empty token values",
      "toolsRequired": [
        "Postman or cURL for API requests",
        "JWT.io or similar tool for token manipulation",
        "Burp Suite for request interception and modification"
      ],
      "estimatedTime": "40 minutes",
      "automationFeasibility": "High",
      "riskScore": 9.2,
      "complianceTag": "OWASP-A07, STRIDE-Spoofing"
    },
    {
      "id": "SEC-INJ-003",
      "title": "Verify notification system is protected against XSS injection attacks in schedule change content and notification messages",
      "category": "security",
      "subCategory": "OWASP-A03-Injection",
      "priority": "Critical",
      "description": "Test for Cross-Site Scripting (XSS) vulnerabilities in the notification system by injecting malicious scripts into schedule change data fields. Verify that user-supplied content in schedule descriptions, meeting titles, or location fields is properly sanitized before being displayed in email and in-app notifications to prevent stored and reflected XSS attacks.",
      "preconditions": [
        "User account with permission to create/modify schedule entries",
        "Notification system is active and configured for email and in-app alerts",
        "Test environment allows schedule modification",
        "Access to view rendered notifications in both email and in-app formats"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Create a schedule entry with XSS payload in the meeting title field: '<script>alert(\"XSS\")</script>Meeting Title'",
          "expectedResult": "System accepts the input and stores the schedule entry"
        },
        {
          "step": 2,
          "action": "Modify the schedule entry to trigger a notification and observe the email notification content",
          "expectedResult": "Email notification displays sanitized content with script tags encoded or stripped (e.g., '&lt;script&gt;alert(\"XSS\")&lt;/script&gt;Meeting Title' or 'Meeting Title'), script does not execute"
        },
        {
          "step": 3,
          "action": "View the in-app notification and verify the XSS payload is properly sanitized in the UI",
          "expectedResult": "In-app notification renders safe content without executing JavaScript; no alert popup appears"
        },
        {
          "step": 4,
          "action": "Test additional XSS vectors in schedule description field: '<img src=x onerror=alert(\"XSS\")>', '<svg/onload=alert(\"XSS\")>', and event handler payloads",
          "expectedResult": "All XSS payloads are neutralized through proper output encoding or Content Security Policy; no scripts execute"
        },
        {
          "step": 5,
          "action": "Test for stored XSS by creating a malicious schedule entry, then having another user view the notification",
          "expectedResult": "Second user receives sanitized notification with no script execution, confirming protection against stored XSS"
        },
        {
          "step": 6,
          "action": "Verify that notification API responses include proper Content-Type headers (application/json) and security headers (X-Content-Type-Options: nosniff, X-XSS-Protection)",
          "expectedResult": "All security headers are present in API responses to prevent MIME-type sniffing and enable browser XSS protection"
        }
      ],
      "postconditions": [
        "No malicious scripts are executed in any notification context",
        "Schedule data remains intact with sanitized content",
        "Security logs capture input validation events if applicable"
      ],
      "testData": "XSS payloads: '<script>alert(\"XSS\")</script>', '<img src=x onerror=alert(1)>', '<svg/onload=alert(1)>', '\" onmouseover=\"alert(1)\"', 'javascript:alert(1)'",
      "toolsRequired": [
        "Browser developer tools for inspecting rendered content",
        "Burp Suite or OWASP ZAP for payload injection",
        "Email client for testing email notification rendering"
      ],
      "estimatedTime": "50 minutes",
      "automationFeasibility": "Medium",
      "riskScore": 7.8,
      "complianceTag": "OWASP-A03, STRIDE-Tampering"
    }
  ],
  "usability": [
    {
      "id": "UX-H01-001",
      "title": "Verify real-time visibility of notification delivery status and schedule change details",
      "category": "usability",
      "subCategory": "Nielsen-H01-Visibility of System Status",
      "priority": "Critical",
      "description": "Test whether users receive clear, immediate feedback when a schedule change occurs, including what changed, when the notification was sent, and confirmation of delivery across channels (email and in-app). This validates that users are never left wondering if the system detected the change or if notifications were sent.",
      "preconditions": [
        "User account is active with valid email address",
        "User has at least one scheduled appointment in the system",
        "User is logged into the application",
        "Notification preferences are enabled for schedule changes"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Trigger a schedule change by modifying an existing appointment (change time from 2:00 PM to 3:00 PM)",
          "expectedResult": "System immediately displays a visual indicator (loading spinner or progress bar) showing change is being processed"
        },
        {
          "step": 2,
          "action": "Observe the in-app notification area within 1 minute of the change",
          "expectedResult": "In-app notification appears with clear badge/counter, timestamp of when notification was sent, and specific details of what changed (Original: 2:00 PM → New: 3:00 PM)"
        },
        {
          "step": 3,
          "action": "Click on the in-app notification to view full details",
          "expectedResult": "Notification expands showing: appointment name, old vs new schedule details, reason for change (if available), and delivery status indicators for both email and in-app channels"
        },
        {
          "step": 4,
          "action": "Check email inbox for corresponding notification",
          "expectedResult": "Email notification received within 1 minute with matching timestamp, clear subject line indicating schedule change, and formatted content showing before/after comparison"
        },
        {
          "step": 5,
          "action": "Navigate to notification history/past notifications section",
          "expectedResult": "All notifications are listed chronologically with read/unread status, timestamps, and ability to filter by type (schedule changes)"
        }
      ],
      "postconditions": [
        "User has clear understanding of what changed in their schedule",
        "System maintains audit trail of all notifications sent",
        "Recommendation: Implement real-time delivery status indicators (Sent, Delivered, Read) for both channels",
        "Recommendation: Add visual timeline showing original vs updated schedule side-by-side",
        "Recommendation: Include progress indicator during notification generation process"
      ],
      "testData": "Appointment: 'Team Meeting', Original Time: 2:00 PM, New Time: 3:00 PM, Date: Current date + 2 days, User Email: testuser@example.com",
      "toolsRequired": [
        "Email client access",
        "Browser developer tools for timestamp verification",
        "Screen recording tool for documentation"
      ],
      "estimatedTime": "25 minutes",
      "automationFeasibility": "Medium",
      "riskScore": 4,
      "complianceTag": "Nielsen-H01-Visibility"
    },
    {
      "id": "UX-H03-002",
      "title": "Validate user control over notification preferences and ability to undo/manage notification settings",
      "category": "usability",
      "subCategory": "Nielsen-H03-User Control and Freedom",
      "priority": "High",
      "description": "Test whether users have adequate control over their notification experience, including the ability to customize notification channels, snooze notifications, mark as read/unread, dismiss notifications, and easily revert preference changes. This ensures users feel in control rather than overwhelmed by system-generated alerts.",
      "preconditions": [
        "User is logged into the application",
        "User has received at least 2-3 schedule change notifications",
        "Notification settings page is accessible from main navigation",
        "Default notification settings are enabled (both email and in-app)"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to notification settings/preferences page",
          "expectedResult": "Settings page loads showing clear toggles for email notifications and in-app alerts with current state (ON/OFF) clearly visible"
        },
        {
          "step": 2,
          "action": "Disable email notifications while keeping in-app alerts enabled, then save changes",
          "expectedResult": "System displays confirmation message 'Settings saved successfully' with option to undo within 5-10 seconds, and shows updated preference state immediately"
        },
        {
          "step": 3,
          "action": "Trigger a new schedule change and verify notification delivery",
          "expectedResult": "Only in-app notification is received, no email sent, confirming preference change took effect"
        },
        {
          "step": 4,
          "action": "From the in-app notification, test dismiss/snooze functionality",
          "expectedResult": "Notification provides clear options: 'Dismiss', 'Snooze (15 min, 1 hour, custom)', 'Mark as Read'. Each action is reversible from notification history"
        },
        {
          "step": 5,
          "action": "Access notification history and attempt to mark a read notification as unread",
          "expectedResult": "Context menu or action button allows toggling read/unread status, with visual indicator (bold text, blue dot) updating immediately"
        },
        {
          "step": 6,
          "action": "Return to settings and re-enable email notifications using the 'Restore defaults' option",
          "expectedResult": "All notification channels reset to default state with confirmation dialog asking 'Are you sure you want to restore default settings?'"
        }
      ],
      "postconditions": [
        "User preferences are persisted across sessions",
        "All notification actions are reversible",
        "Recommendation: Add 'Undo' button that appears for 10 seconds after preference changes",
        "Recommendation: Implement notification grouping/batching option for users who receive frequent updates",
        "Recommendation: Provide 'Do Not Disturb' schedule feature for specific time periods",
        "Recommendation: Add export functionality to download notification history"
      ],
      "testData": "User preferences: Email ON/OFF toggle, In-app ON/OFF toggle, Snooze durations: 15min, 1hr, 4hr, custom",
      "toolsRequired": [
        "Browser with multiple tabs for testing preference persistence",
        "Timer for snooze functionality validation"
      ],
      "estimatedTime": "30 minutes",
      "automationFeasibility": "High",
      "riskScore": 3,
      "complianceTag": "Nielsen-H03-Control"
    },
    {
      "id": "UX-H06-003",
      "title": "Assess recognition vs recall by evaluating visibility of notification context and schedule information",
      "category": "usability",
      "subCategory": "Nielsen-H06-Recognition Rather Than Recall",
      "priority": "High",
      "description": "Test whether users can understand and act on notifications without needing to remember previous schedule details or navigate away to find context. Notifications should contain all necessary information (what, when, where, why) to make informed decisions without relying on user memory or requiring additional lookups.",
      "preconditions": [
        "User has multiple appointments scheduled across different dates",
        "At least one appointment has location, attendees, and description details",
        "User is logged into the application",
        "Schedule change occurs for an appointment scheduled 3+ days in the future"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Trigger a schedule change for an appointment with full details (title, date, time, location, attendees, description)",
          "expectedResult": "Notification is generated and delivered to user via both channels"
        },
        {
          "step": 2,
          "action": "View the in-app notification without clicking through to the full appointment details",
          "expectedResult": "Notification displays: appointment title, before/after comparison (date, time), location, list of attendees, reason for change, and quick action buttons ('View Full Details', 'Accept Change', 'Decline')"
        },
        {
          "step": 3,
          "action": "Evaluate whether user can understand the impact of the change from notification alone",
          "expectedResult": "All critical information is visible: what changed (highlighted in different color), impact on user's schedule (conflicts flagged if any), and who initiated the change"
        },
        {
          "step": 4,
          "action": "Open email notification and assess information completeness",
          "expectedResult": "Email contains identical information as in-app notification with formatted before/after table, calendar attachment (.ics file), and direct link to appointment in system"
        },
        {
          "step": 5,
          "action": "From notification history, select a week-old notification and verify context is still clear",
          "expectedResult": "Historical notifications retain all original details, show current status (change accepted/declined), and provide link to current appointment state with change history"
        },
        {
          "step": 6,
          "action": "Test notification for a recurring appointment change",
          "expectedResult": "Notification clearly indicates: 'This is a recurring appointment', scope of change (this instance only vs all future instances), and visual calendar preview showing affected dates"
        }
      ],
      "postconditions": [
        "Users can make informed decisions without leaving notification interface",
        "No need to navigate to calendar or appointment details for basic information",
        "Recommendation: Add inline mini-calendar widget showing before/after schedule visualization",
        "Recommendation: Include conflict detection with visual warning if new time overlaps with another appointment",
        "Recommendation: Provide one-click actions directly from notification (Accept/Decline/Propose Alternative)",
        "Recommendation: Show related notifications grouped together (e.g., all changes for same appointment)",
        "Recommendation: Add contextual help tooltips explaining what each field means"
      ],
      "testData": "Appointment: 'Project Review Meeting', Original: Mon 2:00 PM, Conference Room A, Attendees: John, Sarah, Mike, New: Tue 3:30 PM, Conference Room B, Reason: Room conflict",
      "toolsRequired": [
        "Test accounts for multiple users to simulate attendee list",
        "Calendar application to test .ics file attachment",
        "Screen reader for accessibility validation"
      ],
      "estimatedTime": "35 minutes",
      "automationFeasibility": "Medium",
      "riskScore": 3,
      "complianceTag": "Nielsen-H06-Recognition"
    }
  ],
  "reliability": [
    {
      "id": "REL-CHAOS-001",
      "title": "Notification Service Resilience During Database Connection Failure with Circuit Breaker Validation",
      "category": "reliability",
      "subCategory": "Chaos Engineering - Database Failure Injection",
      "priority": "Critical",
      "description": "Validate system resilience when the schedule database becomes unavailable during a schedule change event. Test circuit breaker activation, graceful degradation, notification queuing, and automatic recovery once database connectivity is restored. Verify notifications are not lost and are delivered within SLO after recovery.",
      "preconditions": [
        "Notification service is operational with circuit breaker configured",
        "Schedule database is accessible and healthy",
        "Message queue (notification queue) is operational",
        "At least 5 active users with scheduled appointments",
        "Monitoring and alerting systems are active",
        "Circuit breaker thresholds: 5 failures in 10 seconds triggers OPEN state"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Establish baseline steady state: Verify notification delivery time is < 60 seconds for schedule changes",
          "expectedResult": "Baseline metrics captured: 100% notification delivery within 60 seconds, MTBF > 720 hours"
        },
        {
          "step": 2,
          "action": "Inject chaos: Terminate database connections using chaos engineering tool (e.g., Gremlin, Chaos Monkey) to simulate database failure",
          "expectedResult": "Database becomes unavailable, connection attempts fail with timeout errors"
        },
        {
          "step": 3,
          "action": "Trigger 10 schedule change events across different user accounts during database outage",
          "expectedResult": "Circuit breaker transitions to OPEN state after 5 failed attempts. Notifications are queued in message queue instead of being dropped. Error logs generated with appropriate severity"
        },
        {
          "step": 4,
          "action": "Monitor system behavior: Check service health endpoints, circuit breaker state, and notification queue depth",
          "expectedResult": "Service remains operational (no crash). Circuit breaker status = OPEN. 10 notifications queued. No memory leaks detected. CPU usage remains < 80%"
        },
        {
          "step": 5,
          "action": "Restore database connectivity after 5 minutes of downtime",
          "expectedResult": "Database connection restored successfully. Circuit breaker transitions to HALF-OPEN state"
        },
        {
          "step": 6,
          "action": "Observe automatic recovery: Monitor circuit breaker state transitions and queued notification processing",
          "expectedResult": "Circuit breaker transitions from HALF-OPEN to CLOSED after 3 successful requests. All 10 queued notifications are processed and delivered within 2 minutes of recovery (MTTR < 7 minutes total)"
        },
        {
          "step": 7,
          "action": "Validate notification delivery: Verify all users received notifications via email and in-app alerts with correct schedule change details",
          "expectedResult": "100% notification delivery success. No duplicate notifications. Notification content is accurate. Total system downtime for notification feature = 0 (degraded mode maintained availability)"
        },
        {
          "step": 8,
          "action": "Verify SLO compliance: Calculate availability percentage and recovery metrics",
          "expectedResult": "Availability: 100% (service remained available in degraded mode). RTO: < 7 minutes. RPO: 0 (no data loss). MTTR: < 7 minutes meets SLO target"
        }
      ],
      "postconditions": [
        "All services restored to normal operation",
        "Circuit breaker in CLOSED state",
        "Notification queue is empty",
        "No orphaned notifications in the system",
        "Incident logged with root cause analysis"
      ],
      "testData": "User IDs: U001-U005; Schedule changes: 10 different appointment modifications (time changes, cancellations, additions); Database: PostgreSQL connection string; Circuit breaker config: failure_threshold=5, timeout=10s, half_open_max_requests=3",
      "toolsRequired": [
        "Chaos Engineering tool (Gremlin, Chaos Monkey, or Litmus)",
        "Database monitoring tool (DataDog, New Relic)",
        "Message queue monitoring (RabbitMQ/Kafka dashboard)",
        "Circuit breaker dashboard (Hystrix, Resilience4j)",
        "APM tool for MTTR calculation"
      ],
      "estimatedTime": "45 minutes",
      "automationFeasibility": "High",
      "riskScore": 9,
      "complianceTag": "SLO-Availability-99.9%, RTO-10min, MTTR-10min"
    },
    {
      "id": "REL-DEP-002",
      "title": "Email Service Provider Failure with Retry Logic and Fallback Mechanism Validation",
      "category": "reliability",
      "subCategory": "Dependency Resilience - External API Failure",
      "priority": "Critical",
      "description": "Test system resilience when the external email service provider (e.g., SendGrid, AWS SES) becomes unavailable or returns 5xx errors. Validate exponential backoff retry logic, fallback to secondary email provider, and ensure in-app notifications continue to function. Verify notification delivery guarantees and user experience during partial system degradation.",
      "preconditions": [
        "Primary email service provider (ESP) is configured and operational",
        "Secondary/fallback email service provider is configured",
        "Retry policy configured: 3 attempts with exponential backoff (1s, 2s, 4s)",
        "In-app notification service is independent and operational",
        "10 users with valid email addresses and active sessions",
        "Monitoring alerts configured for ESP failures"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Establish steady state: Trigger 5 schedule changes and verify dual-channel delivery (email + in-app) within 60 seconds",
          "expectedResult": "100% delivery success on both channels. Average delivery time: 15 seconds for email, 5 seconds for in-app"
        },
        {
          "step": 2,
          "action": "Inject failure: Configure primary ESP to return HTTP 503 Service Unavailable errors using API mocking or network proxy",
          "expectedResult": "Primary ESP returns 503 errors for all email send requests"
        },
        {
          "step": 3,
          "action": "Trigger 10 schedule change events during ESP outage",
          "expectedResult": "System attempts to send emails via primary ESP and receives 503 errors. Retry logic initiates with exponential backoff (attempts at T+1s, T+2s, T+4s)"
        },
        {
          "step": 4,
          "action": "Monitor retry behavior and fallback activation after 3 failed attempts",
          "expectedResult": "After 3 failed retry attempts (total 7 seconds), system automatically switches to secondary ESP. Fallback mechanism activates within 10 seconds of initial failure"
        },
        {
          "step": 5,
          "action": "Verify email delivery through secondary ESP and in-app notification delivery",
          "expectedResult": "All 10 emails successfully sent via secondary ESP within 30 seconds of fallback activation. All 10 in-app notifications delivered immediately (< 5 seconds) without interruption. Total email delivery time: < 45 seconds (within degraded SLO)"
        },
        {
          "step": 6,
          "action": "Restore primary ESP to healthy state and trigger 5 new schedule changes",
          "expectedResult": "System detects primary ESP recovery. New notifications route through primary ESP. Delivery time returns to baseline (< 15 seconds)"
        },
        {
          "step": 7,
          "action": "Validate notification audit trail and delivery status for all 15 notifications",
          "expectedResult": "Audit logs show: 5 successful via primary ESP (pre-failure), 10 successful via secondary ESP (during failure), 5 successful via primary ESP (post-recovery). No duplicate emails sent. Delivery status accurately reflects channel used"
        },
        {
          "step": 8,
          "action": "Calculate resilience metrics: availability, MTTR, and user impact",
          "expectedResult": "Email channel availability: 100% (via fallback). In-app channel availability: 100%. MTTR for email channel: < 45 seconds. User impact: 0 missed notifications. SLO compliance: 100% notification delivery maintained"
        }
      ],
      "postconditions": [
        "Primary ESP restored and active",
        "All notifications delivered successfully",
        "No pending retry queues",
        "Fallback mechanism reset to monitor primary ESP",
        "Alert notifications sent to operations team"
      ],
      "testData": "User emails: testuser001@example.com through testuser010@example.com; Schedule changes: appointment time modifications; Primary ESP: SendGrid API; Secondary ESP: AWS SES API; Retry config: max_attempts=3, backoff_multiplier=2, initial_interval=1s",
      "toolsRequired": [
        "API mocking tool (WireMock, Mockoon)",
        "Network proxy (Toxiproxy) for failure injection",
        "Email delivery monitoring tool",
        "Application logs aggregator (ELK, Splunk)",
        "Retry policy monitoring dashboard"
      ],
      "estimatedTime": "40 minutes",
      "automationFeasibility": "High",
      "riskScore": 8,
      "complianceTag": "SLO-Delivery-95%, MTTR-60s"
    },
    {
      "id": "REL-FAIL-003",
      "title": "Message Queue Saturation and Resource Exhaustion Under High Load with Backpressure Validation",
      "category": "reliability",
      "subCategory": "Failure Injection - Resource Exhaustion",
      "priority": "Critical",
      "description": "Validate system behavior when the notification message queue reaches capacity due to sudden spike in schedule changes (1000+ events in 1 minute). Test backpressure mechanisms, queue overflow handling, memory management, and system recovery. Ensure no notification loss and validate priority-based processing during resource constraints.",
      "preconditions": [
        "Message queue (RabbitMQ/Kafka) configured with capacity limit of 500 messages",
        "Notification service configured with backpressure handling",
        "Dead letter queue (DLQ) configured for failed messages",
        "System monitoring for queue depth, memory usage, and CPU utilization",
        "1000 test user accounts with scheduled appointments",
        "Baseline system resources: CPU < 40%, Memory < 60%, Queue depth < 50"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Establish steady state: Process 100 schedule changes and measure queue processing rate and resource utilization",
          "expectedResult": "Queue processing rate: 50 messages/second. CPU: 35%. Memory: 55%. Queue depth peaks at 20 messages. All notifications delivered within 60 seconds"
        },
        {
          "step": 2,
          "action": "Inject load spike: Trigger 1000 simultaneous schedule changes within 60 seconds to saturate the message queue",
          "expectedResult": "Queue depth rapidly increases to 500 (capacity limit). New messages begin to experience backpressure. System detects queue saturation condition"
        },
        {
          "step": 3,
          "action": "Monitor backpressure activation and system behavior under saturation",
          "expectedResult": "Backpressure mechanism activates: producer rate limiting engaged. Queue remains at capacity (500 messages). Overflow messages held in producer buffer (not dropped). CPU increases to 75-85%. Memory increases to 80-85% but remains stable (no memory leak)"
        },
        {
          "step": 4,
          "action": "Observe priority-based processing: Verify critical notifications (cancellations) are processed before non-critical (time changes)",
          "expectedResult": "Message queue processes messages with priority headers. Cancellation notifications processed first. System maintains message ordering within priority levels. No messages moved to DLQ due to capacity issues"
        },
        {
          "step": 5,
          "action": "Monitor queue drain rate and system recovery over 10 minutes",
          "expectedResult": "Queue depth decreases steadily at rate of 50 messages/second. After 10 minutes, queue depth returns to < 50 messages. CPU returns to 40%. Memory stabilizes at 60%. No service crashes or restarts"
        },
        {
          "step": 6,
          "action": "Validate notification delivery completeness: Check all 1000 notifications were processed and delivered",
          "expectedResult": "100% notification delivery success (1000/1000). No messages in DLQ. No duplicate notifications. Average delivery time during spike: 8 minutes (degraded but acceptable). Post-recovery delivery time returns to < 60 seconds"
        },
        {
          "step": 7,
          "action": "Verify data integrity: Audit notification records against schedule change events",
          "expectedResult": "All 1000 schedule changes have corresponding notification records. Notification content matches schedule change details. Timestamps show processing order respected priority rules. No orphaned or corrupted notification records"
        },
        {
          "step": 8,
          "action": "Calculate resilience metrics: RPO, RTO, and system availability during stress event",
          "expectedResult": "RPO: 0 (no data loss). RTO: N/A (system remained available). Availability: 100% (degraded performance but no downtime). MTBF maintained. Peak delivery latency: 10 minutes (within acceptable degraded SLO). System successfully handled 20x normal load"
        }
      ],
      "postconditions": [
        "Message queue depth returned to normal (< 50 messages)",
        "System resources returned to baseline levels",
        "No messages remaining in producer buffers",
        "DLQ is empty (no failed messages)",
        "Backpressure mechanism deactivated",
        "Performance metrics logged for capacity planning"
      ],
      "testData": "1000 schedule change events: 300 cancellations (priority=high), 400 time changes (priority=medium), 300 new appointments (priority=low); User IDs: U0001-U1000; Queue capacity: 500 messages; Processing rate: 50 msg/sec; Backpressure threshold: 450 messages",
      "toolsRequired": [
        "Load generation tool (JMeter, Gatling, Locust)",
        "Message queue monitoring (RabbitMQ Management UI, Kafka Manager)",
        "Resource monitoring (Prometheus, Grafana)",
        "APM tool (New Relic, DataDog)",
        "Log aggregation tool for message tracking"
      ],
      "estimatedTime": "50 minutes",
      "automationFeasibility": "Medium",
      "riskScore": 9,
      "complianceTag": "SLO-Throughput-50msg/s, RPO-0, Availability-99.9%"
    }
  ],
  "selectedTypes": {
    "functional": true,
    "edgeCases": true,
    "negative": true,
    "accessibility": true,
    "performance": true,
    "security": true,
    "usability": true,
    "reliability": true
  },
  "userStoryObject": {
    "id": "ado-14152",
    "title": "As a User, I want to receive notifications for schedule changes to stay informed about my commitments.",
    "description": "<div>CONTEXT &amp; BACKGROUND:\nThis story exists to ensure users are promptly informed of any changes to their schedules, reducing the risk of missed appointments.\n\nCURRENT STATE:\nCurrently, users rely on manual updates, leading to confusion and missed commitments.\n\nDESIRED STATE:\nUsers receive immediate notifications about schedule changes, allowing them to adjust their plans accordingly.\n\nKEY FUNCTIONALITY:\n• Automatic detection of schedule changes\n• Immediate notification dispatch via email and in-app alerts\n• User-friendly notification format\n• Ability to view past notifications\n\nUSER INTERACTION FLOW:\n1. User's schedule is updated in the system.\n2. System detects the change.\n3. Notification is generated and sent to the user.\n4. User receives the notification via email and in-app alert.\n5. User views the notification and adjusts their schedule if necessary.\n\nTECHNICAL CONSIDERATIONS:\n• Data source: Schedule database\n• Validation rules: Ensure notifications are sent only for confirmed schedule changes\n• API endpoints: /api/notifications/send\n• Security: User authentication required for notification access\n• Performance: Notifications sent within 1 minute of schedule change detection.\n\nOUT OF SCOPE:\n• Manual notification processes\n\nSUCCESS METRICS:\n• 95% of users report receiving notifications within 1 minute of schedule changes. </div><br><div><strong>Persona:</strong> User (User) </div>",
    "acceptanceCriteria": "<div><strong>Criteria 1:</strong> System sends notifications to users immediately upon schedule changes. </div><br><div><strong>Criteria 2:</strong> Users receive notifications via both email and in-app alerts. </div><br><div><strong>Criteria 3:</strong> Notifications include details of the schedule change. </div><br><div><strong>Criteria 4:</strong> Users can acknowledge receipt of the notification. </div><br>",
    "adoWorkItemId": 14152,
    "state": "New",
    "assignedTo": "Unassigned",
    "createdDate": "2026-01-29T09:29:21.75Z",
    "priority": 1,
    "storyPoints": 5,
    "tags": "DevX-Automation; TestCases-Generated",
    "epicId": "epic-13802",
    "featureId": "feature-13827",
    "source": "ado",
    "adoUrl": "https://dev.azure.com/QS001/Venus/_workitems/edit/14152"
  }
}