[
  {
    "storyId": "db-story-story-1",
    "storyTitle": "As HR Manager, I want to create shift templates to achieve standardized shift definitions",
    "testCases": [
      {
        "id": "tc-001",
        "title": "System allows creation of shift templates with all required fields and saves successfully",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in with HR Manager role",
          "User has access to shift template management page",
          "ShiftTemplates database table is accessible",
          "No existing templates with conflicting times exist"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template management page",
            "expectedResult": "Shift template management page loads successfully with 'Create New Template' button visible"
          },
          {
            "step": 2,
            "action": "Click on 'Create New Template' button",
            "expectedResult": "New template creation form opens with empty fields for shift start time, end time, break duration, and shift type"
          },
          {
            "step": 3,
            "action": "Enter shift start time as '09:00 AM'",
            "expectedResult": "Start time field accepts the input and displays '09:00 AM'"
          },
          {
            "step": 4,
            "action": "Enter shift end time as '05:00 PM'",
            "expectedResult": "End time field accepts the input and displays '05:00 PM'"
          },
          {
            "step": 5,
            "action": "Enter break duration as '60' minutes",
            "expectedResult": "Break duration field accepts the input and displays '60'"
          },
          {
            "step": 6,
            "action": "Select shift type as 'Day Shift' from dropdown",
            "expectedResult": "Shift type dropdown displays 'Day Shift' as selected value"
          },
          {
            "step": 7,
            "action": "Click 'Save' button",
            "expectedResult": "System validates all inputs, processes the request within 2 seconds, and displays success confirmation message 'Shift template created successfully'"
          },
          {
            "step": 8,
            "action": "Verify the new template appears in the template list",
            "expectedResult": "Newly created template is visible in the shift template list with all entered details displayed correctly"
          }
        ],
        "postconditions": [
          "New shift template is saved in ShiftTemplates database table",
          "Audit log entry is created for template creation action",
          "Template is available for future scheduling operations",
          "User remains on shift template management page"
        ],
        "estimatedTime": "5 mins"
      },
      {
        "id": "tc-002",
        "title": "System validates and rejects overlapping shift times with descriptive error messages",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in with HR Manager role",
          "User has access to shift template management page",
          "An existing shift template exists with time range 09:00 AM to 05:00 PM",
          "ShiftTemplates database contains at least one active template"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template management page",
            "expectedResult": "Shift template management page loads with existing templates displayed"
          },
          {
            "step": 2,
            "action": "Click on 'Create New Template' button",
            "expectedResult": "New template creation form opens with empty input fields"
          },
          {
            "step": 3,
            "action": "Enter shift start time as '08:00 AM'",
            "expectedResult": "Start time field accepts and displays '08:00 AM'"
          },
          {
            "step": 4,
            "action": "Enter shift end time as '10:00 AM' (overlapping with existing 09:00 AM - 05:00 PM template)",
            "expectedResult": "End time field accepts and displays '10:00 AM'"
          },
          {
            "step": 5,
            "action": "Enter break duration as '30' minutes",
            "expectedResult": "Break duration field accepts and displays '30'"
          },
          {
            "step": 6,
            "action": "Select shift type as 'Morning Shift'",
            "expectedResult": "Shift type dropdown displays 'Morning Shift' as selected"
          },
          {
            "step": 7,
            "action": "Click 'Save' button",
            "expectedResult": "System performs validation and displays descriptive error message: 'Cannot create template. Shift times overlap with existing template: Day Shift (09:00 AM - 05:00 PM)'"
          },
          {
            "step": 8,
            "action": "Verify template is not saved",
            "expectedResult": "Template list does not contain the attempted new template, and form remains open with entered data"
          }
        ],
        "postconditions": [
          "No new template is created in the database",
          "Existing templates remain unchanged",
          "User remains on the template creation form to correct the error",
          "Error message is logged in system logs"
        ],
        "estimatedTime": "4 mins"
      },
      {
        "id": "tc-003",
        "title": "System supports editing existing templates and maintains version history",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in with HR Manager role",
          "At least one shift template exists in the system (e.g., 'Day Shift' 09:00 AM - 05:00 PM)",
          "Version history tracking is enabled",
          "User has edit permissions for shift templates"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template management page",
            "expectedResult": "Page loads displaying list of existing shift templates"
          },
          {
            "step": 2,
            "action": "Locate the 'Day Shift' template and click 'Edit' button",
            "expectedResult": "Edit template form opens pre-populated with current values: Start time '09:00 AM', End time '05:00 PM', Break '60 mins', Type 'Day Shift'"
          },
          {
            "step": 3,
            "action": "Modify the end time from '05:00 PM' to '06:00 PM'",
            "expectedResult": "End time field updates to display '06:00 PM'"
          },
          {
            "step": 4,
            "action": "Modify break duration from '60' to '45' minutes",
            "expectedResult": "Break duration field updates to display '45'"
          },
          {
            "step": 5,
            "action": "Click 'Save' button",
            "expectedResult": "System validates changes, processes within 2 seconds, and displays confirmation message 'Shift template updated successfully'"
          },
          {
            "step": 6,
            "action": "Navigate to version history for the edited template",
            "expectedResult": "Version history displays at least 2 versions: Original version (09:00 AM - 05:00 PM, 60 min break) and Current version (09:00 AM - 06:00 PM, 45 min break) with timestamps and editor information"
          },
          {
            "step": 7,
            "action": "Verify audit trail entry exists",
            "expectedResult": "Audit log shows entry with timestamp, HR Manager username, action 'Template Updated', and details of changes made"
          }
        ],
        "postconditions": [
          "Template is updated in ShiftTemplates database with new values",
          "Previous version is preserved in version history",
          "Audit trail contains complete record of the modification",
          "Updated template is immediately available for scheduling",
          "Version counter is incremented"
        ],
        "estimatedTime": "6 mins"
      },
      {
        "id": "tc-004",
        "title": "System prevents deletion of templates assigned to active schedules and shows warning",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in with HR Manager role",
          "A shift template named 'Evening Shift' exists in the system",
          "The 'Evening Shift' template is assigned to at least one active employee schedule",
          "User has delete permissions for shift templates"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the shift template management page",
            "expectedResult": "Page loads displaying all shift templates including 'Evening Shift'"
          },
          {
            "step": 2,
            "action": "Locate the 'Evening Shift' template that is assigned to active schedules",
            "expectedResult": "'Evening Shift' template is visible with a delete button or option available"
          },
          {
            "step": 3,
            "action": "Click the 'Delete' button for the 'Evening Shift' template",
            "expectedResult": "System displays warning message: 'Cannot delete template. This template is currently assigned to active schedules. Please reassign or remove schedules before deletion.'"
          },
          {
            "step": 4,
            "action": "Verify the warning dialog includes details about active assignments",
            "expectedResult": "Warning message shows number of active schedules using this template (e.g., 'Used in 5 active schedules')"
          },
          {
            "step": 5,
            "action": "Click 'OK' or 'Close' on the warning dialog",
            "expectedResult": "Warning dialog closes and user returns to template management page"
          },
          {
            "step": 6,
            "action": "Verify the template still exists in the list",
            "expectedResult": "'Evening Shift' template remains in the template list unchanged"
          }
        ],
        "postconditions": [
          "Template is not deleted from the database",
          "All active schedules using the template remain intact",
          "Warning action is logged in audit trail",
          "User remains on shift template management page",
          "Template status remains unchanged"
        ],
        "estimatedTime": "4 mins"
      },
      {
        "id": "tc-005",
        "title": "System displays confirmation messages upon successful operations",
        "type": "happy-path",
        "priority": "Medium",
        "preconditions": [
          "User is logged in with HR Manager role",
          "User has access to shift template management page",
          "At least one shift template exists for testing edit and delete operations",
          "System notification/messaging component is functional"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to shift template management page and click 'Create New Template'",
            "expectedResult": "Template creation form opens successfully"
          },
          {
            "step": 2,
            "action": "Fill in all required fields: Start time '06:00 AM', End time '02:00 PM', Break '30 mins', Type 'Morning Shift'",
            "expectedResult": "All fields accept input and display entered values"
          },
          {
            "step": 3,
            "action": "Click 'Save' button",
            "expectedResult": "System displays success confirmation message 'Shift template created successfully' in a visible notification banner or dialog"
          },
          {
            "step": 4,
            "action": "Verify the confirmation message is clearly visible and styled appropriately (e.g., green color, success icon)",
            "expectedResult": "Confirmation message appears with success styling, is easily readable, and auto-dismisses after 3-5 seconds or has a close button"
          },
          {
            "step": 5,
            "action": "Select an existing template and click 'Edit', modify the break duration, and save",
            "expectedResult": "System displays confirmation message 'Shift template updated successfully' with appropriate success styling"
          },
          {
            "step": 6,
            "action": "Select a template that is not assigned to any schedules and click 'Delete'",
            "expectedResult": "System displays confirmation message 'Shift template deleted successfully' with appropriate success styling"
          },
          {
            "step": 7,
            "action": "Attempt an invalid operation (e.g., create template with end time before start time)",
            "expectedResult": "System displays error message with appropriate error styling (e.g., red color, error icon) describing the validation failure"
          }
        ],
        "postconditions": [
          "All successful operations show appropriate confirmation messages",
          "Error operations show descriptive error messages",
          "Messages are logged appropriately",
          "User has clear feedback for every action performed",
          "UI returns to stable state after message dismissal"
        ],
        "estimatedTime": "7 mins"
      }
    ]
  }
]