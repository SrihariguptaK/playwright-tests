{
  "storyId": "story-10",
  "storyTitle": "As Employee, I want to track my schedule change history to achieve transparency.",
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify employee can successfully access schedule change history page and view all past requests",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee with valid credentials",
        "Employee has at least 5 schedule change requests in the system with various statuses (Pending, Approved, Rejected)",
        "User is on the main dashboard or navigation menu",
        "Database contains schedule change history data for the logged-in user"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click on 'Schedule History' link in the main navigation menu",
          "expectedResult": "Schedule change history page loads successfully within 2 seconds and displays the page title 'My Schedule Change History'"
        },
        {
          "step": 2,
          "action": "Observe the displayed list of schedule change requests without applying any filters",
          "expectedResult": "All past schedule change requests are displayed in a table format showing columns: Request ID, Date Submitted, Original Schedule, Requested Schedule, Status, and Comments"
        },
        {
          "step": 3,
          "action": "Verify each request entry shows complete information including status badges (color-coded: green for Approved, yellow for Pending, red for Rejected)",
          "expectedResult": "Each request displays all relevant details with appropriate status indicators and any manager comments are visible in the Comments column"
        },
        {
          "step": 4,
          "action": "Scroll through the entire list to verify all historical requests are present",
          "expectedResult": "All 5 schedule change requests are visible with correct chronological ordering (most recent first) and pagination controls appear if more than 10 requests exist"
        }
      ],
      "postconditions": [
        "User remains on the schedule change history page",
        "All historical data is displayed accurately without data loss",
        "No error messages or warnings are shown",
        "Page performance metrics show response time under 2 seconds"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Verify employee can filter schedule change history by date range successfully",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the schedule change history page",
        "Employee has schedule change requests spanning multiple months (at least 3 requests from last month and 2 from this month)",
        "Date range filter controls are visible on the page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate the 'Date Range' filter section at the top of the history page",
          "expectedResult": "Date range filter section is visible with 'From Date' and 'To Date' input fields clearly labeled"
        },
        {
          "step": 2,
          "action": "Click on the 'From Date' field and select the first day of last month from the date picker",
          "expectedResult": "Date picker calendar opens, selected date is highlighted, and the date appears in the 'From Date' field in MM/DD/YYYY format"
        },
        {
          "step": 3,
          "action": "Click on the 'To Date' field and select the last day of last month from the date picker",
          "expectedResult": "Date picker calendar opens, selected date is highlighted, and the date appears in the 'To Date' field in MM/DD/YYYY format"
        },
        {
          "step": 4,
          "action": "Click the 'Apply Filter' button next to the date range fields",
          "expectedResult": "Page refreshes or updates dynamically within 2 seconds, displaying only the 3 schedule change requests submitted during last month"
        },
        {
          "step": 5,
          "action": "Verify the filtered results show only requests within the specified date range",
          "expectedResult": "Only requests from last month are displayed, with a summary message showing 'Displaying 3 results for [date range]' and requests from this month are not visible"
        }
      ],
      "postconditions": [
        "Filter is applied and persists until cleared or changed",
        "Filtered data accurately reflects the selected date range",
        "User can see a 'Clear Filters' button to reset the view",
        "URL parameters or session state reflects the applied filter"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify employee can filter schedule change history by status (Approved, Pending, Rejected)",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the schedule change history page",
        "Employee has requests with different statuses: 2 Approved, 2 Pending, 1 Rejected",
        "Status filter dropdown is visible and functional"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate the 'Status' filter dropdown in the filter section of the history page",
          "expectedResult": "Status dropdown is visible with default value 'All Statuses' selected"
        },
        {
          "step": 2,
          "action": "Click on the 'Status' dropdown to expand the options",
          "expectedResult": "Dropdown expands showing options: 'All Statuses', 'Approved', 'Pending', 'Rejected' with checkboxes or radio buttons"
        },
        {
          "step": 3,
          "action": "Select 'Approved' from the dropdown options",
          "expectedResult": "The 'Approved' option is highlighted and selected, dropdown shows 'Approved' as the current selection"
        },
        {
          "step": 4,
          "action": "Click the 'Apply Filter' button or observe auto-filtering if enabled",
          "expectedResult": "Page updates within 2 seconds displaying only the 2 schedule change requests with 'Approved' status, each showing a green status badge"
        },
        {
          "step": 5,
          "action": "Verify no requests with 'Pending' or 'Rejected' status are visible in the filtered results",
          "expectedResult": "Only approved requests are shown with a summary message 'Displaying 2 Approved requests' and other statuses are filtered out"
        }
      ],
      "postconditions": [
        "Status filter is applied and active",
        "Only requests matching the selected status are displayed",
        "Filter can be changed or cleared to view other statuses",
        "Filter state is maintained during the session"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Verify employee can combine date range and status filters simultaneously",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the schedule change history page",
        "Employee has multiple requests: 1 Approved from last month, 2 Pending from last month, 1 Approved from this month",
        "Both date range and status filters are available"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Set the 'From Date' to the first day of last month and 'To Date' to the last day of last month",
          "expectedResult": "Both date fields are populated with the selected dates in MM/DD/YYYY format"
        },
        {
          "step": 2,
          "action": "Select 'Pending' from the 'Status' dropdown filter",
          "expectedResult": "Status dropdown shows 'Pending' as selected"
        },
        {
          "step": 3,
          "action": "Click the 'Apply Filters' button to apply both filters simultaneously",
          "expectedResult": "Page updates within 2 seconds showing only the 2 schedule change requests that are both 'Pending' status AND submitted during last month"
        },
        {
          "step": 4,
          "action": "Verify the results match both filter criteria and display summary information",
          "expectedResult": "Only 2 pending requests from last month are displayed with a summary message 'Displaying 2 Pending requests from [date range]', and the approved request from last month and this month's request are not visible"
        }
      ],
      "postconditions": [
        "Both filters are applied simultaneously and work in conjunction",
        "Results accurately reflect the intersection of both filter criteria",
        "User can modify or clear individual filters independently",
        "Filter combination state is preserved during the session"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Verify employee can view detailed information for each schedule change request including comments",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the schedule change history page with visible requests",
        "At least one request has manager comments attached (e.g., 'Approved due to staffing needs')",
        "Request details are accessible from the history list"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate a schedule change request in the history list that has a 'Rejected' status with comments",
          "expectedResult": "Request is visible in the list with a red 'Rejected' status badge and a comments icon or preview text indicating comments are present"
        },
        {
          "step": 2,
          "action": "Click on the request row or 'View Details' button to expand or open the full request details",
          "expectedResult": "Request details expand inline or open in a modal/detail view showing complete information: Request ID, Submission Date, Original Schedule (e.g., 'Monday 9AM-5PM'), Requested Schedule (e.g., 'Tuesday 9AM-5PM'), Status, Submission Timestamp, and Manager Comments section"
        },
        {
          "step": 3,
          "action": "Review the manager comments section for the rejection reason",
          "expectedResult": "Manager comments are clearly displayed in a dedicated section showing the comment text (e.g., 'Rejected - Insufficient coverage for requested date'), commenter name (e.g., 'Manager: John Smith'), and comment timestamp"
        },
        {
          "step": 4,
          "action": "Verify all request details are complete and accurately reflect the submitted request",
          "expectedResult": "All fields contain accurate data matching the original request, dates are formatted consistently, and no information is missing or truncated"
        }
      ],
      "postconditions": [
        "Request details remain accessible for review",
        "User can close the detail view and return to the history list",
        "No data is modified by viewing the details",
        "Comments and status information provide clear transparency about the request outcome"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Verify system handles unauthorized access attempt to schedule change history page",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is not logged in or session has expired",
        "User attempts to access the schedule change history page directly via URL",
        "Authentication middleware is active and enforcing security",
        "Login page is available for redirection"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Open a browser and navigate directly to the schedule change history page URL (e.g., '/schedule-history') without logging in",
          "expectedResult": "System detects unauthenticated access attempt and prevents page load"
        },
        {
          "step": 2,
          "action": "Observe the system response to the unauthorized access attempt",
          "expectedResult": "User is automatically redirected to the login page with an error message 'Please log in to access this page' or 'Session expired, please log in again' displayed in a red banner"
        },
        {
          "step": 3,
          "action": "Verify that no schedule change history data is exposed or visible before redirection",
          "expectedResult": "No sensitive data is displayed, no API calls return data, and browser console shows 401 Unauthorized response"
        },
        {
          "step": 4,
          "action": "Attempt to access the API endpoint directly (GET /api/scheduleChangeRequests/history) without authentication token",
          "expectedResult": "API returns 401 Unauthorized status code with JSON response {'error': 'Authentication required', 'message': 'Please provide valid credentials'}"
        }
      ],
      "postconditions": [
        "User remains on the login page until valid credentials are provided",
        "No schedule change history data is accessible without authentication",
        "Security logs record the unauthorized access attempt",
        "System maintains security posture and prevents data exposure"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify system handles invalid date range filter input (future dates, invalid format)",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the schedule change history page",
        "Date range filter fields are editable and accept manual input",
        "Client-side and server-side validation are active"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click on the 'From Date' field and manually type an invalid date format '99/99/9999'",
          "expectedResult": "Field shows the typed text temporarily"
        },
        {
          "step": 2,
          "action": "Click the 'Apply Filter' button to submit the invalid date",
          "expectedResult": "System displays validation error message 'Invalid date format. Please use MM/DD/YYYY' in red text below the 'From Date' field and prevents filter application"
        },
        {
          "step": 3,
          "action": "Clear the error, then enter a future date (e.g., one year from today) in the 'From Date' field",
          "expectedResult": "Date is entered in the field"
        },
        {
          "step": 4,
          "action": "Click the 'Apply Filter' button with the future date",
          "expectedResult": "System displays validation error message 'Date cannot be in the future. Please select a past or current date' and prevents filter application"
        },
        {
          "step": 5,
          "action": "Enter a valid 'From Date' but set 'To Date' to be earlier than 'From Date' (e.g., From: 03/01/2024, To: 02/01/2024)",
          "expectedResult": "System displays validation error message 'End date must be after start date' and prevents filter application, no API call is made"
        }
      ],
      "postconditions": [
        "No invalid filter is applied to the history data",
        "User remains on the history page with error messages visible",
        "Original unfiltered data or previous valid filter remains displayed",
        "User can correct the input and resubmit valid dates"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Verify system handles API failure or timeout when retrieving schedule change history",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User navigates to the schedule change history page",
        "Backend API endpoint /api/scheduleChangeRequests/history is temporarily unavailable or experiencing high latency (simulated or actual)",
        "Error handling mechanisms are implemented in the frontend"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the schedule change history page while the API is down or timing out",
          "expectedResult": "Page attempts to load and shows a loading spinner or progress indicator for up to 2 seconds"
        },
        {
          "step": 2,
          "action": "Wait for the API request to timeout or fail (after 2 seconds or configured timeout period)",
          "expectedResult": "System displays a user-friendly error message 'Unable to load schedule history. Please try again later.' in a prominent error banner at the top of the page"
        },
        {
          "step": 3,
          "action": "Verify that a 'Retry' button or 'Refresh' option is available to the user",
          "expectedResult": "A 'Retry' button is displayed below the error message allowing the user to attempt reloading the data"
        },
        {
          "step": 4,
          "action": "Check the browser console for error details",
          "expectedResult": "Console shows appropriate error logging (e.g., 'API Error: 500 Internal Server Error' or 'Request timeout after 2000ms') without exposing sensitive system information"
        },
        {
          "step": 5,
          "action": "Click the 'Retry' button to attempt reloading the data",
          "expectedResult": "System makes a new API request and either loads the data successfully (if API is restored) or displays the error message again if the issue persists"
        }
      ],
      "postconditions": [
        "User is informed of the error and not left with a blank or broken page",
        "System provides recovery options (retry functionality)",
        "Error is logged on the backend for monitoring and debugging",
        "User session remains active and authenticated"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Verify system handles employee with no schedule change history gracefully",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "Employee has never submitted any schedule change requests (empty history)",
        "Database returns empty result set for this employee",
        "User navigates to the schedule change history page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the schedule change history page as an employee with no request history",
          "expectedResult": "Page loads successfully within 2 seconds without errors"
        },
        {
          "step": 2,
          "action": "Observe the content displayed on the history page",
          "expectedResult": "System displays an empty state message 'You have no schedule change requests yet' or 'No history found' with an informative icon or illustration"
        },
        {
          "step": 3,
          "action": "Verify that filter controls are either disabled or show appropriate messaging",
          "expectedResult": "Filter controls are either grayed out/disabled with tooltip 'No data to filter' or remain enabled but show 'No results match your filters' when applied"
        },
        {
          "step": 4,
          "action": "Check for a call-to-action or helpful guidance for the user",
          "expectedResult": "Page displays a helpful message like 'To submit a schedule change request, click here' with a link to the request submission page"
        }
      ],
      "postconditions": [
        "User understands they have no history without confusion",
        "Page does not show errors or broken UI elements",
        "User has a clear path to create their first schedule change request",
        "Empty state is handled gracefully with appropriate messaging"
      ]
    },
    {
      "id": "TC-NEGA-005",
      "title": "Verify system prevents SQL injection attempts through filter inputs",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the schedule change history page",
        "Filter inputs accept text or can be manipulated to include SQL code",
        "Backend has SQL injection protection mechanisms"
      ],
      "steps": [
        {
          "step": 1,
          "action": "In the date range filter or any text-based filter field, enter SQL injection payload: ' OR '1'='1' --",
          "expectedResult": "Input is accepted in the field temporarily"
        },
        {
          "step": 2,
          "action": "Click the 'Apply Filter' button to submit the malicious input",
          "expectedResult": "System either sanitizes the input and treats it as a literal string (showing no results or validation error) or displays error message 'Invalid input detected' without executing any SQL code"
        },
        {
          "step": 3,
          "action": "Verify that no unauthorized data is returned and no database errors are exposed",
          "expectedResult": "No additional records are displayed beyond the user's own history, no database error messages are shown to the user, and system logs the attempted injection for security monitoring"
        },
        {
          "step": 4,
          "action": "Attempt another SQL injection variant in the status filter: '; DROP TABLE scheduleChangeRequests; --",
          "expectedResult": "Input is sanitized or rejected, no database operations are executed, and system displays 'Invalid filter value' or treats it as a non-existent status returning no results"
        },
        {
          "step": 5,
          "action": "Check that the database and application remain functional after injection attempts",
          "expectedResult": "All data remains intact, application continues to function normally, and subsequent legitimate filter operations work correctly"
        }
      ],
      "postconditions": [
        "No SQL injection is successful",
        "Database integrity is maintained",
        "Security incident is logged for review",
        "User's malicious attempts do not compromise system security or other users' data"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Verify system handles employee with extremely large number of schedule change requests (1000+ records)",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "Employee has 1000+ schedule change requests in the database (test data seeded)",
        "Pagination or lazy loading mechanism is implemented",
        "Performance requirements specify response time under 2 seconds"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the schedule change history page with 1000+ requests in the database",
          "expectedResult": "Page loads within 2 seconds showing the first page of results (e.g., 10-50 records per page) with a loading indicator during fetch"
        },
        {
          "step": 2,
          "action": "Verify pagination controls are displayed showing total number of pages and current page",
          "expectedResult": "Pagination controls show 'Page 1 of 100' (or similar) with 'Next', 'Previous', and page number buttons, and a summary like 'Showing 1-10 of 1000 results'"
        },
        {
          "step": 3,
          "action": "Click the 'Next' button to navigate to page 2",
          "expectedResult": "Page 2 loads within 2 seconds displaying the next set of records (11-20) without reloading the entire page, and URL updates to reflect pagination (e.g., ?page=2)"
        },
        {
          "step": 4,
          "action": "Jump to a middle page (e.g., page 50) using page number input or dropdown",
          "expectedResult": "Page 50 loads within 2 seconds showing records 491-500, and system maintains performance without degradation"
        },
        {
          "step": 5,
          "action": "Apply a filter (e.g., status = 'Approved') to the large dataset",
          "expectedResult": "Filtered results load within 2 seconds, pagination adjusts to show filtered result count (e.g., 'Showing 1-10 of 300 Approved results'), and performance remains acceptable"
        }
      ],
      "postconditions": [
        "System handles large datasets efficiently with pagination",
        "Performance remains under 2 seconds for all operations",
        "User can navigate through all pages without errors or timeouts",
        "Memory usage remains stable without browser crashes"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Verify system handles date range filter spanning multiple years of history",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "Employee has schedule change requests spanning 5+ years (from 2019 to 2024)",
        "User is on the schedule change history page",
        "Date range filter accepts wide date ranges"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Set 'From Date' to January 1, 2019 and 'To Date' to December 31, 2024 (5-year span)",
          "expectedResult": "Both date fields accept the dates and display them in MM/DD/YYYY format"
        },
        {
          "step": 2,
          "action": "Click 'Apply Filter' button to retrieve all requests within the 5-year range",
          "expectedResult": "System processes the wide date range and returns results within 2 seconds, displaying all requests from the specified period with pagination if the result set is large"
        },
        {
          "step": 3,
          "action": "Verify the results include requests from various years across the entire range",
          "expectedResult": "Results show requests from 2019, 2020, 2021, 2022, 2023, and 2024 in chronological order (most recent first), and the summary shows total count (e.g., 'Displaying 250 results from 01/01/2019 to 12/31/2024')"
        },
        {
          "step": 4,
          "action": "Check system performance and response time with the large date range",
          "expectedResult": "Page remains responsive, no timeout errors occur, and database query is optimized to handle the wide date range efficiently"
        }
      ],
      "postconditions": [
        "All historical data within the date range is accessible",
        "System performance remains acceptable with wide date ranges",
        "No data is truncated or omitted from the results",
        "User can narrow the date range to refine results further"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Verify system handles schedule change requests with extremely long comments (5000+ characters)",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "At least one schedule change request has manager comments exceeding 5000 characters (edge case test data)",
        "User is on the schedule change history page",
        "Comment display area has handling for long text"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate and click on a schedule change request that has extremely long manager comments (5000+ characters)",
          "expectedResult": "Request details open in expanded view or modal without layout breaking"
        },
        {
          "step": 2,
          "action": "Observe how the long comment text is displayed in the comments section",
          "expectedResult": "Comments are displayed with one of the following: truncation with 'Read More' link, scrollable text area with fixed height, or accordion/expandable section to prevent page layout issues"
        },
        {
          "step": 3,
          "action": "If truncated, click 'Read More' or expand button to view full comment",
          "expectedResult": "Full comment text becomes visible in a scrollable container or expanded section, all 5000+ characters are accessible, and text remains readable without horizontal scrolling"
        },
        {
          "step": 4,
          "action": "Verify page layout and other UI elements are not broken by the long text",
          "expectedResult": "Page layout remains intact, no text overflow outside containers, other request details remain visible and accessible, and overall page usability is maintained"
        }
      ],
      "postconditions": [
        "Long comments are fully accessible to the user",
        "Page layout and UI remain functional and visually correct",
        "User can collapse or close the long comment to view other requests",
        "System handles edge case text lengths gracefully"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify system handles concurrent filter applications and rapid filter changes",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the schedule change history page with multiple requests",
        "Filter controls are responsive and allow rapid input changes",
        "System has debouncing or request cancellation mechanisms"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Rapidly change the status filter multiple times in quick succession: select 'Approved', then immediately 'Pending', then 'Rejected' within 2 seconds",
          "expectedResult": "System handles rapid changes gracefully, either debouncing the requests or cancelling previous requests, and only the final filter ('Rejected') is applied"
        },
        {
          "step": 2,
          "action": "Quickly change date range filters while a previous filter request is still processing",
          "expectedResult": "System cancels the in-flight request and processes only the most recent filter criteria, or queues requests appropriately without causing errors"
        },
        {
          "step": 3,
          "action": "Apply multiple filters simultaneously (date range + status) and then immediately clear all filters",
          "expectedResult": "System processes the clear action, cancels any pending filter requests, and displays the unfiltered full history list without showing stale or incorrect data"
        },
        {
          "step": 4,
          "action": "Verify no duplicate API calls are made and no race conditions occur",
          "expectedResult": "Browser network tab shows appropriate request cancellation or debouncing, only one final API call is made for the last filter state, and displayed data matches the final filter criteria"
        }
      ],
      "postconditions": [
        "System remains stable and responsive during rapid filter changes",
        "No race conditions or data inconsistencies occur",
        "Final displayed data accurately reflects the last applied filter",
        "No memory leaks or performance degradation from cancelled requests"
      ]
    },
    {
      "id": "TC-EDGE-005",
      "title": "Verify system handles special characters and Unicode in comments and schedule descriptions",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "At least one schedule change request contains special characters, emojis, or Unicode in comments (e.g., 'Approved ✓ 你好 café')",
        "User is on the schedule change history page",
        "System supports UTF-8 encoding"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Locate a schedule change request with special characters and Unicode in the comments or schedule description",
          "expectedResult": "Request is visible in the history list without rendering issues"
        },
        {
          "step": 2,
          "action": "Click to view the full details of the request with special characters",
          "expectedResult": "Request details open and all special characters, emojis, and Unicode text are displayed correctly without garbled characters or encoding errors (e.g., 'Approved ✓ 你好 café' appears exactly as entered)"
        },
        {
          "step": 3,
          "action": "Verify that special characters in schedule descriptions (e.g., 'Monday 9AM-5PM → Tuesday 9AM-5PM') are rendered properly",
          "expectedResult": "Arrow symbols, time formats, and any special punctuation are displayed correctly and remain readable"
        },
        {
          "step": 4,
          "action": "Apply filters and verify special characters don't break filter functionality",
          "expectedResult": "Filters work correctly regardless of special characters in the data, and filtered results display special characters properly"
        }
      ],
      "postconditions": [
        "All special characters and Unicode text are displayed correctly",
        "No encoding errors or garbled text appears",
        "System maintains data integrity for international characters",
        "User can read and understand all comments and descriptions regardless of character set"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify complete keyboard navigation through schedule change history page and filters",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the schedule change history page with visible requests and filter controls",
        "Keyboard is the only input method being used (no mouse)",
        "Browser supports standard keyboard navigation"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Press Tab key repeatedly from the page load to navigate through all interactive elements",
          "expectedResult": "Focus moves sequentially through navigation menu, filter controls (date fields, status dropdown, apply button), request list items, pagination controls, and any action buttons with visible focus indicators (outline or highlight) on each element"
        },
        {
          "step": 2,
          "action": "Use Tab to focus on the 'From Date' filter field and press Enter or Space to open the date picker",
          "expectedResult": "Date picker calendar opens and focus moves to the current date, calendar is keyboard accessible with arrow keys to navigate dates"
        },
        {
          "step": 3,
          "action": "Use arrow keys to navigate to a date in the date picker and press Enter to select it",
          "expectedResult": "Selected date is populated in the 'From Date' field, date picker closes, and focus returns to the date input field"
        },
        {
          "step": 4,
          "action": "Tab to the 'Status' dropdown filter and press Enter or Space to open it",
          "expectedResult": "Dropdown menu opens showing status options, focus is on the first option, and arrow keys can navigate through options"
        },
        {
          "step": 5,
          "action": "Use arrow keys to select 'Approved' status and press Enter to confirm selection",
          "expectedResult": "Status 'Approved' is selected, dropdown closes, and focus returns to the dropdown control"
        },
        {
          "step": 6,
          "action": "Tab to the 'Apply Filter' button and press Enter to apply filters",
          "expectedResult": "Filters are applied, page updates with filtered results, and focus moves to the first result in the filtered list or a status message announcing the filter application"
        },
        {
          "step": 7,
          "action": "Tab through the filtered request list and press Enter on a request to view details",
          "expectedResult": "Request details expand or open in a modal, focus moves to the first interactive element in the details view or the close button, and user can Tab through all details"
        },
        {
          "step": 8,
          "action": "Press Escape key to close the request details",
          "expectedResult": "Details view closes and focus returns to the request item that was opened in the list"
        }
      ],
      "postconditions": [
        "All interactive elements are accessible via keyboard",
        "Focus order is logical and follows visual layout",
        "No keyboard traps exist where user cannot escape using keyboard",
        "User can complete all tasks using only keyboard navigation"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Verify screen reader announces all schedule change history information and filter changes",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "Screen reader software is active (NVDA, JAWS, or VoiceOver)",
        "User is on the schedule change history page",
        "Page has proper ARIA labels and semantic HTML"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to the schedule change history page with screen reader active",
          "expectedResult": "Screen reader announces page title 'My Schedule Change History', main heading, and page landmark 'main content region' or 'main'"
        },
        {
          "step": 2,
          "action": "Navigate to the filter section using screen reader navigation commands",
          "expectedResult": "Screen reader announces 'Filter section' or 'Search and filter region', and reads labels for each filter control: 'From Date, date picker', 'To Date, date picker', 'Status, dropdown menu, currently All Statuses'"
        },
        {
          "step": 3,
          "action": "Use screen reader to navigate through the request list table",
          "expectedResult": "Screen reader announces 'Schedule change requests table, 5 rows', and for each row reads: 'Row 1, Request ID 12345, Date Submitted March 15 2024, Status Approved, Comments Available' with proper table navigation (column headers announced)"
        },
        {
          "step": 4,
          "action": "Apply a filter using keyboard and screen reader",
          "expectedResult": "After applying filter, screen reader announces 'Filter applied, showing 2 Approved requests' via ARIA live region, and updated result count is communicated immediately"
        },
        {
          "step": 5,
          "action": "Navigate to a request and open details using screen reader",
          "expectedResult": "Screen reader announces 'Request details dialog opened' or 'Expanded request details', reads all detail fields with labels: 'Request ID 12345, Submission Date March 15 2024, Original Schedule Monday 9AM to 5PM, Requested Schedule Tuesday 9AM to 5PM, Status Approved, Manager Comments: Approved due to staffing needs'"
        },
        {
          "step": 6,
          "action": "Navigate to pagination controls with screen reader",
          "expectedResult": "Screen reader announces 'Pagination navigation, Page 1 of 10, Next page button, Previous page button disabled'"
        }
      ],
      "postconditions": [
        "All content is accessible and announced by screen reader",
        "Dynamic content changes are announced via ARIA live regions",
        "User can understand page structure and content through audio alone",
        "All interactive elements have descriptive labels and states"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Verify focus management and focus indicators meet WCAG 2.1 standards",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the schedule change history page",
        "Page is tested in a modern browser with default focus styles or custom focus indicators",
        "WCAG 2.1 Level AA compliance is the target"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Tab through all interactive elements on the page and observe focus indicators",
          "expectedResult": "Every focusable element (links, buttons, form fields, dropdowns) displays a visible focus indicator with minimum 3:1 contrast ratio against the background, focus indicator is at least 2px thick or clearly distinguishable"
        },
        {
          "step": 2,
          "action": "Open a request details modal or expanded view and verify focus is trapped within the modal",
          "expectedResult": "When modal opens, focus moves to the first interactive element (close button or first detail field), Tab key cycles through modal elements only, Shift+Tab moves backward within modal, and focus does not escape to background content"
        },
        {
          "step": 3,
          "action": "Close the modal using Escape key or close button and verify focus returns appropriately",
          "expectedResult": "Focus returns to the element that triggered the modal (the request item in the list), focus indicator is visible on the returned element, and user can continue navigation from where they left off"
        },
        {
          "step": 4,
          "action": "Apply a filter and verify focus management after dynamic content update",
          "expectedResult": "After filter is applied and results update, focus either remains on the 'Apply Filter' button or moves to a status message announcing the filter results, focus is not lost or reset to the top of the page unexpectedly"
        },
        {
          "step": 5,
          "action": "Test focus indicators in different states: default, hover, focus, active",
          "expectedResult": "Focus indicators are distinct from hover states, focus remains visible when element is activated, and focus indicators meet WCAG 2.1 Success Criterion 2.4.7 (Focus Visible)"
        }
      ],
      "postconditions": [
        "All focus indicators meet WCAG 2.1 contrast and visibility requirements",
        "Focus management is logical and predictable",
        "No focus traps exist except in intentional modal dialogs",
        "Users can always see where keyboard focus is located"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Verify color contrast ratios meet WCAG 2.1 AA standards for all text and interactive elements",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is on the schedule change history page",
        "Color contrast checking tool is available (browser extension or online tool)",
        "Page displays various status badges (Approved-green, Pending-yellow, Rejected-red)",
        "WCAG 2.1 Level AA requires 4.5:1 for normal text, 3:1 for large text"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Use a color contrast checker to measure the contrast ratio between body text and background",
          "expectedResult": "Normal text (under 18pt or 14pt bold) has minimum 4.5:1 contrast ratio, large text (18pt+ or 14pt+ bold) has minimum 3:1 contrast ratio"
        },
        {
          "step": 2,
          "action": "Check contrast ratio for status badges: green 'Approved' badge text on green background",
          "expectedResult": "Text on the green 'Approved' badge has at least 4.5:1 contrast ratio (e.g., white text on dark green background or dark text on light green background)"
        },
        {
          "step": 3,
          "action": "Check contrast ratio for yellow 'Pending' badge text on yellow background",
          "expectedResult": "Text on the yellow 'Pending' badge has at least 4.5:1 contrast ratio (typically dark text on yellow background to ensure readability)"
        },
        {
          "step": 4,
          "action": "Check contrast ratio for red 'Rejected' badge text on red background",
          "expectedResult": "Text on the red 'Rejected' badge has at least 4.5:1 contrast ratio (e.g., white text on dark red background)"
        },
        {
          "step": 5,
          "action": "Verify that status information is not conveyed by color alone",
          "expectedResult": "Status badges include text labels ('Approved', 'Pending', 'Rejected') and/or icons in addition to color, ensuring users with color blindness can distinguish statuses"
        },
        {
          "step": 6,
          "action": "Check contrast for interactive elements: buttons, links, form field borders",
          "expectedResult": "All interactive elements have sufficient contrast (3:1 minimum for UI components and graphical objects per WCAG 2.1 SC 1.4.11)"
        }
      ],
      "postconditions": [
        "All text meets WCAG 2.1 AA contrast requirements",
        "Status information is accessible to users with color vision deficiencies",
        "Interactive elements are visually distinguishable",
        "Page is usable in high contrast mode or with color blindness"
      ]
    },
    {
      "id": "TC-ACCE-005",
      "title": "Verify page remains functional and readable at 200% zoom level",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is logged in as an authenticated employee",
        "User is on the schedule change history page with multiple requests visible",
        "Browser zoom is set to default 100%",
        "WCAG 2.1 SC 1.4.4 requires content to be readable at 200% zoom"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Set browser zoom to 200% using Ctrl/Cmd + Plus or browser zoom controls",
          "expectedResult": "Page content scales to 200% zoom level, text becomes larger and more readable"
        },
        {
          "step": 2,
          "action": "Verify all text content remains visible without horizontal scrolling",
          "expectedResult": "Text reflows to fit the viewport width, no horizontal scrollbar appears for reading content, and users can read all text by scrolling vertically only"
        },
        {
          "step": 3,
          "action": "Check that all interactive elements (buttons, filters, links) remain accessible and clickable",
          "expectedResult": "All buttons and interactive elements are fully visible, not cut off or overlapping, and remain clickable with adequate touch/click target size"
        },
        {
          "step": 4,
          "action": "Navigate through the request list and apply filters at 200% zoom",
          "expectedResult": "Filter controls remain functional, dropdown menus open properly without being cut off, date pickers are accessible, and filtered results display correctly"
        },
        {
          "step": 5,
          "action": "Open request details at 200% zoom",
          "expectedResult": "Request details modal or expanded view displays properly, all detail fields are readable, and no content is hidden or requires horizontal scrolling to access"
        },
        {
          "step": 6,
          "action": "Verify table or list layout adapts appropriately to 200% zoom",
          "expectedResult": "Table columns stack or reflow responsively, or horizontal scrolling is provided only for the table container (not the entire page), and all data remains accessible"
        }
      ],
      "postconditions": [
        "Page is fully functional at 200% zoom",
        "No loss of content or functionality occurs",
        "Users with low vision can access all features",
        "Layout adapts responsively to increased text size"
      ]
    }
  ],
  "selectedTypes": {
    "functional": true,
    "edgeCases": true,
    "negative": true,
    "accessibility": true
  },
  "userStoryObject": {
    "id": "story-10",
    "title": "As Employee, I want to track my schedule change history to achieve transparency.",
    "epicId": "epic-3",
    "persona": "Employee",
    "priority": "Medium",
    "subtasks": [
      {
        "category": "Planning",
        "description": "Define the data model for schedule change history.",
        "estimatedHours": 4
      },
      {
        "category": "Backend",
        "description": "Implement API endpoint for retrieving schedule change history.",
        "estimatedHours": 6
      },
      {
        "category": "Frontend",
        "description": "Develop the user interface for displaying schedule change history.",
        "estimatedHours": 8
      },
      {
        "category": "Testing",
        "description": "Create unit tests for the schedule change history retrieval.",
        "estimatedHours": 4
      },
      {
        "category": "Documentation",
        "description": "Document the API endpoint and history retrieval process.",
        "estimatedHours": 3
      }
    ],
    "featureId": "feature-7",
    "testCases": [
      {
        "steps": [
          {
            "step": 1,
            "action": "User navigates to the schedule change history page",
            "result": "History page is displayed"
          },
          {
            "step": 2,
            "action": "Select filters for date and status",
            "result": "Filtered results are displayed"
          },
          {
            "step": 3,
            "action": "Review the details of each request",
            "result": "All relevant information is visible"
          }
        ],
        "title": "Validate retrieval of schedule change history"
      },
      {
        "steps": [
          {
            "step": 1,
            "action": "User navigates to the schedule change history page",
            "result": "History page is displayed"
          },
          {
            "step": 2,
            "action": "Do not apply any filters",
            "result": "All past requests are displayed"
          },
          {
            "step": 3,
            "action": "Review the details of each request",
            "result": "All relevant information is visible"
          }
        ],
        "title": "Verify access to history without errors"
      }
    ],
    "description": "CONTEXT & BACKGROUND:\nThis story allows employees to view the history of their schedule change requests, providing transparency and accountability.\n\nCURRENT STATE:\nEmployees currently have no visibility into the status or history of their requests.\n\nDESIRED STATE:\nEmployees can easily access a log of their past requests and their outcomes.\n\nKEY FUNCTIONALITY:\n• Users can access a history log of all requests.\n• System displays status and comments for each request.\n• Users can filter history by date and status.\n\nUSER INTERACTION FLOW:\n1. User navigates to the schedule change history page.\n2. User selects filters for date and status.\n3. System retrieves and displays the history log.\n4. User reviews the details of each request.\n\nTECHNICAL CONSIDERATIONS:\n• Data source: Schedule Change Requests table.\n• API endpoints: GET /api/scheduleChangeRequests/history.\n• Security: User authentication required.\n• Performance: Response time under 2 seconds.\n\nOUT OF SCOPE:\n• History of requests not initiated by the user.\n\nSUCCESS METRICS:\n• 80% of users access their history log successfully without errors.",
    "storyPoints": 5,
    "personaSource": "AI Suggested",
    "acceptanceCriteria": [
      "Users can access a history log of all schedule change requests.",
      "System displays status and comments for each request in the history.",
      "Users can filter history by date range and status."
    ]
  }
}