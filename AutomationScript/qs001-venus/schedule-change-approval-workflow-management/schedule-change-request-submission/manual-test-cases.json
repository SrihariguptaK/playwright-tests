[
  {
    "storyId": "story-1",
    "storyTitle": "As Scheduler, I want to submit schedule change requests to achieve accurate and auditable schedule modifications",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate successful schedule change request submission with valid data",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User has valid scheduler role credentials",
          "User is logged into the system",
          "Schedule change request form is accessible",
          "Test attachment file is prepared (size less than 10MB)",
          "Database is accessible and ScheduleChangeRequests table is available"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Scheduler navigates to schedule change request page",
            "expectedResult": "Schedule change request form is displayed with all mandatory fields visible and enabled"
          },
          {
            "step": 2,
            "action": "Scheduler fills all mandatory fields with valid data (employee name, current schedule, proposed schedule, effective date, reason for change)",
            "expectedResult": "All input fields accept the data without any validation errors or warnings"
          },
          {
            "step": 3,
            "action": "Scheduler clicks on the attachment upload button and selects a valid file (less than 10MB)",
            "expectedResult": "File is successfully uploaded and file name is displayed in the attachment section"
          },
          {
            "step": 4,
            "action": "Scheduler clicks the Submit button",
            "expectedResult": "Submission succeeds within 2 seconds, confirmation message is displayed with unique request ID, and request enters approval workflow queue"
          }
        ],
        "postconditions": [
          "Schedule change request is saved in ScheduleChangeRequests table",
          "Request status is set to 'Pending Approval'",
          "Attachment is associated with the request record",
          "Approval workflow is initiated",
          "Confirmation message with request ID is visible to scheduler"
        ],
        "estimatedTime": "5 mins"
      },
      {
        "id": "tc-002",
        "title": "Verify rejection of submission with missing mandatory fields",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User has valid scheduler role credentials",
          "User is logged into the system",
          "Schedule change request form is accessible",
          "Form validation rules are configured and active"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Scheduler navigates to schedule change request page",
            "expectedResult": "Schedule change request form is displayed with all mandatory fields marked with asterisks or required indicators"
          },
          {
            "step": 2,
            "action": "Scheduler fills some fields but intentionally leaves one or more mandatory fields empty (e.g., effective date, reason for change)",
            "expectedResult": "Real-time validation highlights the missing mandatory fields with red borders or error indicators as scheduler tabs out of empty fields"
          },
          {
            "step": 3,
            "action": "Scheduler attempts to submit the form by clicking the Submit button",
            "expectedResult": "Submission is blocked, form is not submitted, and clear error messages are displayed next to each missing mandatory field indicating which fields are required"
          }
        ],
        "postconditions": [
          "No record is created in ScheduleChangeRequests table",
          "Form remains on screen with entered data preserved",
          "Error messages are clearly visible",
          "Submit button remains enabled for retry after corrections"
        ],
        "estimatedTime": "4 mins"
      },
      {
        "id": "tc-003",
        "title": "Ensure unauthorized users cannot access submission form",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User has valid credentials but does NOT have scheduler role",
          "User is logged into the system",
          "Role-based access control is configured and enforced",
          "Schedule change request page URL is known"
        ],
        "steps": [
          {
            "step": 1,
            "action": "User without scheduler role attempts to access schedule change request page by navigating to the URL or clicking menu option",
            "expectedResult": "Access is denied immediately and user is redirected to an error page or shown an appropriate error message stating 'Access Denied: You do not have permission to submit schedule change requests' or similar"
          }
        ],
        "postconditions": [
          "User remains on error page or is redirected to authorized page",
          "No access to schedule change request form is granted",
          "Security event is logged in system audit trail",
          "User session remains active"
        ],
        "estimatedTime": "3 mins"
      }
    ]
  },
  {
    "storyId": "story-5",
    "storyTitle": "As Scheduler, I want to view the status and history of my schedule change requests to achieve transparency and tracking",
    "testCases": [
      {
        "id": "tc-004",
        "title": "Validate dashboard displays scheduler's submitted requests with statuses",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User has valid scheduler role credentials",
          "User is logged into the system",
          "Scheduler has previously submitted at least 3 schedule change requests",
          "Submitted requests have different statuses (Pending, Approved, Rejected)",
          "Dashboard page is accessible",
          "Database contains approval history with comments and timestamps"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Scheduler logs into the system using valid credentials",
            "expectedResult": "Login is successful and scheduler is redirected to home page or dashboard"
          },
          {
            "step": 2,
            "action": "Scheduler navigates to the schedule change request dashboard",
            "expectedResult": "Dashboard loads within 3 seconds and displays a list of all schedule change requests submitted by the logged-in scheduler with columns showing request ID, date submitted, employee name, current status, and action buttons"
          },
          {
            "step": 3,
            "action": "Scheduler reviews the list and verifies that all their submitted requests are visible with current status indicators",
            "expectedResult": "All requests submitted by the scheduler are displayed with accurate status values (Pending Approval, Approved, Rejected, etc.)"
          },
          {
            "step": 4,
            "action": "Scheduler selects a specific request by clicking on it or clicking a 'View Details' button",
            "expectedResult": "Detailed view opens showing complete approval history including approver names, approval/rejection decisions, comments provided by approvers, and timestamps for each action in chronological order"
          },
          {
            "step": 5,
            "action": "Scheduler applies filters by selecting a date range (e.g., last 30 days) and status (e.g., Approved)",
            "expectedResult": "Dashboard refreshes and displays only the requests matching the selected filter criteria, showing accurate count of filtered results"
          },
          {
            "step": 6,
            "action": "Scheduler clicks the Export button to download the report",
            "expectedResult": "CSV file is generated and downloaded to the scheduler's device containing all filtered request data with columns for request ID, submission date, employee name, status, approver, comments, and timestamps"
          }
        ],
        "postconditions": [
          "Dashboard remains accessible for further queries",
          "CSV file is successfully downloaded and can be opened",
          "Filters remain applied until cleared by user",
          "No data is modified in the database",
          "User session remains active"
        ],
        "estimatedTime": "7 mins"
      },
      {
        "id": "tc-005",
        "title": "Ensure schedulers cannot view requests submitted by others",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User has valid scheduler role credentials",
          "User is logged into the system",
          "Multiple schedulers exist in the system",
          "Other schedulers have submitted schedule change requests",
          "Request IDs from other schedulers are known for testing",
          "Role-based data access control is configured"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Scheduler attempts to access request details not submitted by them by directly entering the URL with another scheduler's request ID (e.g., /api/schedule-change-requests/12345) or manipulating dashboard filters",
            "expectedResult": "Access is denied with error message 'Access Denied: You do not have permission to view this request' or similar, and request details are not displayed"
          },
          {
            "step": 2,
            "action": "Scheduler verifies the dashboard list to confirm only their own requests are visible",
            "expectedResult": "Dashboard displays only requests where the logged-in scheduler is the submitter, with no requests from other schedulers visible in the list"
          }
        ],
        "postconditions": [
          "Scheduler can only see their own requests",
          "Security event is logged in system audit trail",
          "No unauthorized data is exposed",
          "User session remains active",
          "Dashboard continues to function normally for authorized requests"
        ],
        "estimatedTime": "4 mins"
      }
    ]
  }
]