{
  "storyId": "24366",
  "storyTitle": "As Business Analyst, I want to receive notifications upon report generation to achieve timely awareness.",
  "functional": [
    {
      "id": "TC-FUNC-001",
      "title": "Verify user can opt-in for email notifications during report generation",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is authenticated and logged in",
        "User has access to report generation page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to report generation page",
          "expectedResult": "Report generation page loads successfully"
        },
        {
          "step": 2,
          "action": "Click 'Customize Report' button",
          "expectedResult": "Customization options display including notification preferences"
        },
        {
          "step": 3,
          "action": "Select email notification option and enter valid email address",
          "expectedResult": "Email notification checkbox is checked and email field is populated"
        },
        {
          "step": 4,
          "action": "Submit report generation request",
          "expectedResult": "Report generation starts and confirmation message displays"
        },
        {
          "step": 5,
          "action": "Wait for report generation to complete",
          "expectedResult": "Email notification received within 1 minute with download link"
        }
      ],
      "postconditions": [
        "Report is generated successfully",
        "Email notification is sent to user"
      ]
    },
    {
      "id": "TC-FUNC-002",
      "title": "Verify user can opt-in for in-app notifications during report generation",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is authenticated and logged in",
        "User has access to report generation page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to report generation page",
          "expectedResult": "Report generation page loads successfully"
        },
        {
          "step": 2,
          "action": "Click 'Customize Report' button",
          "expectedResult": "Customization options display"
        },
        {
          "step": 3,
          "action": "Select in-app notification option",
          "expectedResult": "In-app notification checkbox is checked"
        },
        {
          "step": 4,
          "action": "Submit report generation request",
          "expectedResult": "Report generation starts"
        },
        {
          "step": 5,
          "action": "Wait for report generation to complete",
          "expectedResult": "In-app notification appears within 1 minute with download link"
        }
      ],
      "postconditions": [
        "Report is generated successfully",
        "In-app notification is displayed"
      ]
    },
    {
      "id": "TC-FUNC-003",
      "title": "Verify notification includes download link to generated report",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User has opted-in for notifications",
        "Report generation is completed"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Generate a report with notification enabled",
          "expectedResult": "Report generation completes successfully"
        },
        {
          "step": 2,
          "action": "Receive notification (email or in-app)",
          "expectedResult": "Notification contains report name and download link"
        },
        {
          "step": 3,
          "action": "Click on the download link in notification",
          "expectedResult": "Report file downloads successfully"
        },
        {
          "step": 4,
          "action": "Open downloaded report",
          "expectedResult": "Report opens with correct data"
        }
      ],
      "postconditions": [
        "Report is downloaded successfully",
        "Report contains expected data"
      ]
    },
    {
      "id": "TC-FUNC-004",
      "title": "Verify user can view history of generated reports",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is authenticated and logged in",
        "User has previously generated reports"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to report generation page",
          "expectedResult": "Report generation page loads"
        },
        {
          "step": 2,
          "action": "Click on 'Report History' or similar option",
          "expectedResult": "List of previously generated reports displays"
        },
        {
          "step": 3,
          "action": "Verify report details (name, date, status)",
          "expectedResult": "All generated reports are listed with correct details"
        },
        {
          "step": 4,
          "action": "Click download link for a historical report",
          "expectedResult": "Report downloads successfully"
        }
      ],
      "postconditions": [
        "Report history is accessible",
        "Historical reports can be downloaded"
      ]
    },
    {
      "id": "TC-FUNC-005",
      "title": "Verify user can opt-in for both email and in-app notifications simultaneously",
      "category": "Functional",
      "priority": "Medium",
      "preconditions": [
        "User is authenticated and logged in",
        "User has valid email address"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to report generation page and click 'Customize Report'",
          "expectedResult": "Customization options display"
        },
        {
          "step": 2,
          "action": "Select both email and in-app notification options",
          "expectedResult": "Both checkboxes are checked"
        },
        {
          "step": 3,
          "action": "Submit report generation request",
          "expectedResult": "Report generation starts"
        },
        {
          "step": 4,
          "action": "Wait for report completion",
          "expectedResult": "Both email and in-app notifications received within 1 minute"
        }
      ],
      "postconditions": [
        "User receives both notification types",
        "Both notifications contain download links"
      ]
    },
    {
      "id": "TC-FUNC-006",
      "title": "Verify notification is sent only upon successful report generation",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is authenticated and logged in",
        "User has opted-in for notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Submit report generation request with notification enabled",
          "expectedResult": "Report generation process initiates"
        },
        {
          "step": 2,
          "action": "Monitor report generation status",
          "expectedResult": "Report generation completes successfully"
        },
        {
          "step": 3,
          "action": "Check for notification delivery",
          "expectedResult": "Notification is received only after successful generation"
        },
        {
          "step": 4,
          "action": "Verify notification content",
          "expectedResult": "Notification confirms successful generation with download link"
        }
      ],
      "postconditions": [
        "Notification sent only on success",
        "Report is accessible via link"
      ]
    },
    {
      "id": "TC-FUNC-007",
      "title": "Verify notification delivery within 1 minute performance requirement",
      "category": "Functional",
      "priority": "High",
      "preconditions": [
        "User is authenticated and logged in",
        "User has opted-in for notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Submit report generation request and note timestamp",
          "expectedResult": "Report generation starts at recorded time"
        },
        {
          "step": 2,
          "action": "Wait for report generation to complete",
          "expectedResult": "Report generation completes successfully"
        },
        {
          "step": 3,
          "action": "Note timestamp when notification is received",
          "expectedResult": "Notification received"
        },
        {
          "step": 4,
          "action": "Calculate time difference between generation completion and notification",
          "expectedResult": "Notification delivered within 1 minute of report generation"
        }
      ],
      "postconditions": [
        "Performance requirement met",
        "Notification delivered timely"
      ]
    }
  ],
  "negative": [
    {
      "id": "TC-NEGA-001",
      "title": "Verify system rejects invalid email address for notification",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is authenticated and logged in",
        "User is on report generation page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Customize Report' button",
          "expectedResult": "Customization options display"
        },
        {
          "step": 2,
          "action": "Select email notification and enter invalid email (e.g., 'invalid-email')",
          "expectedResult": "Invalid email entered in field"
        },
        {
          "step": 3,
          "action": "Attempt to submit report generation request",
          "expectedResult": "Validation error displays: 'Please enter a valid email address'"
        },
        {
          "step": 4,
          "action": "Verify report generation is blocked",
          "expectedResult": "Report generation does not proceed until valid email provided"
        }
      ],
      "postconditions": [
        "Report is not generated",
        "User remains on customization page"
      ]
    },
    {
      "id": "TC-NEGA-002",
      "title": "Verify unauthenticated user cannot generate report or receive notifications",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is not logged in",
        "User attempts to access report generation page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to report generation URL without authentication",
          "expectedResult": "System redirects to login page or shows authentication error"
        },
        {
          "step": 2,
          "action": "Attempt to access API endpoint POST /api/reports/generate directly",
          "expectedResult": "API returns 401 Unauthorized error"
        },
        {
          "step": 3,
          "action": "Verify no report is generated",
          "expectedResult": "No report generation occurs"
        },
        {
          "step": 4,
          "action": "Verify no notification is sent",
          "expectedResult": "No notification delivered"
        }
      ],
      "postconditions": [
        "User is not authenticated",
        "No report or notification generated"
      ]
    },
    {
      "id": "TC-NEGA-003",
      "title": "Verify no notification sent when report generation fails",
      "category": "Negative",
      "priority": "High",
      "preconditions": [
        "User is authenticated and logged in",
        "User has opted-in for notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Submit report generation request with invalid parameters causing failure",
          "expectedResult": "Report generation fails with error message"
        },
        {
          "step": 2,
          "action": "Wait for expected notification timeframe (1 minute)",
          "expectedResult": "No success notification is received"
        },
        {
          "step": 3,
          "action": "Check notification history or inbox",
          "expectedResult": "No notification about successful generation exists"
        },
        {
          "step": 4,
          "action": "Verify error is logged or displayed to user",
          "expectedResult": "User is informed of generation failure through error message"
        }
      ],
      "postconditions": [
        "No success notification sent",
        "Report generation failed"
      ]
    },
    {
      "id": "TC-NEGA-004",
      "title": "Verify user cannot receive notifications for reports generated by other users",
      "category": "Negative",
      "priority": "Medium",
      "preconditions": [
        "Two users (User A and User B) are authenticated",
        "User A generates a report"
      ],
      "steps": [
        {
          "step": 1,
          "action": "User A submits report generation request with notifications enabled",
          "expectedResult": "Report generation starts for User A"
        },
        {
          "step": 2,
          "action": "Wait for report generation to complete",
          "expectedResult": "Report generated successfully"
        },
        {
          "step": 3,
          "action": "Check User B's notifications (email and in-app)",
          "expectedResult": "User B receives no notification about User A's report"
        },
        {
          "step": 4,
          "action": "Verify User A receives notification",
          "expectedResult": "Only User A receives notification for their report"
        }
      ],
      "postconditions": [
        "Notifications are user-specific",
        "No cross-user notification leakage"
      ]
    }
  ],
  "edgeCases": [
    {
      "id": "TC-EDGE-001",
      "title": "Verify notification behavior when user opts-out of all notification types",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is authenticated and logged in",
        "User is on report generation page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Click 'Customize Report' button",
          "expectedResult": "Customization options display"
        },
        {
          "step": 2,
          "action": "Ensure all notification options (email and in-app) are unchecked",
          "expectedResult": "No notification options selected"
        },
        {
          "step": 3,
          "action": "Submit report generation request",
          "expectedResult": "Report generation proceeds without notification preferences"
        },
        {
          "step": 4,
          "action": "Wait for report completion and check for notifications",
          "expectedResult": "No notifications sent; report available in history"
        }
      ],
      "postconditions": [
        "Report generated successfully",
        "No notifications delivered"
      ]
    },
    {
      "id": "TC-EDGE-002",
      "title": "Verify notification with extremely long report name",
      "category": "Edge Cases",
      "priority": "Low",
      "preconditions": [
        "User is authenticated and logged in",
        "User has opted-in for notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Create report with maximum allowed character length in name (e.g., 255 characters)",
          "expectedResult": "Report name accepted"
        },
        {
          "step": 2,
          "action": "Submit report generation request with notifications enabled",
          "expectedResult": "Report generation starts"
        },
        {
          "step": 3,
          "action": "Wait for notification delivery",
          "expectedResult": "Notification received within 1 minute"
        },
        {
          "step": 4,
          "action": "Verify notification displays report name correctly without truncation errors",
          "expectedResult": "Report name displayed properly or truncated gracefully with ellipsis"
        }
      ],
      "postconditions": [
        "Notification delivered successfully",
        "Long report name handled correctly"
      ]
    },
    {
      "id": "TC-EDGE-003",
      "title": "Verify notification delivery when multiple reports generated simultaneously",
      "category": "Edge Cases",
      "priority": "Medium",
      "preconditions": [
        "User is authenticated and logged in",
        "User has opted-in for notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Submit multiple report generation requests (3-5) in quick succession",
          "expectedResult": "All report generation requests accepted"
        },
        {
          "step": 2,
          "action": "Wait for all reports to complete generation",
          "expectedResult": "All reports generated successfully"
        },
        {
          "step": 3,
          "action": "Check notifications received",
          "expectedResult": "Separate notification received for each report within 1 minute of completion"
        },
        {
          "step": 4,
          "action": "Verify each notification contains correct report name and unique download link",
          "expectedResult": "All notifications are distinct and accurate"
        }
      ],
      "postconditions": [
        "All reports generated",
        "All notifications delivered correctly"
      ]
    },
    {
      "id": "TC-EDGE-004",
      "title": "Verify notification behavior when email service is temporarily unavailable",
      "category": "Edge Cases",
      "priority": "High",
      "preconditions": [
        "User is authenticated and logged in",
        "Email service is down or unavailable",
        "User has opted-in for email notifications"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Submit report generation request with email notification enabled",
          "expectedResult": "Report generation proceeds"
        },
        {
          "step": 2,
          "action": "Wait for report generation to complete",
          "expectedResult": "Report generated successfully"
        },
        {
          "step": 3,
          "action": "Check email notification delivery status",
          "expectedResult": "Email notification fails or queued for retry"
        },
        {
          "step": 4,
          "action": "Verify user can still access report via report history",
          "expectedResult": "Report accessible in history regardless of notification failure"
        }
      ],
      "postconditions": [
        "Report remains accessible",
        "System handles notification failure gracefully"
      ]
    }
  ],
  "accessibility": [
    {
      "id": "TC-ACCE-001",
      "title": "Verify keyboard navigation for notification preference selection",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is authenticated and logged in",
        "User is on report generation page",
        "Screen reader is not required for this test"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to 'Customize Report' button using Tab key",
          "expectedResult": "Button receives focus with visible focus indicator"
        },
        {
          "step": 2,
          "action": "Press Enter or Space to activate button",
          "expectedResult": "Customization options display"
        },
        {
          "step": 3,
          "action": "Use Tab key to navigate to notification checkboxes",
          "expectedResult": "Each checkbox receives focus with visible indicator"
        },
        {
          "step": 4,
          "action": "Use Space key to toggle notification options",
          "expectedResult": "Checkboxes toggle on/off using keyboard only"
        },
        {
          "step": 5,
          "action": "Tab to submit button and press Enter",
          "expectedResult": "Report generation request submitted successfully"
        }
      ],
      "postconditions": [
        "All actions completed using keyboard only",
        "Report generation initiated"
      ]
    },
    {
      "id": "TC-ACCE-002",
      "title": "Verify screen reader announces notification preferences and options",
      "category": "Accessibility",
      "priority": "High",
      "preconditions": [
        "User is authenticated and logged in",
        "Screen reader (NVDA/JAWS) is active",
        "User is on report generation page"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Navigate to 'Customize Report' button with screen reader",
          "expectedResult": "Screen reader announces button name and role"
        },
        {
          "step": 2,
          "action": "Activate button and navigate to notification options",
          "expectedResult": "Screen reader announces 'Email notification checkbox unchecked' and 'In-app notification checkbox unchecked'"
        },
        {
          "step": 3,
          "action": "Toggle notification checkboxes",
          "expectedResult": "Screen reader announces state change: 'checked' or 'unchecked'"
        },
        {
          "step": 4,
          "action": "Navigate to email input field",
          "expectedResult": "Screen reader announces field label, type, and required status"
        }
      ],
      "postconditions": [
        "All elements properly announced",
        "User can complete task with screen reader"
      ]
    },
    {
      "id": "TC-ACCE-003",
      "title": "Verify ARIA labels and roles for notification elements",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is authenticated and logged in",
        "Browser developer tools available"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Inspect notification preference checkboxes in DOM",
          "expectedResult": "Checkboxes have proper ARIA labels (aria-label or aria-labelledby)"
        },
        {
          "step": 2,
          "action": "Inspect email input field",
          "expectedResult": "Input has aria-required='true' and associated label"
        },
        {
          "step": 3,
          "action": "Inspect in-app notification when displayed",
          "expectedResult": "Notification has role='alert' or role='status' for screen reader announcement"
        },
        {
          "step": 4,
          "action": "Verify validation error messages have aria-describedby",
          "expectedResult": "Error messages properly associated with form fields"
        }
      ],
      "postconditions": [
        "All ARIA attributes present and correct",
        "Elements meet WCAG 2.1 standards"
      ]
    },
    {
      "id": "TC-ACCE-004",
      "title": "Verify focus management when in-app notification appears",
      "category": "Accessibility",
      "priority": "Medium",
      "preconditions": [
        "User is authenticated and logged in",
        "User has submitted report with in-app notification enabled"
      ],
      "steps": [
        {
          "step": 1,
          "action": "Submit report generation request",
          "expectedResult": "Report generation starts"
        },
        {
          "step": 2,
          "action": "Wait for in-app notification to appear",
          "expectedResult": "Notification appears on screen"
        },
        {
          "step": 3,
          "action": "Verify focus behavior when notification displays",
          "expectedResult": "Focus moves to notification or notification is announced without stealing focus"
        },
        {
          "step": 4,
          "action": "Use Tab key to navigate to download link in notification",
          "expectedResult": "Download link is keyboard accessible and receives focus"
        },
        {
          "step": 5,
          "action": "Press Enter on download link",
          "expectedResult": "Report downloads successfully"
        }
      ],
      "postconditions": [
        "Focus managed appropriately",
        "Notification is keyboard accessible"
      ]
    }
  ],
  "selectedTypes": {
    "functional": true,
    "negative": true,
    "edgeCases": true,
    "accessibility": true
  },
  "userStoryObject": {
    "id": "24366",
    "title": "As Business Analyst, I want to receive notifications upon report generation to achieve timely awareness.",
    "description": "CONTEXT & BACKGROUND:\nReceiving notifications ensures users are promptly informed when their reports are ready.\n\nCURRENT STATE:\nUsers currently have no way of knowing when reports are generated, leading to delays in accessing information.\n\nDESIRED STATE:\nUsers receive notifications once their reports are generated.\n\nKEY FUNCTIONALITY:\n• Users can opt-in for notifications via email or in-app.\n• The system sends notifications upon successful report generation.\n• Users can view a history of generated reports.\n• Notifications include links to download the reports.\n\nUSER INTERACTION FLOW:\n1. User navigates to the report generation page.\n2. User clicks on 'Customize Report'.\n3. User opts for notification preferences.\n4. User submits the report generation request.\n5. System generates the report and sends a notification.\n6. User receives the notification with download link.\n\nTECHNICAL CONSIDERATIONS:\n• Data source: User notification preferences.\n• Validation rules: Ensure valid email addresses for notifications.\n• API endpoints: POST /api/reports/generate.\n• Security: User authentication required for report generation.\n• Performance: Notifications sent within 1 minute of report generation.\n\nOUT OF SCOPE:\n• Notifications for reports not generated by the user.\n\nSUCCESS METRICS:\n• 80% of users report satisfaction with notification functionality.",
    "persona": "Business Analyst",
    "personaId": "",
    "acceptanceCriteria": [
      "Users can opt-in for notifications via email or in-app.",
      "System sends notifications upon successful report generation.",
      "Notifications include links to download the generated reports."
    ],
    "priority": "Medium",
    "storyPoints": 5,
    "epicId": "",
    "status": "Backlog"
  }
}