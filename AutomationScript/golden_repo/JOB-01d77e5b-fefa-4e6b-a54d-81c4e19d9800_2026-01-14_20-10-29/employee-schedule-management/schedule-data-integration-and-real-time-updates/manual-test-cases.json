[
  {
    "storyId": "story-13",
    "storyTitle": "As Employee, I want to receive notifications for schedule changes to stay informed",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate schedule change notification delivery",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Employee account exists and is active in the system",
          "Employee has an assigned schedule",
          "Administrator/Manager has permissions to update schedules",
          "System notification service is running",
          "Employee is not currently logged in"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Administrator/Manager accesses the schedule management system and updates the employee's schedule (e.g., changes shift time from 9:00 AM to 10:00 AM)",
            "expectedResult": "Schedule update is saved successfully in the ScheduleChanges table and a notification is generated and queued for the employee"
          },
          {
            "step": 2,
            "action": "Wait for notification processing (maximum 1 minute)",
            "expectedResult": "Notification is processed and marked as ready for delivery within 1 minute of the schedule change"
          },
          {
            "step": 3,
            "action": "Employee logs into the web interface using valid credentials",
            "expectedResult": "Employee is successfully authenticated and redirected to the dashboard with a prominent notification alert displayed indicating schedule change"
          },
          {
            "step": 4,
            "action": "Employee clicks on the notification alert to view details",
            "expectedResult": "Notification details are displayed showing the specific schedule change information (old time vs new time, date, shift details)"
          },
          {
            "step": 5,
            "action": "Employee clicks the 'Mark as Read' button on the notification",
            "expectedResult": "Notification status changes to 'Read', the alert badge is removed or decremented, and the notification is moved to the notification history/archive"
          },
          {
            "step": 6,
            "action": "Employee navigates to the notification history section",
            "expectedResult": "Previously read notification is visible in the history with timestamp and 'Read' status indicator"
          }
        ],
        "postconditions": [
          "Notification is marked as read in the database",
          "Notification is archived and accessible in history",
          "Employee's schedule displays the updated information",
          "No active notification alerts remain for this schedule change"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-002",
        "title": "Verify notification access control",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "Two employee accounts exist: Employee A and Employee B",
          "Employee A has a schedule change notification pending",
          "Employee B is logged into the system",
          "Both employees have active accounts with different credentials",
          "Security and authentication mechanisms are enabled"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Employee B is logged in and attempts to access the notifications endpoint for Employee A by manipulating the URL or API request (e.g., GET /api/notifications/schedule-changes?employeeId=EmployeeA)",
            "expectedResult": "System validates the authentication token and detects unauthorized access attempt"
          },
          {
            "step": 2,
            "action": "System processes the unauthorized access request",
            "expectedResult": "Access is denied with HTTP 403 Forbidden or 401 Unauthorized status code, and an error message is displayed: 'You do not have permission to view these notifications' or similar"
          },
          {
            "step": 3,
            "action": "Verify that Employee B can only see their own notifications by navigating to their notification page",
            "expectedResult": "Only notifications belonging to Employee B are displayed; no notifications from Employee A are visible"
          },
          {
            "step": 4,
            "action": "Check system logs for the unauthorized access attempt",
            "expectedResult": "Security log entry is created documenting the unauthorized access attempt with timestamp, user ID, and attempted resource"
          }
        ],
        "postconditions": [
          "Employee A's notifications remain secure and unaccessed by Employee B",
          "Employee B only has access to their own notifications",
          "Security audit log contains record of the access attempt",
          "No data breach or unauthorized information disclosure occurred"
        ],
        "estimatedTime": "6 mins"
      }
    ]
  },
  {
    "storyId": "story-20",
    "storyTitle": "As Employee, I want to receive confirmation that my schedule is up to date when I log in",
    "testCases": [
      {
        "id": "tc-003",
        "title": "Validate schedule status message on login",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Employee account exists and is active",
          "Employee has a schedule assigned in the system",
          "System has access to schedule timestamp data",
          "API endpoint GET /api/schedules/status is functional",
          "Employee is not currently logged in"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Verify that the employee's schedule data has been updated within the acceptable timeframe (e.g., within the last 24 hours or as per system configuration)",
            "expectedResult": "Schedule last updated timestamp is current and within acceptable threshold"
          },
          {
            "step": 2,
            "action": "Employee enters valid credentials and clicks the login button",
            "expectedResult": "Employee is successfully authenticated and redirected to the dashboard"
          },
          {
            "step": 3,
            "action": "System automatically checks schedule data freshness by calling GET /api/schedules/status",
            "expectedResult": "API returns status indicating schedule is current with timestamp information"
          },
          {
            "step": 4,
            "action": "Observe the dashboard or schedule page immediately after login",
            "expectedResult": "A prominent confirmation banner or message is displayed stating 'Schedule is up to date' with a success indicator (e.g., green checkmark or banner)"
          },
          {
            "step": 5,
            "action": "Simulate outdated schedule data by setting the schedule last updated timestamp to an old date (e.g., more than 48 hours ago) in the test database",
            "expectedResult": "Schedule timestamp is successfully updated to reflect outdated data"
          },
          {
            "step": 6,
            "action": "Log out the employee and log back in with the same credentials",
            "expectedResult": "Employee is successfully authenticated and redirected to the dashboard"
          },
          {
            "step": 7,
            "action": "System automatically checks schedule data freshness by calling GET /api/schedules/status",
            "expectedResult": "API returns status indicating schedule is outdated with timestamp information"
          },
          {
            "step": 8,
            "action": "Observe the dashboard or schedule page immediately after login",
            "expectedResult": "A prominent warning banner or message is displayed stating 'Your schedule may be outdated. Please contact your manager for the latest updates' or similar warning message with a warning indicator (e.g., yellow/orange banner or icon)"
          }
        ],
        "postconditions": [
          "Appropriate status message (confirmation or warning) is displayed based on schedule data currency",
          "Employee is informed of their schedule status immediately upon login",
          "Schedule data timestamp remains unchanged",
          "Employee can proceed to view their schedule with awareness of its currency status"
        ],
        "estimatedTime": "10 mins"
      }
    ]
  }
]