json
{
  "success": true,
  "playwrightTests": [
    {
      "storyId": "story-17",
      "storyTitle": "As Scheduler, I want to modify or reschedule conflicting bookings directly from the conflict resolution interface to quickly resolve issues",
      "testFile": "conflict-resolution-modification.spec.ts",
      "testCode": "import { test, expect } from '@playwright/test';\n\ntest.describe('Story-17: Modify or reschedule conflicting bookings from conflict resolution interface', () => {\n  test.beforeEach(async ({ page }) => {\n    // Navigate to the application and login as scheduler\n    await page.goto('/login');\n    await page.fill('[data-testid=\"username-input\"]', 'scheduler@test.com');\n    await page.fill('[data-testid=\"password-input\"]', 'password123');\n    await page.click('[data-testid=\"login-button\"]');\n    await expect(page).toHaveURL(/.*dashboard/);\n  });\n\n  test('Verify booking modification and validation in conflict interface', async ({ page }) => {\n    // Step 1: Open conflict resolution interface and select a conflict\n    await page.click('[data-testid=\"main-menu-button\"]');\n    await page.click('[data-testid=\"conflict-resolution-menu-item\"]');\n    await expect(page.locator('[data-testid=\"conflict-resolution-interface\"]')).toBeVisible();\n    \n    // Select a specific conflict from the list\n    await page.click('[data-testid=\"conflict-item\"]:first-child');\n    \n    // Expected Result: Conflicting bookings displayed with editable fields\n    await expect(page.locator('[data-testid=\"conflicting-bookings-container\"]')).toBeVisible();\n    await expect(page.locator('[data-testid=\"booking-time-field\"]')).toBeEditable();\n    await expect(page.locator('[data-testid=\"booking-resource-field\"]')).toBeEditable();\n    \n    // Step 2: Modify booking time to a non-conflicting slot\n    const bookingTimeField = page.locator('[data-testid=\"booking-time-field\"]').first();\n    await bookingTimeField.click();\n    \n    // Use time picker or calendar widget to select new time\n    await page.click('[data-testid=\"time-picker-widget\"]');\n    await page.click('[data-testid=\"time-slot-14-00\"]'); // Select 2:00 PM slot\n    \n    // Expected Result: System validates changes successfully\n    await expect(page.locator('[data-testid=\"validation-success-indicator\"]')).toBeVisible({ timeout: 3000 });\n    await expect(page.locator('[data-testid=\"validation-error-message\"]')).not.toBeVisible();\n    const validationMessage = page.locator('[data-testid=\"validation-message\"]');\n    await expect(validationMessage).toContainText('No conflicts detected');\n    \n    // Step 3: Save changes\n    await page.click('[data-testid=\"save-changes-button\"]');\n    \n    // Expected Result: Booking updated and conflict status refreshed\n    await expect(page.locator('[data-testid=\"save-success-notification\"]')).toBeVisible({ timeout: 3000 });\n    await expect(page.locator('[data-testid=\"save-success-notification\"]')).toContainText('Booking updated successfully');\n    \n    // Verify conflict status is updated\n    const conflictStatus = page.locator('[data-testid=\"conflict-status\"]');\n    await expect(conflictStatus).toContainText('Resolved');\n    \n    // Verify changes are reflected in main scheduling view\n    await page.click('[data-testid=\"main-menu-button\"]');\n    await page.click('[data-testid=\"scheduling-view-menu-item\"]');\n    await expect(page.locator('[data-testid=\"booking-time\"]').first()).toContainText('14:00');\n  });\n\n  test('Test undo functionality for booking changes', async ({ page }) => {\n    // Navigate to conflict resolution interface\n    await page.click('[data-testid=\"main-menu-button\"]');\n    await page.click('[data-testid=\"conflict-resolution-menu-item\"]');\n    await expect(page.locator('[data-testid=\"conflict-resolution-interface\"]')).toBeVisible();\n    \n    // Step 1: Select a conflict and modify booking details\n    await page.click('[data-testid=\"conflict-item\"]:first-child');\n    await expect(page.locator('[data-testid=\"conflicting-bookings-container\"]')).toBeVisible();\n    \n    // Store original booking values for verification\n    const originalTime = await page.locator('[data-testid=\"booking-time-field\"]').first().inputValue();\n    const originalResource = await page.locator('[data-testid=\"booking-resource-field\"]').first().inputValue();\n    \n    // Modify booking time\n    await page.locator('[data-testid=\"booking-time-field\"]').first().click();\n    await page.click('[data-testid=\"time-picker-widget\"]');\n    await page.click('[data-testid=\"time-slot-15-00\"]'); // Change to 3:00 PM\n    \n    // Step 2: Save the changes\n    await page.click('[data-testid=\"save-changes-button\"]');\n    \n    // Expected Result: Changes applied\n    await expect(page.locator('[data-testid=\"save-success-notification\"]')).toBeVisible({ timeout: 3000 });\n    const updatedTime = await page.locator('[data-testid=\"booking-time-display\"]').first().textContent();\n    expect(updatedTime).toContain('15:00');\n    \n    // Step 3: Use undo option\n    await page.click('[data-testid=\"undo-button\"]');\n    \n    // Expected Result: Booking reverts to previous state\n    await expect(page.locator('[data-testid=\"undo-success-notification\"]')).toBeVisible({ timeout: 3000 });\n    await expect(page.locator('[data-testid=\"undo-success-notification\"]')).toContainText('Changes undone successfully');\n    \n    // Verify booking shows original values\n    const revertedTime = await page.locator('[data-testid=\"booking-time-display\"]').first().textContent();\n    expect(revertedTime).toContain(originalTime);\n    \n    // Step 4: Verify conflict status updates accordingly\n    const conflictStatus = page.locator('[data-testid=\"conflict-status\"]');\n    await expect(conflictStatus).toBeVisible();\n    \n    // Expected Result: Conflict status reflects reverted changes\n    await expect(conflictStatus).toContainText('Active');\n    \n    // Step 5: Check main scheduling view to confirm original values\n    await page.click('[data-testid=\"main-menu-button\"]');\n    await page.click('[data-testid=\"scheduling-view-menu-item\"]');\n    await expect(page.locator('[data-testid=\"scheduling-view\"]')).toBeVisible();\n    \n    const scheduleBookingTime = await page.locator('[data-testid=\"booking-time\"]').first().textContent();\n    expect(scheduleBookingTime).toContain(originalTime);\n  });\n\n  test('Verify real-time validation during booking modification', async ({ page }) => {\n    // Navigate to conflict resolution interface\n    await page.click('[data-testid=\"main-menu-button\"]');\n    await page.click('[data-testid=\"conflict-resolution-menu-item\"]');\n    await page.click('[data-testid=\"conflict-item\"]:first-child');\n    \n    // Modify booking to create another conflict\n    await page.locator('[data-testid=\"booking-time-field\"]').first().click();\n    await page.click('[data-testid=\"time-picker-widget\"]');\n    await page.click('[data-testid=\"time-slot-10-00\"]'); // Select conflicting time\n    \n    // Verify real-time validation shows error\n    await expect(page.locator('[data-testid=\"validation-error-indicator\"]')).toBeVisible({ timeout: 3000 });\n    await expect(page.locator('[data-testid=\"validation-error-message\"]')).toContainText('Conflict detected');\n    \n    // Verify save button is disabled\n    await expect(page.locator('[data-testid=\"save-changes-button\"]')).toBeDisabled();\n    \n    // Change to non-conflicting time\n    await page.locator('[data-testid=\"booking-time-field\"]').first().click();\n    await page.click('[data-testid=\"time-picker-widget\"]');\n    await page.click('[data-testid=\"time-slot-16-00\"]');\n    \n    // Verify validation passes\n    await expect(page.locator('[data-testid=\"validation-success-indicator\"]')).toBeVisible({ timeout: 3000 });\n    await expect(page.locator('[data-testid=\"save-changes-button\"]')).toBeEnabled();\n  });\n\n  test('Verify save and validation operations complete within 3 seconds', async ({ page }) => {\n    await page.click('[data-testid=\"main-menu-button\"]');\n    await page.click('[data-testid=\"conflict-resolution-menu-item\"]');\n    await page.click('[data-testid=\"conflict-item\"]:first-child');\n    \n    // Modify booking\n    await page.locator('[data-testid=\"booking-time-field\"]').first().click();\n    await page.click('[data-testid=\"time-picker-widget\"]');\n    await page.click('[data-testid=\"time-slot-13-00\"]');\n    \n    // Measure validation time\n    const validationStart = Date.now();\n    await expect(page.locator('[data-testid=\"validation-success-indicator\"]')).toBeVisible({ timeout: 3000 });\n    const validationTime = Date.now() - validationStart;\n    expect(validationTime).toBeLessThan(3000);\n    \n    // Measure save operation time\n    const saveStart = Date.now();\n    await page.click('[data-testid=\"save-changes-button\"]');\n    await expect(page.locator('[data-testid=\"save-success-notification\"]')).toBeVisible({ timeout: 3000 });\n    const saveTime = Date.now() - saveStart;\n    expect(saveTime).toBeLessThan(3000);\n  });\n});"
    }
  ]
}