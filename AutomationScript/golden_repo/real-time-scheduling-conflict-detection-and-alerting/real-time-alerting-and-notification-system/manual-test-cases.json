[
  {
    "storyId": "story-11",
    "storyTitle": "As Scheduler, I want to receive real-time alerts for scheduling conflicts to avoid double bookings",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate alert sent within 5 seconds of conflict detection",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Scheduler user account is active and logged into the system",
          "At least one existing booking is present in the system",
          "Alert notification system is operational",
          "Scheduler has valid notification channels configured (email/SMS/in-app)",
          "System clock is synchronized for accurate timing measurements"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Create a new booking that conflicts with an existing booking by selecting the same resource and overlapping time slot",
            "expectedResult": "System detects the scheduling conflict and triggers the conflict detection engine within 2 seconds"
          },
          {
            "step": 2,
            "action": "Start timer and monitor the configured notification channel (email/SMS/in-app) for alert delivery",
            "expectedResult": "Alert notification is received by the scheduler within 5 seconds of conflict detection"
          },
          {
            "step": 3,
            "action": "Open and review the received alert notification content",
            "expectedResult": "Alert contains complete conflict information including: conflicting booking IDs, resource names, overlapping time slots, affected parties, and conflict severity level"
          }
        ],
        "postconditions": [
          "Alert delivery is logged in the system with timestamp",
          "Conflict status remains active until resolved",
          "Scheduler is aware of the conflict and can take corrective action"
        ],
        "estimatedTime": "5 mins"
      },
      {
        "id": "tc-002",
        "title": "Verify alert preference configuration and delivery",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Scheduler user account is active and logged into the system",
          "Scheduler has access to alert preference settings",
          "Multiple notification channels are available (email, SMS, in-app)",
          "Valid email address and phone number are registered for the scheduler",
          "Test booking data exists to trigger conflicts"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to alert preferences settings and select 'Email only' as the notification channel, then save the configuration",
            "expectedResult": "System displays confirmation message 'Preferences saved successfully' and email is set as the sole notification channel"
          },
          {
            "step": 2,
            "action": "Create a conflicting booking to trigger the conflict detection system",
            "expectedResult": "Alert is sent exclusively via email channel; no SMS or in-app notifications are generated"
          },
          {
            "step": 3,
            "action": "Return to alert preferences settings, deselect email, and select both 'SMS' and 'In-app' notification channels, then save",
            "expectedResult": "System saves the updated preferences and confirms the change; subsequent alerts are delivered via both SMS and in-app notification channels only"
          },
          {
            "step": 4,
            "action": "Create another conflicting booking to verify the updated preferences",
            "expectedResult": "Alert notifications are received via SMS and in-app channels; no email notification is sent"
          }
        ],
        "postconditions": [
          "Alert preferences are persisted in the user profile",
          "All future alerts respect the updated channel preferences",
          "Preference change history is logged in the system"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-003",
        "title": "Ensure system retries failed alert deliveries",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "Scheduler user account is active with email notification enabled",
          "System has retry mechanism configured for failed notifications",
          "Ability to simulate email delivery failure in test environment",
          "Alert delivery logging is enabled",
          "Test booking data exists to trigger conflicts"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Configure test environment to simulate email server failure or network timeout for the scheduler's email address",
            "expectedResult": "Email delivery service is set to fail on first attempt"
          },
          {
            "step": 2,
            "action": "Create a conflicting booking to trigger alert generation and monitor the initial delivery attempt",
            "expectedResult": "System attempts to send alert via email and receives delivery failure response; alert status is marked as 'Failed' in logs"
          },
          {
            "step": 3,
            "action": "Restore email delivery service to normal operation and wait for the system's automatic retry mechanism to execute",
            "expectedResult": "System automatically retries sending the alert according to retry policy; alert is successfully delivered on retry attempt"
          },
          {
            "step": 4,
            "action": "Access the alert delivery logs and review the complete delivery history for this alert",
            "expectedResult": "Logs show initial failed attempt with timestamp and error details, followed by successful retry attempt with delivery confirmation and timestamps for both attempts"
          }
        ],
        "postconditions": [
          "Alert is successfully delivered to scheduler",
          "Complete delivery history including failures and retries is logged",
          "System retry mechanism is confirmed operational",
          "Scheduler receives the conflict notification despite initial failure"
        ],
        "estimatedTime": "10 mins"
      }
    ]
  },
  {
    "storyId": "story-16",
    "storyTitle": "As Scheduler, I want to receive alerts only for conflicts relevant to my assigned resources to reduce noise",
    "testCases": [
      {
        "id": "tc-004",
        "title": "Verify alert filtering by assigned resources",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Scheduler user account is active and logged into the system",
          "Multiple resources exist in the system (both assigned and unassigned to the scheduler)",
          "Scheduler has permission to view and update resource assignments",
          "Alert notification system is operational",
          "Test booking data exists for multiple resources"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to resource assignment settings and assign specific resources (e.g., Conference Room A, Projector 1) to the scheduler, then save the assignments",
            "expectedResult": "System displays confirmation message 'Assignments saved successfully' and the assigned resources are visible in the scheduler's resource list"
          },
          {
            "step": 2,
            "action": "Create multiple conflicting bookings: one involving an assigned resource (Conference Room A) and another involving an unassigned resource (Conference Room B)",
            "expectedResult": "Scheduler receives alert notification only for the conflict involving Conference Room A (assigned resource); no alert is received for Conference Room B conflict"
          },
          {
            "step": 3,
            "action": "Verify the received alert content to confirm it relates only to assigned resources",
            "expectedResult": "Alert details show only conflicts for Conference Room A and contains no information about Conference Room B"
          },
          {
            "step": 4,
            "action": "Update resource assignments by adding Conference Room B and removing Conference Room A from the scheduler's assigned resources, then save",
            "expectedResult": "System confirms 'Assignments updated successfully' and the resource list reflects the changes immediately"
          },
          {
            "step": 5,
            "action": "Create new conflicting bookings for both Conference Room A and Conference Room B",
            "expectedResult": "Scheduler now receives alerts only for Conference Room B conflicts and does not receive alerts for Conference Room A conflicts, confirming alert filtering updates accordingly"
          }
        ],
        "postconditions": [
          "Resource assignments are updated and persisted in the system",
          "Alert filtering reflects current resource assignments",
          "Scheduler receives only relevant alerts based on updated assignments",
          "Assignment change history is logged"
        ],
        "estimatedTime": "10 mins"
      },
      {
        "id": "tc-005",
        "title": "Test override of filtering for critical alerts",
        "type": "edge-case",
        "priority": "High",
        "preconditions": [
          "Scheduler user account is active with specific resource assignments configured",
          "Critical alert override functionality is enabled in the system",
          "Scheduler has resources assigned that do not include all system resources",
          "System can identify and flag critical conflicts",
          "Alert notification channels are operational"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Verify scheduler's current resource assignments and identify a resource not assigned to the scheduler (e.g., Emergency Equipment)",
            "expectedResult": "Scheduler's assignment list is confirmed and does not include Emergency Equipment"
          },
          {
            "step": 2,
            "action": "Create a critical conflict involving the unassigned resource (Emergency Equipment) by marking it as high priority or critical severity in the system",
            "expectedResult": "System detects the critical conflict and triggers alert generation with override flag, bypassing normal filtering rules"
          },
          {
            "step": 3,
            "action": "Monitor notification channels for alert delivery",
            "expectedResult": "Scheduler receives the alert notification despite Emergency Equipment not being in their assigned resources list, confirming override functionality"
          },
          {
            "step": 4,
            "action": "Open and review the alert notification content and metadata",
            "expectedResult": "Alert is clearly marked with 'CRITICAL' or 'OVERRIDE' indicator and includes explanation text such as 'This alert was sent due to critical priority, overriding your resource filter settings'"
          }
        ],
        "postconditions": [
          "Critical alert is successfully delivered despite filtering",
          "Override event is logged in the system",
          "Scheduler is aware of the critical conflict and the reason for receiving the alert",
          "Normal filtering rules remain active for non-critical alerts"
        ],
        "estimatedTime": "8 mins"
      }
    ]
  },
  {
    "storyId": "story-18",
    "storyTitle": "As Scheduler, I want the system to support multiple alert channels including email, SMS, and in-app notifications to ensure timely awareness",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate multi-channel alert delivery",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User has a valid scheduler account with active status",
          "User has verified email address and phone number registered in the system",
          "Alert preferences page is accessible",
          "Email, SMS, and in-app notification services are operational",
          "Test conflict scenario is prepared in the system"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to user profile settings and access alert preferences section",
            "expectedResult": "Alert preferences page loads successfully displaying all available notification channels (email, SMS, in-app)"
          },
          {
            "step": 2,
            "action": "Select email checkbox and enter/verify email address",
            "expectedResult": "Email channel is enabled and email address is validated and saved"
          },
          {
            "step": 3,
            "action": "Select SMS checkbox and enter/verify phone number",
            "expectedResult": "SMS channel is enabled and phone number is validated and saved"
          },
          {
            "step": 4,
            "action": "Select in-app notification checkbox",
            "expectedResult": "In-app notification channel is enabled and preference is saved"
          },
          {
            "step": 5,
            "action": "Click 'Save Preferences' button",
            "expectedResult": "Success message displayed confirming preferences saved successfully for all three channels"
          },
          {
            "step": 6,
            "action": "Trigger conflict detection by creating a scheduling conflict in the system",
            "expectedResult": "System detects the conflict and initiates alert generation process"
          },
          {
            "step": 7,
            "action": "Check email inbox for alert notification",
            "expectedResult": "Email alert received within 5 seconds containing conflict details with proper formatting"
          },
          {
            "step": 8,
            "action": "Check mobile device for SMS notification",
            "expectedResult": "SMS alert received within 5 seconds containing conflict summary with proper formatting"
          },
          {
            "step": 9,
            "action": "Check in-app notification center within the application",
            "expectedResult": "In-app notification appears within 5 seconds displaying conflict information with actionable links"
          },
          {
            "step": 10,
            "action": "Verify timestamp consistency across all three channels",
            "expectedResult": "All alerts show consistent timestamp and conflict information across email, SMS, and in-app channels"
          }
        ],
        "postconditions": [
          "User preferences remain saved in the system",
          "All three alert channels show successful delivery status in logs",
          "Conflict alert is marked as delivered in the system",
          "User can view alert history for all channels"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-002",
        "title": "Test alert delivery retry on failure",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User has valid scheduler account with SMS alert preference enabled",
          "User has verified phone number registered in the system",
          "SMS service is accessible for testing",
          "Test environment allows simulation of SMS delivery failures",
          "Delivery logs are accessible for verification",
          "Retry policy is configured in the system (e.g., 3 retry attempts with 30-second intervals)"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Configure test environment to simulate SMS delivery failure for the next alert",
            "expectedResult": "SMS service mock/simulator is set to return failure status for initial delivery attempt"
          },
          {
            "step": 2,
            "action": "Trigger conflict detection to generate an alert",
            "expectedResult": "System detects conflict and initiates alert sending process"
          },
          {
            "step": 3,
            "action": "Monitor initial SMS delivery attempt",
            "expectedResult": "Initial SMS delivery fails with error status recorded in system logs"
          },
          {
            "step": 4,
            "action": "Access delivery logs and verify failure is recorded",
            "expectedResult": "Delivery log shows failed attempt with timestamp, error code, and channel (SMS) clearly documented"
          },
          {
            "step": 5,
            "action": "Remove SMS delivery failure simulation to allow successful delivery",
            "expectedResult": "SMS service is restored to normal operational state"
          },
          {
            "step": 6,
            "action": "Wait for system to automatically retry SMS delivery according to retry policy",
            "expectedResult": "System initiates retry attempt within configured interval (e.g., 30 seconds)"
          },
          {
            "step": 7,
            "action": "Verify SMS alert is received on mobile device",
            "expectedResult": "SMS alert delivered successfully on retry attempt with correct conflict information"
          },
          {
            "step": 8,
            "action": "Access delivery logs and check retry attempts",
            "expectedResult": "Delivery logs show initial failure followed by successful retry with timestamps, attempt numbers, and final success status"
          },
          {
            "step": 9,
            "action": "Verify delivery status in alert dashboard",
            "expectedResult": "Alert dashboard displays final status as 'Delivered' with retry count and delivery timeline visible"
          }
        ],
        "postconditions": [
          "SMS alert successfully delivered to user",
          "Complete delivery history logged including failure and retry",
          "Alert marked as delivered in the system",
          "SMS service restored to normal operation",
          "Retry mechanism validated as functional"
        ],
        "estimatedTime": "10 mins"
      }
    ]
  },
  {
    "storyId": "story-20",
    "storyTitle": "As Scheduler, I want the system to track alert delivery status and retry failed notifications to ensure reliable communication",
    "testCases": [
      {
        "id": "tc-003",
        "title": "Verify delivery status tracking and retry mechanism",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User has valid scheduler account with multiple alert channels configured",
          "Alert delivery dashboard is accessible",
          "Test environment supports simulation of delivery failures",
          "Delivery logging system is operational",
          "Retry policy is configured with specific intervals and maximum attempts",
          "Administrator or scheduler has appropriate permissions to view delivery logs"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Configure test environment to simulate delivery failures for specific channels (e.g., email and SMS)",
            "expectedResult": "Test environment is set to return failure status for designated alert channels"
          },
          {
            "step": 2,
            "action": "Trigger conflict detection to generate alerts across multiple channels",
            "expectedResult": "System generates alerts and attempts delivery via email, SMS, and in-app channels"
          },
          {
            "step": 3,
            "action": "Monitor initial delivery attempts for all channels",
            "expectedResult": "Email and SMS deliveries fail as simulated; in-app notification succeeds"
          },
          {
            "step": 4,
            "action": "Access delivery logs via GET /api/alert-delivery-status endpoint",
            "expectedResult": "Delivery logs display all attempts with status: email (failed), SMS (failed), in-app (success) with timestamps and error details"
          },
          {
            "step": 5,
            "action": "Verify failure details are recorded accurately in logs",
            "expectedResult": "Each failed delivery shows channel name, timestamp, error code, alert ID, and user ID"
          },
          {
            "step": 6,
            "action": "Remove delivery failure simulation to allow successful retries",
            "expectedResult": "Email and SMS services restored to operational state"
          },
          {
            "step": 7,
            "action": "Wait for automatic retry according to configured retry policy",
            "expectedResult": "System initiates retry attempts for failed email and SMS deliveries within configured interval"
          },
          {
            "step": 8,
            "action": "Verify alerts are delivered successfully on retry",
            "expectedResult": "Email and SMS alerts delivered successfully; user receives notifications on both channels"
          },
          {
            "step": 9,
            "action": "Access delivery logs again to verify retry attempts",
            "expectedResult": "Logs show complete history: initial failures, retry attempts with timestamps, and final success status for each channel"
          },
          {
            "step": 10,
            "action": "Navigate to delivery status dashboard",
            "expectedResult": "Dashboard loads successfully displaying alert delivery statistics and status"
          },
          {
            "step": 11,
            "action": "Locate the specific alert in the dashboard",
            "expectedResult": "Alert is displayed with complete delivery information for all channels"
          },
          {
            "step": 12,
            "action": "Verify accuracy of status and retry attempts displayed",
            "expectedResult": "Dashboard shows accurate status (Delivered), retry count per channel, delivery timeline, and success rate matching the logs"
          },
          {
            "step": 13,
            "action": "Check dashboard filters and sorting options",
            "expectedResult": "Dashboard allows filtering by status, channel, date range, and sorting by various parameters"
          }
        ],
        "postconditions": [
          "All alerts successfully delivered after retries",
          "Complete delivery history logged for audit purposes",
          "Dashboard reflects accurate delivery status",
          "Test environment restored to normal state",
          "Retry mechanism validated as functional across all channels"
        ],
        "estimatedTime": "12 mins"
      },
      {
        "id": "tc-004",
        "title": "Test administrator notifications on persistent failures",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "Administrator account is configured with valid contact information",
          "Administrator notification preferences are enabled",
          "Test environment supports simulation of persistent delivery failures",
          "Retry policy is configured with maximum retry attempts (e.g., 3 attempts)",
          "Alert system is operational",
          "Administrator has access to notification channels (email/in-app)"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Configure test environment to simulate persistent SMS delivery failures that exceed retry limit",
            "expectedResult": "SMS service mock is set to continuously return failure status for all retry attempts"
          },
          {
            "step": 2,
            "action": "Trigger conflict detection to generate an alert for a scheduler user",
            "expectedResult": "System generates alert and attempts delivery via configured channels including SMS"
          },
          {
            "step": 3,
            "action": "Monitor initial SMS delivery attempt",
            "expectedResult": "Initial SMS delivery fails and is logged with failure status"
          },
          {
            "step": 4,
            "action": "Wait for first automatic retry attempt",
            "expectedResult": "System retries SMS delivery after configured interval; retry fails and is logged"
          },
          {
            "step": 5,
            "action": "Wait for second automatic retry attempt",
            "expectedResult": "System retries SMS delivery again; retry fails and is logged"
          },
          {
            "step": 6,
            "action": "Wait for third automatic retry attempt (final retry per policy)",
            "expectedResult": "System performs final retry; retry fails and maximum retry limit is reached"
          },
          {
            "step": 7,
            "action": "Verify system flags the alert as persistently failed",
            "expectedResult": "Alert status updated to 'Persistent Failure' in delivery logs with all retry attempts documented"
          },
          {
            "step": 8,
            "action": "Check if administrator notification is triggered",
            "expectedResult": "System generates and sends notification to administrators about persistent delivery failure"
          },
          {
            "step": 9,
            "action": "Access administrator email inbox",
            "expectedResult": "Administrator receives email notification within 5 seconds containing failure details: alert ID, user affected, channel failed (SMS), retry attempts, and timestamp"
          },
          {
            "step": 10,
            "action": "Check administrator in-app notification center",
            "expectedResult": "Administrator receives in-app notification with persistent failure alert including actionable information and links to delivery dashboard"
          },
          {
            "step": 11,
            "action": "Verify notification content includes all necessary details",
            "expectedResult": "Notification contains: affected user ID, alert type, failed channel, number of retry attempts, error codes, and recommended actions"
          },
          {
            "step": 12,
            "action": "Access delivery status dashboard as administrator",
            "expectedResult": "Dashboard displays the persistent failure prominently with visual indicator (e.g., red flag or alert icon)"
          },
          {
            "step": 13,
            "action": "Verify persistent failure is logged comprehensively",
            "expectedResult": "Complete log entry shows all delivery attempts, timestamps, error codes, retry history, and final persistent failure status"
          }
        ],
        "postconditions": [
          "Persistent failure is flagged in the system",
          "Administrator is notified via all configured channels",
          "Complete failure history is logged for investigation",
          "Alert remains in failed state pending administrator action",
          "Test environment can be restored to normal operation"
        ],
        "estimatedTime": "15 mins"
      }
    ]
  }
]