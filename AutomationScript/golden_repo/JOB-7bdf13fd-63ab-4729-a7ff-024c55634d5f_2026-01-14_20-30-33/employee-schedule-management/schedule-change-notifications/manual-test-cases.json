[
  {
    "storyId": "story-5",
    "storyTitle": "As Employee, I want to receive notifications of schedule changes to stay informed",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate display of schedule change notifications on login",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "Employee account exists in the system with valid credentials",
          "At least one schedule change has been made for the employee within the last 30 days",
          "ScheduleChanges table contains recent entries linked to the employee",
          "API endpoint GET /api/notifications/scheduleChanges is operational",
          "Employee is not currently logged into the system"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the employee web portal login page",
            "expectedResult": "Login page is displayed with username and password fields"
          },
          {
            "step": 2,
            "action": "Enter valid employee credentials (username and password)",
            "expectedResult": "Credentials are accepted and login button is enabled"
          },
          {
            "step": 3,
            "action": "Click the login button",
            "expectedResult": "Employee is successfully authenticated and redirected to the dashboard"
          },
          {
            "step": 4,
            "action": "Observe the notification panel on the dashboard",
            "expectedResult": "Notification panel is visible and displays recent schedule change notifications within 2 seconds of login"
          },
          {
            "step": 5,
            "action": "Review the details of each notification displayed",
            "expectedResult": "Each notification shows accurate change type (added, modified, or cancelled), shift date, shift time, and location information"
          },
          {
            "step": 6,
            "action": "Verify the timestamp of each notification",
            "expectedResult": "Notifications display when the schedule change occurred and are sorted by most recent first"
          },
          {
            "step": 7,
            "action": "Click on a notification to mark it as read",
            "expectedResult": "The selected notification is visually marked as read with a different background color or read indicator"
          },
          {
            "step": 8,
            "action": "Click the dismiss or close button on the marked notification",
            "expectedResult": "The notification is removed from the main notification panel view"
          },
          {
            "step": 9,
            "action": "Refresh the page",
            "expectedResult": "Previously dismissed notifications remain hidden and read status is persisted"
          }
        ],
        "postconditions": [
          "Employee remains logged into the system",
          "Marked notifications are stored as read in the database",
          "Dismissed notifications are hidden from the main notification panel",
          "Notification history is updated with read status"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-002",
        "title": "Verify notification history accessibility",
        "type": "happy-path",
        "priority": "Medium",
        "preconditions": [
          "Employee is logged into the web portal",
          "Employee has schedule change notifications from various dates within the past 30 days",
          "Employee has schedule change notifications older than 30 days in the system",
          "Notification history feature is enabled and accessible"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Locate and click on the notification history link or icon in the navigation menu",
            "expectedResult": "Notification history page or section is displayed"
          },
          {
            "step": 2,
            "action": "Observe the list of notifications displayed in the history section",
            "expectedResult": "All notifications from the past 30 days are displayed in chronological order with complete details"
          },
          {
            "step": 3,
            "action": "Verify the date range of displayed notifications",
            "expectedResult": "The oldest notification displayed is no more than 30 days old from the current date"
          },
          {
            "step": 4,
            "action": "Check for any notifications older than 30 days in the history list",
            "expectedResult": "No notifications older than 30 days are visible in the notification history"
          },
          {
            "step": 5,
            "action": "Scroll through the notification history to view all entries",
            "expectedResult": "All notifications within the 30-day window are accessible and display complete information including change type, shift details, and timestamp"
          },
          {
            "step": 6,
            "action": "Filter or search for a specific notification within the 30-day period if filtering is available",
            "expectedResult": "Filtering functionality works correctly and returns relevant notifications within the 30-day retention period"
          }
        ],
        "postconditions": [
          "Employee remains on the notification history page",
          "Notification history data remains unchanged",
          "30-day retention policy is confirmed to be enforced"
        ],
        "estimatedTime": "6 mins"
      },
      {
        "id": "tc-003",
        "title": "Ensure unauthorized users cannot access notifications",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "Employee web portal is accessible via browser",
          "User is not currently logged into the system",
          "Authentication and authorization mechanisms are active",
          "Direct URL to notifications endpoint is known for testing purposes"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Open a web browser and navigate directly to the notifications page URL without logging in",
            "expectedResult": "Access is denied and user is automatically redirected to the login page"
          },
          {
            "step": 2,
            "action": "Observe any error messages or notifications displayed",
            "expectedResult": "An appropriate error message is displayed indicating authentication is required (e.g., 'Please log in to access this page' or 'Unauthorized access')"
          },
          {
            "step": 3,
            "action": "Attempt to access the API endpoint GET /api/notifications/scheduleChanges directly without authentication token",
            "expectedResult": "API returns 401 Unauthorized status code and access is denied"
          },
          {
            "step": 4,
            "action": "Try to access notifications using an invalid or expired authentication token",
            "expectedResult": "Access is denied with 401 Unauthorized response and user is redirected to login"
          },
          {
            "step": 5,
            "action": "Verify that no notification data is exposed in the response or browser",
            "expectedResult": "No sensitive notification data or employee schedule information is visible or accessible"
          },
          {
            "step": 6,
            "action": "Confirm the login page is displayed with proper authentication fields",
            "expectedResult": "Login page is shown with username and password fields ready for credential entry"
          }
        ],
        "postconditions": [
          "User remains unauthenticated",
          "No unauthorized access to notification data has occurred",
          "Security logs record the unauthorized access attempt",
          "User is positioned at the login page ready to authenticate"
        ],
        "estimatedTime": "7 mins"
      }
    ]
  }
]