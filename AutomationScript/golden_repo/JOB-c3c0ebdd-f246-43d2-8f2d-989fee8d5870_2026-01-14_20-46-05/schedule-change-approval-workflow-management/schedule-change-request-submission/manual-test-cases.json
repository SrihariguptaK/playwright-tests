[
  {
    "storyId": "story-1",
    "storyTitle": "As Scheduler, I want to create and save draft schedule change requests to achieve accurate and complete submissions",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Validate saving and editing draft schedule change requests",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in with Scheduler role",
          "User has access to schedule change request functionality",
          "ScheduleChangeRequests table is accessible",
          "No existing drafts are open in the current session"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to schedule change request form",
            "expectedResult": "Form is displayed with all fields including mandatory and optional fields, all fields are empty and editable"
          },
          {
            "step": 2,
            "action": "Enter partial data in some fields (e.g., employee name, date) without completing all mandatory fields",
            "expectedResult": "Data is entered successfully in the fields without validation errors"
          },
          {
            "step": 3,
            "action": "Click 'Save as Draft' button",
            "expectedResult": "Draft is saved successfully with confirmation message displayed, draft ID is generated and visible"
          },
          {
            "step": 4,
            "action": "Navigate away from the form or close the browser",
            "expectedResult": "User is able to leave the page without data loss warning"
          },
          {
            "step": 5,
            "action": "Return to schedule change request page and retrieve the saved draft",
            "expectedResult": "Draft is listed in drafts section with correct draft ID and timestamp"
          },
          {
            "step": 6,
            "action": "Open the saved draft for editing",
            "expectedResult": "Draft data is loaded correctly with all previously entered data intact and all fields remain editable"
          },
          {
            "step": 7,
            "action": "Modify existing data and add additional information",
            "expectedResult": "Changes are accepted and fields update accordingly"
          },
          {
            "step": 8,
            "action": "Click 'Save as Draft' button again",
            "expectedResult": "Updated draft is saved successfully with confirmation message, same draft ID is retained"
          }
        ],
        "postconditions": [
          "Draft remains in 'Draft' status",
          "All entered data is persisted in ScheduleChangeRequests table",
          "Draft is available for future editing",
          "No submission or approval workflow is triggered"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-002",
        "title": "Validate submission with all mandatory fields completed",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in with Scheduler role",
          "User has access to schedule change request form",
          "User knows all mandatory field requirements",
          "System validation rules are configured correctly"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to schedule change request form or open an existing draft",
            "expectedResult": "Form is displayed with all fields visible and editable"
          },
          {
            "step": 2,
            "action": "Complete all mandatory fields (e.g., employee name, current schedule, proposed schedule, reason, effective date)",
            "expectedResult": "All mandatory fields accept valid data without errors"
          },
          {
            "step": 3,
            "action": "Verify no validation errors are displayed on the form",
            "expectedResult": "No validation errors or warning messages are shown, all mandatory field indicators are satisfied"
          },
          {
            "step": 4,
            "action": "Click 'Submit' button",
            "expectedResult": "System processes the submission without errors"
          },
          {
            "step": 5,
            "action": "Verify the request status",
            "expectedResult": "Request status is updated to 'Pending Approval'"
          },
          {
            "step": 6,
            "action": "Check for confirmation message",
            "expectedResult": "Confirmation message is displayed indicating successful submission with request ID"
          },
          {
            "step": 7,
            "action": "Verify the request appears in submitted requests list",
            "expectedResult": "Request is visible in the submitted requests list with status 'Pending Approval' and correct timestamp"
          }
        ],
        "postconditions": [
          "Request status is 'Pending Approval'",
          "Request is no longer editable by scheduler",
          "Request is available for approver review",
          "All submitted data is persisted in ScheduleChangeRequests table",
          "Draft status (if applicable) is removed"
        ],
        "estimatedTime": "6 mins"
      },
      {
        "id": "tc-003",
        "title": "Validate submission blocked with missing mandatory fields",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in with Scheduler role",
          "User has access to schedule change request form",
          "Mandatory field validation is enabled",
          "Form validation rules are properly configured"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to schedule change request form",
            "expectedResult": "Form is displayed with all fields and mandatory field indicators visible"
          },
          {
            "step": 2,
            "action": "Fill in some fields but intentionally leave one or more mandatory fields empty (e.g., leave 'Reason' field blank)",
            "expectedResult": "Partial data is entered successfully in completed fields"
          },
          {
            "step": 3,
            "action": "Click 'Submit' button",
            "expectedResult": "Submission is blocked and form remains on the same page"
          },
          {
            "step": 4,
            "action": "Verify validation error messages are displayed",
            "expectedResult": "Validation errors are displayed inline next to each empty mandatory field with clear error messages (e.g., 'Reason is required')"
          },
          {
            "step": 5,
            "action": "Verify the request status has not changed",
            "expectedResult": "Request remains in draft status or unsaved state, no 'Pending Approval' status is assigned"
          },
          {
            "step": 6,
            "action": "Attempt to navigate away from the form",
            "expectedResult": "System may display warning about unsaved changes"
          },
          {
            "step": 7,
            "action": "Fill in the previously empty mandatory field",
            "expectedResult": "Field accepts the data and inline error message disappears"
          },
          {
            "step": 8,
            "action": "Click 'Submit' button again",
            "expectedResult": "Submission is successful with confirmation message and status 'Pending Approval'"
          }
        ],
        "postconditions": [
          "Invalid submission attempt is prevented",
          "No incomplete request is created in 'Pending Approval' status",
          "User is informed of required corrections",
          "Data entered in valid fields is retained",
          "After correction, request can be submitted successfully"
        ],
        "estimatedTime": "7 mins"
      }
    ]
  },
  {
    "storyId": "story-9",
    "storyTitle": "As Scheduler, I want to cancel submitted schedule change requests before approval to correct errors or changes",
    "testCases": [
      {
        "id": "tc-004",
        "title": "Validate successful cancellation of pending requests",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in with Scheduler role",
          "At least one schedule change request exists with status 'Pending Approval'",
          "User is the owner of the request to be cancelled",
          "Approvers are assigned to the request",
          "Notification system is operational"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the list of submitted schedule change requests",
            "expectedResult": "List of submitted requests is displayed showing all requests with their current statuses"
          },
          {
            "step": 2,
            "action": "Locate and select a schedule change request with status 'Pending Approval'",
            "expectedResult": "Request details are displayed with status clearly showing 'Pending Approval'"
          },
          {
            "step": 3,
            "action": "Verify that cancellation option is available",
            "expectedResult": "Cancel button or option is visible and enabled for the selected request"
          },
          {
            "step": 4,
            "action": "Click 'Cancel Request' button",
            "expectedResult": "Cancellation confirmation dialog appears asking user to confirm the action"
          },
          {
            "step": 5,
            "action": "Confirm the cancellation action",
            "expectedResult": "System processes the cancellation request within 2 seconds"
          },
          {
            "step": 6,
            "action": "Verify the request status is updated",
            "expectedResult": "Request status is changed to 'Cancelled' and displayed in the request details"
          },
          {
            "step": 7,
            "action": "Check for confirmation message",
            "expectedResult": "Confirmation message is displayed indicating successful cancellation with request ID"
          },
          {
            "step": 8,
            "action": "Verify the cancelled request appears in the requests list with updated status",
            "expectedResult": "Request is visible in the list with status 'Cancelled' and cancellation timestamp"
          },
          {
            "step": 9,
            "action": "Verify notification sent to approvers",
            "expectedResult": "Approvers receive cancellation notification via configured notification channels with request details"
          },
          {
            "step": 10,
            "action": "Attempt to edit or resubmit the cancelled request",
            "expectedResult": "Edit and submit options are disabled or unavailable for cancelled request"
          }
        ],
        "postconditions": [
          "Request status is permanently set to 'Cancelled'",
          "Request is removed from approvers' pending approval queue",
          "Cancellation notification is sent to all assigned approvers",
          "Request cannot be approved or rejected after cancellation",
          "Cancellation action is logged with timestamp and user information"
        ],
        "estimatedTime": "6 mins"
      },
      {
        "id": "tc-005",
        "title": "Validate cancellation prevention for approved requests",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in with Scheduler role",
          "At least one schedule change request exists with status 'Approved'",
          "User is the owner of the approved request",
          "System security rules prevent cancellation of approved requests"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the list of submitted schedule change requests",
            "expectedResult": "List of all submitted requests is displayed with various statuses"
          },
          {
            "step": 2,
            "action": "Locate and select a schedule change request with status 'Approved'",
            "expectedResult": "Request details are displayed with status clearly showing 'Approved'"
          },
          {
            "step": 3,
            "action": "Check for cancellation option availability",
            "expectedResult": "Cancel button is either disabled, hidden, or not present for approved requests"
          },
          {
            "step": 4,
            "action": "If cancel button is visible but disabled, hover over or click the disabled button",
            "expectedResult": "Tooltip or error message is displayed explaining that approved requests cannot be cancelled"
          },
          {
            "step": 5,
            "action": "Attempt to cancel the request through any available means (if technically possible)",
            "expectedResult": "System blocks the cancellation attempt and displays error message such as 'Cannot cancel approved requests'"
          },
          {
            "step": 6,
            "action": "Verify the request status remains unchanged",
            "expectedResult": "Request status remains 'Approved' and no changes are made to the request"
          },
          {
            "step": 7,
            "action": "Repeat steps 2-6 for a request with status 'Rejected'",
            "expectedResult": "Cancellation is also prevented for rejected requests with appropriate error message"
          }
        ],
        "postconditions": [
          "Request status remains 'Approved' or 'Rejected' unchanged",
          "No cancellation notification is sent",
          "Request data integrity is maintained",
          "User is informed that cancellation is not allowed for approved/rejected requests",
          "System security rules are enforced successfully"
        ],
        "estimatedTime": "5 mins"
      }
    ]
  }
]