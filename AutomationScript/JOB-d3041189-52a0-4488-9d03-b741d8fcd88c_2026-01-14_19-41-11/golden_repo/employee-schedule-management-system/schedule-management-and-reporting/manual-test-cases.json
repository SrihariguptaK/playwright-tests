[
  {
    "storyId": "story-8",
    "storyTitle": "As Scheduling Manager, I want to generate reports on shift coverage and scheduling conflicts to improve workforce planning",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Generate shift coverage report successfully",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in as Scheduling Manager with reporting permissions",
          "Employee schedules exist in the system for the selected date range",
          "Reporting module is accessible and functional",
          "Browser supports PDF download functionality"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the reporting section from the main dashboard menu",
            "expectedResult": "Reporting page loads successfully and displays available report options including shift coverage, scheduling conflicts, and other report types"
          },
          {
            "step": 2,
            "action": "Select 'Shift Coverage Report' from the report type dropdown",
            "expectedResult": "Shift coverage report option is selected and date range picker becomes visible"
          },
          {
            "step": 3,
            "action": "Select a date range (e.g., current week or month) using the date picker",
            "expectedResult": "Date range is selected and displayed correctly in the date fields"
          },
          {
            "step": 4,
            "action": "Click the 'Generate Report' button",
            "expectedResult": "System processes the request and generates the report within 5 seconds, displaying shift coverage data including employee names, shift times, coverage percentages, and any gaps"
          },
          {
            "step": 5,
            "action": "Review the generated report on screen for accuracy and completeness",
            "expectedResult": "Report displays accurate shift coverage information with proper formatting, including all scheduled shifts, employee assignments, and coverage statistics for the selected period"
          },
          {
            "step": 6,
            "action": "Click the 'Export to PDF' button",
            "expectedResult": "PDF file is generated and downloaded successfully to the default download location with proper formatting and all report data intact"
          },
          {
            "step": 7,
            "action": "Open the downloaded PDF file",
            "expectedResult": "PDF opens correctly showing the complete shift coverage report with all data, headers, and formatting preserved"
          }
        ],
        "postconditions": [
          "Shift coverage report is generated and visible in the system",
          "PDF file is downloaded and saved to local storage",
          "Report generation activity is logged in the system",
          "User remains on the reporting page ready to generate additional reports"
        ],
        "estimatedTime": "8 mins"
      },
      {
        "id": "tc-002",
        "title": "Identify scheduling conflicts in report",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in as Scheduling Manager with reporting permissions",
          "System contains employee schedules with known scheduling conflicts (e.g., double-booked employees, overlapping shifts, understaffed shifts)",
          "Reporting module is accessible and functional",
          "Test data includes at least 2-3 identifiable scheduling conflicts"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the reporting section from the main dashboard menu",
            "expectedResult": "Reporting page loads successfully and displays available report options"
          },
          {
            "step": 2,
            "action": "Select 'Scheduling Conflicts Report' or 'Shift Coverage Report' from the report type dropdown",
            "expectedResult": "Report type is selected and configuration options are displayed"
          },
          {
            "step": 3,
            "action": "Select a date range that includes the period with known scheduling conflicts",
            "expectedResult": "Date range is selected and displayed correctly in the date fields"
          },
          {
            "step": 4,
            "action": "Click the 'Generate Report' button",
            "expectedResult": "System processes the request and generates the report within 5 seconds"
          },
          {
            "step": 5,
            "action": "Review the conflicts section of the generated report",
            "expectedResult": "Report clearly lists all scheduling conflicts with detailed information including: conflict type (double-booking, overlap, understaffing), affected employees, dates and times, shift details, and severity level. Conflicts are highlighted or marked distinctly for easy identification"
          },
          {
            "step": 6,
            "action": "Verify each listed conflict matches the known conflicts in the test data",
            "expectedResult": "All known conflicts are accurately identified and listed in the report with correct details and no false positives"
          },
          {
            "step": 7,
            "action": "Check that the report provides actionable information for resolving conflicts",
            "expectedResult": "Each conflict entry includes sufficient detail to enable the manager to take corrective action, such as employee names, contact information, and alternative shift options if available"
          }
        ],
        "postconditions": [
          "Scheduling conflicts report is generated and displayed",
          "All conflicts are accurately identified and documented",
          "Report is available for export or further analysis",
          "Manager has clear visibility of scheduling issues requiring resolution"
        ],
        "estimatedTime": "7 mins"
      }
    ]
  },
  {
    "storyId": "story-9",
    "storyTitle": "As Scheduling Manager, I want to send notifications to employees about schedule changes to improve communication",
    "testCases": [
      {
        "id": "tc-003",
        "title": "Send notification on schedule creation",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in as Scheduling Manager with schedule creation permissions",
          "Employee profile exists with valid email address and phone number",
          "Employee notification preferences are set to receive both email and SMS",
          "Notification service is configured and operational",
          "Test email and SMS accounts are accessible for verification"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the schedule management section",
            "expectedResult": "Schedule management page loads successfully with options to create, view, and modify schedules"
          },
          {
            "step": 2,
            "action": "Click the 'Create New Schedule' button",
            "expectedResult": "Schedule creation form is displayed with fields for employee selection, date, shift time, position, and location"
          },
          {
            "step": 3,
            "action": "Select an employee from the dropdown list",
            "expectedResult": "Employee is selected and their details are populated in the form"
          },
          {
            "step": 4,
            "action": "Enter schedule details including date, shift start time, shift end time, and position",
            "expectedResult": "All schedule fields are populated with valid data and no validation errors are displayed"
          },
          {
            "step": 5,
            "action": "Click the 'Save' or 'Create Schedule' button",
            "expectedResult": "Schedule is created successfully, confirmation message is displayed, and notification is automatically triggered within 1 minute"
          },
          {
            "step": 6,
            "action": "Check the employee's email inbox for the schedule notification",
            "expectedResult": "Email notification is received successfully containing schedule details including date, shift times, position, location, and any relevant instructions"
          },
          {
            "step": 7,
            "action": "Check the employee's phone for SMS notification",
            "expectedResult": "SMS notification is received successfully containing key schedule information such as date, shift time, and location"
          },
          {
            "step": 8,
            "action": "Navigate to the notification tracking section in the system",
            "expectedResult": "Notification tracking page loads showing a list of sent notifications"
          },
          {
            "step": 9,
            "action": "Locate the notification entry for the newly created schedule and check its delivery status",
            "expectedResult": "Notification entry is displayed showing 'Delivered' or 'Success' status for both email and SMS channels, with timestamp and recipient details"
          },
          {
            "step": 10,
            "action": "Verify the notification content matches the created schedule details",
            "expectedResult": "Email and SMS content accurately reflects the schedule information entered during creation, with no discrepancies"
          }
        ],
        "postconditions": [
          "New employee schedule is created and saved in the system",
          "Email notification is successfully delivered to employee",
          "SMS notification is successfully delivered to employee",
          "Notification delivery status is tracked and shows successful delivery",
          "Notification log entry is created in the system"
        ],
        "estimatedTime": "10 mins"
      },
      {
        "id": "tc-004",
        "title": "Customize notification message and verify",
        "type": "happy-path",
        "priority": "Medium",
        "preconditions": [
          "User is logged in as Scheduling Manager with notification template management permissions",
          "Default notification templates exist in the system",
          "At least one employee schedule exists that can be updated",
          "Employee has valid contact information and notification preferences enabled",
          "Notification service is configured and operational"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to the notification settings or template management section",
            "expectedResult": "Notification settings page loads successfully displaying available notification templates for different event types (creation, update, deletion)"
          },
          {
            "step": 2,
            "action": "Select the 'Schedule Update' notification template from the list",
            "expectedResult": "Template editor opens showing the current template content with editable fields for subject, body, and variables"
          },
          {
            "step": 3,
            "action": "Modify the notification template message by adding custom text such as 'IMPORTANT: Your schedule has been updated. Please review the changes below.'",
            "expectedResult": "Template text is updated in the editor and changes are visible in the preview pane"
          },
          {
            "step": 4,
            "action": "Verify that template variables (e.g., {employee_name}, {shift_date}, {shift_time}) are properly included",
            "expectedResult": "All necessary variables are present and correctly formatted in the template"
          },
          {
            "step": 5,
            "action": "Click the 'Save Template' button",
            "expectedResult": "Template is saved successfully, confirmation message is displayed, and the updated template is now active for future notifications"
          },
          {
            "step": 6,
            "action": "Navigate to the schedule management section",
            "expectedResult": "Schedule management page loads with list of existing schedules"
          },
          {
            "step": 7,
            "action": "Select an existing employee schedule and click 'Edit'",
            "expectedResult": "Schedule editing form opens with current schedule details populated"
          },
          {
            "step": 8,
            "action": "Modify the schedule by changing the shift time or date",
            "expectedResult": "Schedule fields are updated with new values"
          },
          {
            "step": 9,
            "action": "Click 'Save' to update the schedule",
            "expectedResult": "Schedule is updated successfully and notification is automatically triggered using the customized template"
          },
          {
            "step": 10,
            "action": "Check the employee's email inbox for the schedule update notification",
            "expectedResult": "Email notification is received containing the customized message text 'IMPORTANT: Your schedule has been updated. Please review the changes below.' along with the updated schedule details"
          },
          {
            "step": 11,
            "action": "Verify that all template variables are correctly replaced with actual data",
            "expectedResult": "Employee name, shift date, shift time, and other variables are replaced with actual values from the updated schedule, not showing placeholder text"
          },
          {
            "step": 12,
            "action": "Check the SMS notification if applicable",
            "expectedResult": "SMS notification contains the customized message in abbreviated form appropriate for SMS length constraints"
          }
        ],
        "postconditions": [
          "Notification template is updated and saved in the system",
          "Customized template is active for future notifications",
          "Employee receives notification with customized message content",
          "Schedule update is saved and reflected in the system",
          "Notification delivery is tracked and logged"
        ],
        "estimatedTime": "12 mins"
      }
    ]
  },
  {
    "storyId": "story-10",
    "storyTitle": "As Scheduling Manager, I want to copy existing schedules to new periods to save time in schedule creation",
    "testCases": [
      {
        "id": "tc-001",
        "title": "Copy schedules from one period to another successfully",
        "type": "happy-path",
        "priority": "High",
        "preconditions": [
          "User is logged in as Scheduling Manager with appropriate permissions",
          "Source schedule period exists with at least one employee schedule",
          "Target schedule period exists and is empty or has no conflicting schedules",
          "System is connected to EmployeeSchedules database",
          "POST /api/employeeschedules/copy endpoint is available"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to schedule management section from the main dashboard",
            "expectedResult": "Schedule management page loads successfully displaying available schedule periods"
          },
          {
            "step": 2,
            "action": "Click on 'Copy Schedule' button or option",
            "expectedResult": "Copy UI is displayed with options to select source and target periods"
          },
          {
            "step": 3,
            "action": "Select the source schedule period from the dropdown list (e.g., 'January 2024')",
            "expectedResult": "Source period is selected and highlighted, showing available schedules in that period"
          },
          {
            "step": 4,
            "action": "Select the target schedule period from the dropdown list (e.g., 'February 2024')",
            "expectedResult": "Target period is selected and system begins loading preview of schedules to be copied"
          },
          {
            "step": 5,
            "action": "Review the preview of schedules to be copied displayed on screen",
            "expectedResult": "Schedules are previewed with employee names, shift times, and dates adjusted to target period. No conflict warnings are shown"
          },
          {
            "step": 6,
            "action": "Click 'Confirm Copy' or 'Save' button to execute the copy operation",
            "expectedResult": "System processes the copy request within 5 seconds and displays a success confirmation message"
          },
          {
            "step": 7,
            "action": "Verify the copied schedules appear in the target period",
            "expectedResult": "All schedules from source period are now visible in target period with correct dates and employee assignments"
          }
        ],
        "postconditions": [
          "Schedules are successfully copied to target period",
          "Source period schedules remain unchanged",
          "Target period contains new schedules with adjusted dates",
          "Success confirmation message is displayed to user",
          "System logs the copy operation with timestamp and user details"
        ],
        "estimatedTime": "5 mins"
      },
      {
        "id": "tc-002",
        "title": "Detect conflicts during schedule copy",
        "type": "error-case",
        "priority": "High",
        "preconditions": [
          "User is logged in as Scheduling Manager with appropriate permissions",
          "Source schedule period exists with employee schedules",
          "Target schedule period already contains schedules that will create overlaps or exceed max hours",
          "System validation rules for overlaps and max hours are configured",
          "POST /api/employeeschedules/copy endpoint is available"
        ],
        "steps": [
          {
            "step": 1,
            "action": "Navigate to schedule management section and click on 'Copy Schedule' option",
            "expectedResult": "Copy UI is displayed with source and target period selection options"
          },
          {
            "step": 2,
            "action": "Select a source schedule period that contains schedules (e.g., 'January 2024')",
            "expectedResult": "Source period is selected and available schedules are loaded"
          },
          {
            "step": 3,
            "action": "Select a target schedule period that already has overlapping schedules or would cause max hours violations (e.g., 'March 2024')",
            "expectedResult": "Target period is selected and system begins validation process"
          },
          {
            "step": 4,
            "action": "Review the preview screen that displays the schedules to be copied",
            "expectedResult": "Conflict warnings are displayed in the preview, highlighting specific employees and time slots with overlaps or max hours violations. Warnings include clear descriptions of each conflict"
          },
          {
            "step": 5,
            "action": "Attempt to click 'Confirm Copy' or 'Save' button without resolving conflicts",
            "expectedResult": "Copy operation is blocked and system displays an error message stating 'Cannot copy schedules due to conflicts. Please resolve all conflicts before proceeding.'"
          },
          {
            "step": 6,
            "action": "Verify that the 'Confirm Copy' button remains disabled or shows validation error",
            "expectedResult": "Button is disabled or shows validation error, preventing the copy operation from executing until conflicts are resolved"
          }
        ],
        "postconditions": [
          "No schedules are copied to target period",
          "Source period schedules remain unchanged",
          "Target period schedules remain unchanged",
          "Conflict warnings remain visible on screen",
          "User is informed of specific conflicts that need resolution",
          "System maintains data integrity by preventing invalid schedule copies"
        ],
        "estimatedTime": "4 mins"
      }
    ]
  }
]